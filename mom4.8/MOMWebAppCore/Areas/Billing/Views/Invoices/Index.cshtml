
@{
    ViewData["Title"] = " List Page";
    Layout = "~/Views/Shared/MOMLayout.cshtml";
}

<!--Grid Control-->
<link href="~/MOMUI/Design/css/grid.css" rel="stylesheet" />
<style>
    .InvoicelistTooltip {
        background: #000 none repeat scroll 0 0;
        filter: alpha(opacity=80);
        -moz-opacity: 0.80;
        opacity: 0.80;
        border-radius: 0px !important;
        color: #fff;
        display: none;
        padding: 10px;
        position: absolute;
        width: 300px;
        z-index: 1000;
        margin-top: 120px;
    }

    #overlay {
        position: fixed; /* Sit on top of the page content */
        display: none; /* Hidden by default */
        width: 100%; /* Full width (cover the whole page) */
        height: 100%; /* Full height (cover the whole page) */
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0,0,0,0.5); /* Black background with opacity */
        z-index: 1000000; /* Specify a stack order in case you're using a different order for other elements */
        cursor: pointer; /* Add a pointer on hover */
    }

    .labelButton {
        padding: 5px 10px 5px 10px;
        font-size: 0.9em;
        float: left;
        line-height: 19px !important;
        border-radius: 3px;
        background-color: #1C5FB1 !important;
        color: #fff !important;
        margin: 3px -9px;
        cursor: pointer;
    }
</style>
@*<%--INVOICES GRID--%>*@

<script>


    function opencCeateForm() {
        window.radopen(null, "RadCreateWindow");
    }

    function emailAllConfirm(strName) {
        var mess = "Are you sure you want to send emails to all customers?";

        if (strName !== null && strName !== '') {
            mess = "Are you sure you want to send emails to all " + strName + "?";
        } else {
            mess = "Are you sure you want to send emails to all customers?";
        }

        if (confirm(mess)) { return true; }
        else { return false; }
    }

    function deleteAlert() {
        var invoiceIds = $("[id$='chkSelectSelectCheckBox']:checked").closest("tr").find("[id$='lblRefId']").text();
        var WipInvoice = $("[id$='chkSelectSelectCheckBox']:checked").closest("tr").find("[id$='hdnWipInvoice']").val();
        if (invoiceIds !== "") {
            if (WipInvoice != "0") {
                WipInvWarning();
                return false;
            } else {
                if (!confirm("Are you sure you want to delete invoice #" + invoiceIds)) {
                    return false;
                }
                else {
                    return true;
                }
            }

        }
        else {
            return false;
        }
    }

    function voidAlert() {
        var invoiceIds = $("[id$='chkSelectSelectCheckBox']:checked").closest("tr").find("[id$='lblRefId']").text();
        if (invoiceIds !== "") {
            if (!confirm("Are you sure you want to void invoice #" + invoiceIds)) {
                return false;
            }
            else {
                return true;
            }
        }
        else {
            return false;
        }
    }
    function pageLoad() {
        var grid = $find("#RadGrid_Invoice");
        var columns = grid.get_masterTableView().get_columns();
        for (var i = 0; i < columns.length; i++) {
            columns[i].resizeToFit(false, true);
        }


    }
    function ShowRestoreGridSettingsButton() {
        $("#lbSaveGridSettings").css('display', 'none');
        $("#lbRestoreGridSettings").css('display', 'block');
    }
</script>

<script type="text/javascript">
    //Sys.Application.add_init(appl_init);

    function appl_init() {
        var pgRegMgr = Sys.WebForms.PageRequestManager.getInstance();
        pgRegMgr.add_beginRequest(BlockUI);
        pgRegMgr.add_endRequest(UnblockUI);
    }

    function BlockUI(sender, args) {
        $("#overlay").css('display', 'block');
    }
    function UnblockUI(sender, args) {
        $("#overlay").css('display', 'none');
    }
</script>

<div id="overlay">
    <img src="~/MOMUI/images/wheel.gif" alt="Be patient..." style="position: fixed; margin-top: 25%; margin-left: 50%;" />
</div>

@Html.Hidden("hdnHideDates", "0")

<div class="divbutton-container">
    <div id="divButtons">
        <div id="breadcrumbs-wrapper">
            <header>
                <div class="container row-color-grey">
                    <div class="row">
                        <div class="col s12 m12 l12">
                            <div class="row">
                                <div class="page-title"><i class="mdi-action-payment"></i>&nbsp;Invoice</div>
                                <div class="buttonContainer">
                                    <div ID="pnlGridButtons">
                                        <div class="btnlinks">
                                            <a ID="lnkAddnew" href="@Url.Action("Index","AddInvoice")">Add</a>
                                        </div>
                                        <div class="btnlinks">
                                            <a ID="btnEdit">Edit</a>
                                        </div>
                                        <div class="btnlinks">
                                            <a ID="btnCopy">Copy</a>
                                        </div>
                                        <div class="btnlinks menuAction">
                                            <a onclick="DropdownMenu()" class="dropbtn" style="cursor: pointer;">
                                                Actions
                                            </a>
                                        </div>

                                        <ul id="drpMenu" class="nomgn hideMenu menuList">

                                            <li>
                                                <div class="btnlinks">
                                                    <a ID="btnVoidInvoice" onclick="return voidAlert();">Void</a>
                                                </div>
                                            </li>
                                            <li>
                                                <div class="btnlinks">
                                                    <a ID="lnkDelete" onclick="return deleteAlert();">Delete</a>
                                                </div>
                                            </li>
                                            <li>
                                                <div class="btnlinks">
                                                    <a ID="lnkExcel">Export to Excel</a>
                                                </div>
                                            </li>

                                            <li>
                                                <ul id="dynamicUI" class="dropdown-content">
                                                    <li><a href="InvoiceListingReport.aspx?type=Invoices">Add New Report</a></li>
                                                    <li>
                                                        <a ID="lnkARAging360ReportByLocation" CausesValidation="true" Enabled="true">AR Aging 360 by Location</a>
                                                    </li>
                                                    <li>
                                                        <a ID="lnkARAging360ReportByCust" CausesValidation="true" Enabled="true">AR Aging 360 by Customer</a>
                                                    </li>
                                                    <li>
                                                        <a ID="lnk_EditReportTemplate" CausesValidation="true" Enabled="true">Edit Report Template</a>
                                                    </li>
                                                    <li>
                                                        <a ID="lnkInvoicesReport" CausesValidation="true" Enabled="true">Invoice Summary Report</a>
                                                    </li>
                                                    <li>
                                                        <a ID="lnkInvoicesReportwithPayment" CausesValidation="true" Enabled="true">Invoice with Payment</a>
                                                    </li>
                                                    <li>
                                                        <a ID="lnkARAgingReport" CausesValidation="true" Enabled="true">Customer AR Aging Report</a>
                                                    </li>
                                                    <li>
                                                        <a ID="lnkARAgingReportCust" CausesValidation="true" Enabled="true">Customer AR Aging by Custom</a>
                                                    </li>
                                                    <li>
                                                        <a ID="lnkARAgingReportByLocation" CausesValidation="true" Enabled="true">Location AR Aging Report</a>
                                                    </li>
                                                    <li id="isNoneTS">
                                                        <a ID="lnkARAgingReportDep" CausesValidation="true" Enabled="true">Customer AR Aging by Department</a>
                                                    </li>
                                                    <li>
                                                        <a ID="lnkARAgingReportByTerritory" CausesValidation="true" Enabled="true">Customer AR Aging by Default Salesperson</a>
                                                    </li>
                                                    <li>
                                                        <a ID="lnkCustomerStatement">Customer Statement</a>
                                                    </li>
                                                    <li>
                                                        <a ID="lnkSalesTaxReport" CausesValidation="true" Enabled="true">Sales Tax Summary Report</a>
                                                    </li>
                                                    <li id="isSeco">
                                                        <a ID="lnkSalesTax2Report" CausesValidation="true" Enabled="true">Sales Tax 2 Summary Report</a>
                                                    </li>
                                                    <li>
                                                        <a ID="lnkSalesTaxCollectedReport" CausesValidation="true" Enabled="true">Sales Tax Collected Report</a>
                                                    </li>
                                                    <li>
                                                        <a ID="lnkPrintInvoiceRegister">Invoice Weekly Report</a>
                                                    </li>
                                                    <li>
                                                        <a ID="lnkPrintInvoiceRegisterGL" CausesValidation="true" Enabled="true">Invoice Register GL Report</a>
                                                    </li>
                                                    <li>
                                                        <a ID="lnkInvoiceByRecurringFrequency" CausesValidation="true" Enabled="true">Invoice By Recurring Frequency</a>
                                                    </li>
                                                    <li id="isTS">
                                                        <a ID="lnkARAgingReportByJobType" CausesValidation="true" Enabled="true">AR Aging Report By Department</a>
                                                    </li>
                                                    <li id="Li1">
                                                        <a ID="lnkARAgingReportByLocType" CausesValidation="true" Enabled="true">AR Aging Report By Location Type</a>
                                                    </li>
                                                    <li>
                                                        <a ID="lnkAgedReceivableReport" CausesValidation="true" Enabled="true">Aged Receivable Report</a>
                                                    </li>
                                                    <li>
                                                        <a ID="lnk_InvoiceMaint" CausesValidation="true"
                                                           Enabled="true">Maintenance Report</a>
                                                    </li>
                                                    <li>
                                                        <a ID="lnk_InvoiceException" CausesValidation="true"
                                                           Enabled="true">Exception Report</a>
                                                    </li>

                                                </ul>
                                                <div class="btnlinks" id="LI1pnlGridButtons">
                                                    <a class="dropdown-button" data-beloworigin="true" href="#" data-activates="dynamicUI">
                                                        Reports
                                                    </a>
                                                </div>
                                            </li>
                                            <li>
                                                <ul id="dynamicPDF" class="dropdown-content">
                                                    <li>
                                                        <a ID="lnkPrint" Enabled="true"> <i class="fa fa-file-pdf-o" style="color:red; background-color:transparent" aria-hidden="true"></i>&nbsp;&nbsp; Invoices <i class="fa fa-download" aria-hidden="true" style="background-color:transparent;"></i></a>
                                                    </li>
                                                    <li>
                                                        <a ID="lnkMaintenance" CausesValidation="true" Enabled="true"> <i class="fa fa-file-pdf-o" style="color:red; background-color:transparent" aria-hidden="true"></i>&nbsp;&nbsp; Invoice Maintenance Report &nbsp;&nbsp;<i class="fa fa-download" aria-hidden="true" style="background-color:transparent;"></i></a>
                                                    </li>
                                                    <li>
                                                        <a ID="lnkException" CausesValidation="true"
                                                           Enabled="true"> <i class="fa fa-file-pdf-o" style="color:red; background-color:transparent" aria-hidden="true"></i>&nbsp;&nbsp; Invoice Exception Report &nbsp;&nbsp;<i class="fa fa-download" aria-hidden="true" style="background-color:transparent;"></i></a>
                                                    </li>
                                                    <li>
                                                        <a ID="lnkPDFTI" CausesValidation="true"
                                                           Enabled="true"> <i class="fa fa-file-pdf-o" style="color:red; background-color:transparent" aria-hidden="true"></i>&nbsp;&nbsp; Invoice With Ticket &nbsp;&nbsp;<i class="fa fa-download" aria-hidden="true" style="background-color:transparent;"></i></a>
                                                    </li>
                                                    <li>
                                                        <a ID="lnkAdamMaintenance" CausesValidation="true"
                                                           Enabled="true"> <i class="fa fa-file-pdf-o" style="color:red; background-color:transparent" aria-hidden="true"></i>&nbsp;&nbsp; Maintenance Invoices &nbsp;&nbsp;<i class="fa fa-download" aria-hidden="true" style="background-color:transparent;"></i></a>
                                                    </li>
                                                    <li>
                                                        <a ID="lnkAdamBilling" CausesValidation="true"
                                                           Enabled="true"> <i class="fa fa-file-pdf-o" style="color:red; background-color:transparent" aria-hidden="true"></i>&nbsp;&nbsp; Billing Invoice &nbsp;&nbsp;<i class="fa fa-download" aria-hidden="true" style="background-color:transparent;"></i></a>
                                                    </li>
                                                </ul>
                                                <div class="btnlinks" id="LI2pnlGridButtons">
                                                    <a class="dropdown-button" data-beloworigin="true" href="#!" data-activates="dynamicPDF" id="lnkPdf">
                                                        Invoice
                                                    </a>
                                                </div>
                                            </li>
                                            <li>
                                                <ul id="emailAllUI" class="dropdown-content">
                                                    <li>
                                                        <a ID="lnkMailAll" onclick="return emailAllConfirm('');">
                                                            <i class="fa fa-paper-plane" aria-hidden="true">
                                                            </i>&nbsp;&nbsp; Invoice
                                                        </a>
                                                    </li>
                                                    <li>
                                                        <a ID="lnkInvoiceWithTicketMailAll" onclick="return emailAllConfirm('');"><i class="fa fa-paper-plane" aria-hidden="true"></i>&nbsp;&nbsp; Invoice With Ticket</a>
                                                    </li>
                                                </ul>

                                                <div class="btnlinks" id="ddbMailAll">
                                                    <a class="dropdown-button" data-beloworigin="true" href="#" data-activates="emailAllUI">
                                                        Email All
                                                    </a>
                                                </div>
                                            </li>
                                            <li>
                                                <div class="btnlinks">
                                                    <a ID="lnkRestoreGridSettings" CausesValidation="False">Restore Grid</a>
                                                </div>
                                                <div class="btnlinks">
                                                    <a ID="lnkSaveGridSettings" CausesValidation="False">Save Grid</a>
                                                </div>

                                                <label id="lbSaveGridSettings" class="labelButton" tooltip="Save Grid Settings">
                                                    <input type="radio" id="rdSaveGridSettings" onclick="SaveGridSettings();" />
                                                    Save Grid
                                                </label>
                                                <label id="lbRestoreGridSettings" class="labelButton" tooltip="Restore Default Settings for Grid">
                                                    <input type="radio" id="rdRestoreGridSettings" onclick="RestoreGridSettings();" />
                                                    Restore Grid
                                                </label>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="btnclosewrap">
                                    <a ID="lnkClose" CausesValidation="false">
                                        <i class="mdi-content-clear"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
        </div>

        <div class="container breadcrumbs-bg-custom">
            <div class="row">
                <div class="col s12 m12 l12">
                    <div class="row">
                        <ul class="anchor-links">
                            <li id="liLogs" style="text-align: center;"><a href="#accrdlogs">Email History Log</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="srchpane" style="margin-top: 0;">
            <div class="srchpaneinner" id="srchPanel">
                <div class="srchtitle srchtitlecustomwidth" style="padding-left: 15px;">
                    Date
                </div>
                <div class="srchinputwrap">
                    <input type="text" ID="txtFromDate" class="srchcstm datepicker_mom" />
                </div>
                <div class="srchinputwrap">
                    <input type="text" ID="txtToDate" class="srchcstm datepicker_mom" />
                </div>
                <div class="srchinputwrap tabcontainer">
                    <ul class="tabselect accrd-tabselect" id="testradiobutton">
                        <li>
                            <a AutoPostBack="False" ID="decDate" onclick="dec_date('dec','ctl00_ContentPlaceHolder1_txtToDate','ctl00_ContentPlaceHolder1_txtFromDate','rdCal');return false;"><i class='mdi-hardware-keyboard-arrow-left'></i></a>
                        </li>
                        <li>
                            <label id="lblDay">
                                <input type="radio" id="rdDay" name="rdCal" value="rdDay" onclick="SelectDate('Day')" />
                                Day
                            </label>
                        </li>
                        <li>
                            <label id="lblWeek">
                                <input type="radio" id="rdWeek" name="rdCal" value="rdWeek" onclick="SelectDate('Week')" />
                                Week
                            </label>
                        </li>
                        <li>
                            <label id="lblMonth">
                                <input type="radio" id="rdMonth" name="rdCal" value="rdMonth" onclick="SelectDate('Month')" />
                                Month
                            </label>
                        </li>
                        <li>
                            <label id="lblQuarter">
                                <input type="radio" id="rdQuarter" name="rdCal" value="rdQuarter" onclick="SelectDate('Quarter')" />
                                Quarter
                            </label>
                        </li>
                        <li>
                            <label id="lblYear">
                                <input type="radio" id="rdYear" name="rdCal" value="rdYear" onclick="SelectDate('Year')" />
                                Year
                            </label>
                        </li>
                        <li>
                            <a ID="incDate" onclick="dec_date('inc','ctl00_ContentPlaceHolder1_txtToDate','ctl00_ContentPlaceHolder1_txtFromDate','rdCal');return false"><i class='mdi-hardware-keyboard-arrow-right'></i></a>
                        </li>
                    </ul>
                </div>
                <div class="col lblsz2 lblszfloat">
                    <div class="row">
                        <span class="tro trost">
                            <a ID="lnkClear">Clear </a>
                        </span>
                        <span class="tro trost">
                            <a ID="lnkShowAll">Show All </a>
                        </span>
                        <span class="tro trost">
                            <label ID="lblRecordCount" style="font-size:0.9rem">0 Record(s) found.</label>

                        </span>
                    </div>
                </div>

            </div>

            <div class="srchpaneinner">
                <div class="srchtitle srchtitlecustomwidth" style="padding-left: 15px;">
                    Search
                </div>

                <div class="srchinputwrap">
                    <select ID="ddlSearch" class="browser-default selectst" onchange="showFilterSearchHistory();">
                        <option Value="">Select</option>
                        <option Value="i.ref">Invoice#</option>
                        <option Value="i.fdate">Invoice Date</option>
                        <option Value="l.ID">Location ID</option>
                        <option Value="l.loc">Location</option>
                        <option Value="r.name">Customer</option>
                        <option Value="i.Status">Status</option>
                        <option Value="i.Type">Department</option>
                        <option Value="i.PO">PO</option>
                    </select>
                </div>
                <div class="srchinputwrap">
                    <select ID="ddlDepartment" class="browser-default selectst" style="display: none">
                        <option Value="">:: Select ::</option>
                    </select>
                </div>
                <div class="srchinputwrap">
                    <select ID="ddlStatus" class="browser-default selectst" style="display: none">
                        <option Value="">Select Status</option>
                        <option Value="0">Open</option>
                        <option Value="1">Paid</option>
                        <option Value="2">Voided</option>
                        <option Value="3">Partially Paid</option>
                        <option Value="4">Marked as Pending</option>
                        <option Value="5">Paid by Credit Card</option>
                    </select>


                </div>
                <div class="srchinputwrap">
                    <select ID="ddllocation" class="browser-default selectst" style="display: none">
                        <option Value="">Select</option>
                    </select>
                </div>
                <div class="srchinputwrap">
                    <select ID="ddlUserType" class="browser-default selectst" style="display: none">
                        <option Value="">Select</option>
                        <option Value="0">Office</option>
                        <option Value="1">Field</option>
                        <option Value="2">Customer</option>
                    </select>
                </div>
                <div class="srchinputwrap">
                    <select ID="ddlSuper" class="browser-default selectst" style="display: none">
                        <option Value="">Select</option>
                    </select>
                </div>
                <div class="srchinputwrap pd-negatenw input-field">
                    <input type="text" ID="txtInvDt" class="srchcstm datepicker_mom" style="display: none" />
                </div>
                <div class="srchinputwrap">
                    <input type="text" ID="txtSearch" class="srchcstm" />
                </div>
                <div class="srchinputwrap">
                    @*<telerik:RadComboBox EmptyMessage="Select" RenderMode="Lightweight" ID="ddlpaidunpaid" class="browser-default selectst selectsml" CheckBoxes="true" EnableCheckAllItemsCheckBox="true">
                            <Items>
                                <telerik:RadComboBoxItem Text="Open" Value="0" />
                                <telerik:RadComboBoxItem Text="Paid" Value="1" />
                                <telerik:RadComboBoxItem Text="Partially Paid" Value="3" />
                                <telerik:RadComboBoxItem Text="Void" Value="2" />
                            </Items>

                        </telerik:RadComboBox>*@
                    <span class="rcbInner rcbReadOnly">
                        <input name="ddlpaidunpaid" type="text" class="rcbInput radPreventDecorate rcbEmptyMessage" id="ddlpaidunpaid" value="Select" readonly="readonly" autocomplete="off">
                    </span>
                </div>

                <div class="srchinputwrap">
                    <select ID="ddlPrintOnly" class="browser-default selectst">
                        <option Value="">Select</option>
                    </select>
                </div>


                <div class="srchinputwrap srchclr btnlinksicon">
                    <a ID="lnkSearch" onclick="return validateValue();">
                        <i class="mdi-action-search"></i>
                    </a>
                    <div style="display:none">
                        <a ID="lnkSearchFilter">
                            <i class="mdi-action-search"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="grid_container">
            <div class="form-section-row" style="margin-bottom: 0 !important;">
                <div class="RadGrid RadGrid_Material">


                </div>
            </div>
        </div>

        @*<%--Email Sending Logs--%>*@
        <div class="accordian-wrap">
            <div class="col s12 m12 l12">
                <div class="row">
                    <ul class="collapsible popout collapsible-accordion form-accordion-head" data-collapsible="expandable">
                        <li id="tbLogs">
                            <div id="accrdlogs" class="collapsible-header accrd accordian-text-custom"><i class="mdi-content-content-paste"></i>Email History Log</div>
                            <div class="collapsible-body">
                                <div class="form-content-wrap">
                                    <div class="form-content-pd">
                                        <div class="grid_container">
                                            <div class="form-section-row" style="margin-bottom: 0 !important;">
                                                <div class="RadGrid RadGrid_Material">

                                                </div>
                                            </div>
                                        </div>
                                        <div class="cf"></div>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        @*<%-- $$$$$$$$$$$$ Open Invoices for Payment $$$$   --%>*@
        <br />
        <br />
        <br />
        <br />
        <div ID="pnlPaymentList">
            <div class="grid_container">
                <div class="form-section-row" style="margin-bottom: 0 !important;">
                    <b>&nbsp;Open Invoices for Payment</b>
                    <br />
                    <div>
                        <div class="btnlinks" id="sdfsdf">
                            &nbsp;<a onclick="return SelectedRow('ctl00_ContentPlaceHolder1_RadGrid_PaymentInv','Invoice');"
                                     ID="lnkMakePayment" ValidationGroup="selinv">
                                Credit Card
                            </a>
                        </div>
                        <div class="btnlinks" id="Div1">
                            &nbsp;<a onclick="return SelectedRow('ctl00_ContentPlaceHolder1_RadGrid_PaymentInv','Invoice');"
                                     ID="LinkButton1" ValidationGroup="selinv">
                                ACH
                            </a>
                        </div>

                        <div class="btnlinks" id="Div2">
                            <label ID="Label1" style="color: Black; float: left; margin-right: 10px;">Total Payment Amount:</label>
                        </div>
                        <div class="btnlinks" id="Div3">
                            <input type="text" ID="txtTotalInvoiceAmt" onfocus="this.blur();"
                                   style="font-weight: bold; float: left" Text="$0" />
                        </div>
                        <label ID="lblCountPayment" style="float: right; color: Gray; float: right; margin-right: 10px; font-style: italic;">
                        </label>
                    </div>
                    <div class="grid_container">
                        <div class="form-section-row" style="margin-bottom: 0 !important;">
                            <div class="RadGrid RadGrid_Material">

                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

@Html.Hidden("hdnInvoiceSelectDtRange", "Week")
@Html.Hidden("hdnCssActive", "1")
@Html.Hidden("isShowAll", "0")

<script src="~/MOMUI/Design/js/jquery.inputmask.bundle.min.js" type="text/javascript"></script>
<script type="text/javascript">
    function CssClearLabel() {
        //debugger
        $("#lblDay").removeClass("labelactive");
        $("#lblWeek").removeClass("labelactive");
        $("#lblMonth").removeClass("labelactive");
        $("#lblQuarter").removeClass("labelactive");
        $("#lblYear").removeClass("labelactive");
    }
    function displyDeleteAlert(mesg) {
        noty({
            text: 'These month/year period is closed out. You do not have permission to ' + mesg + ' this record.',
            type: 'warning',
            layout: 'topCenter',
            closeOnSelfClick: false,
            timeout: 5000,
            theme: 'noty_theme_default',
            closable: true
        });
    }
    function VoidedInvoiceInProjectClose() {
        noty({
            text: 'This invoice cannot be voided because the project is not opened. ',
            type: 'warning',
            layout: 'topCenter',
            closeOnSelfClick: false,
            timeout: 5000,
            theme: 'noty_theme_default',
            closable: true
        });
    }
    function EditInvoiceInProjectClose() {
        noty({
            text: 'This invoice cannot be edit because the project is not opened. ',
            type: 'warning',
            layout: 'topCenter',
            closeOnSelfClick: false,
            timeout: 5000,
            theme: 'noty_theme_default',
            closable: true
        });
    }
    function DeleteInvoiceInProjectClose() {
        noty({
            text: 'This invoice cannot be deleted because the project is not opened.',
            type: 'warning',
            layout: 'topCenter',
            closeOnSelfClick: false,
            timeout: 5000,
            theme: 'noty_theme_default',
            closable: true
        });
    }
    function WipInvWarning() {
        noty({
            text: 'This is a WIP invoice please delete from the project screen.',
            type: 'warning',
            layout: 'topCenter',
            closeOnSelfClick: false,
            timeout: 5000,
            theme: 'noty_theme_default',
            closable: true
        });
    }
    function PaidInvWarning() {
        noty({
            text: 'This invoice is not open and can therefore not be voided.',
            type: 'warning',
            layout: 'topCenter',
            closeOnSelfClick: false,
            timeout: 5000,
            theme: 'noty_theme_default',
            closable: true
        });
    }
    function ClosedInvoice(ref) {
        noty({ text: 'Invoice #' + ref + ' is not open and can therefore not be deleted.', type: 'warning', layout: 'topCenter', closeOnSelfClick: false, timeout: 5000, theme: 'noty_theme_default', closable: true });
    }
    function SelectedRow(gridview, message) {
        var grid = $(gridview);
        var cell;
        var cellName;
        if (grid.rows.length > 0) {
            for (i = 1; i < grid.rows.length; i++) {
                cell = grid.rows[i].cells[0];
                cellName = grid.rows[i].cells[1];
                for (j = 0; j < cell.childNodes.length; j++) {
                    if (cell.childNodes[j].type == "checkbox") {
                        if (cell.childNodes[j].checked == true) {
                            return;
                        }
                    }
                }
            }
        }
        alert('Please select ' + message + '.');
        return false;
    }

    function HoverMenutext(row, tooltip, event) {
        var left = event.pageX + (-370) + 'px';
        var top = event.pageY + (-135) + 'px';
        $('#' + tooltip).css({ top: top, left: left }).show();
    }



    $(document).ready(function () {



        $(window).scroll(function () {
            if ($(window).scrollTop() >= 0) {
                $("#divButtons").addClass('fixed-header');
            }
            if ($(window).scrollTop() <= 0) {
                $("#divButtons").removeClass('fixed-header');
            }
        });

        $('#colorNav #dynamicUI li').remove();
        //efficient-&-compact JQuery way
        //$(reports).each(function (index, report) {
        //    var imagePath = null;
        //    if (report.IsGlobal == true) {
        //        imagePath = "images/globe.png";
        //    }
        //    else {
        //        imagePath = "images/blog_private.png";
        //    }
        //    $('#dynamicUI').append('<li><a href="InvoiceListingReport.aspx?reportId=' + report.ReportId + '&reportName=' + report.ReportName + '&type=Invoices"><span> <img src=images/reportfolder.png>  ' + report.ReportName + '</span><div style="clear:both;"></div></a></li>')
        //});

        $('a[href^="#accrd"]').on('click', function (e) {
            e.preventDefault();

            var target = this.hash;
            var $target = $(target);
            if ($(target).hasClass('active') || target == "") {

            }
            else {
                $(target).click();
            }

            $('html, body').stop().animate({
                'scrollTop': $target.offset().top - 125
            }, 900, 'swing');
        });
    });
</script>

<script type="text/javascript">
    function dec_date(select, txtDateTo, txtDateFrom, rdGroup) {
        var select = select;
        var txtDateTo = txtDateTo;
        var txtDateFrom = txtDateFrom;
        var rdGroup = rdGroup;
        var xday;
        var xWeek;
        var xMonth;
        var xYear;
        var xQuarter;
        if (select == "dec") {
            xday = -1;
            xWeek = -7;
            xMonth = -1;
            xQuarter = -3;
            xYear = -1;
        }
        if (select == "inc") {

            xday = 1;
            xWeek = 7;
            xMonth = 1;
            xQuarter = 3;
            xYear = 1;
        }
        var radio = document.getElementsByName(rdGroup); //Client ID of the RadioButtonList1
        var selected = "rd" + $("#hdnInvoiceSelectDtRange").val();
        //for (var i = 0; i < radio.length; i++) {
        //    if (radio[i].checked) { // Checked property to check radio Button check or not
        //        //alert("Radio button having value " + radio[i].value + " was checked."); // Show the checked value
        //        selected = radio[i].value;

        //    }

        //}

        if ($(txtDateFrom).val() == "") {
            return false;
        }
        if (selected == "rd") {
            selected = 'rdWeek';
        }
        if (selected == 'rdDay') {

            //dec the from date
            var tt = $(txtDateFrom).val();

            var date = new Date(tt);
            var newdate = new Date(date);

            newdate.setDate(newdate.getDate() + xday);

            var dd = newdate.getDate();
            var mm = newdate.getMonth() + 1;
            var y = newdate.getFullYear();

            var someFormattedDate = mm + '/' + dd + '/' + y;
            $(txtDateFrom).val(someFormattedDate);
            //dec the to date

            var TT = $(txtDateTo).val();

            var DATE = new Date(TT);
            var NEWDATE = new Date(DATE);

            NEWDATE.setDate(NEWDATE.getDate() + xday);

            var DD = NEWDATE.getDate();
            var MM = NEWDATE.getMonth() + 1;
            var Y = NEWDATE.getFullYear();

            var someFormattedDATE = MM + '/' + DD + '/' + Y;
            $(txtDateTo).val(someFormattedDATE);
        }
        else if (selected == 'rdWeek') {
            //dec the from date
            var tt = $(txtDateFrom).val();

            var date = new Date(tt);
            var newdate = new Date(date);

            newdate.setDate(newdate.getDate() + xWeek);

            var dd = newdate.getDate();
            var mm = newdate.getMonth() + 1;
            var y = newdate.getFullYear();

            var someFormattedDate = mm + '/' + dd + '/' + y;
            $(txtDateFrom).val(someFormattedDate);
            //dec the to date

            var TT = $(txtDateTo).val();

            var DATE = new Date(TT);
            var NEWDATE = new Date(DATE);

            NEWDATE.setDate(NEWDATE.getDate() + xWeek);

            var DD = NEWDATE.getDate();
            var MM = NEWDATE.getMonth() + 1;
            var Y = NEWDATE.getFullYear();

            var someFormattedDATE = MM + '/' + DD + '/' + Y;
            $(txtDateTo).val(someFormattedDATE);
        }
        else if (selected == 'rdMonth') {
            //dec the from date

            Date.isLeapYear = function (year) {
                return (((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0));
            };

            Date.getDaysInMonth = function (year, month) {
                return [31, (Date.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];
            };

            Date.prototype.isLeapYear = function () {
                return Date.isLeapYear(this.getFullYear());
            };

            Date.prototype.getDaysInMonth = function () {
                return Date.getDaysInMonth(this.getFullYear(), this.getMonth());
            };

            Date.prototype.addMonths = function (value) {

                var n = this.getDate();
                this.setDate(1);
                this.setMonth(this.getMonth() + value);
                this.setDate(Math.min(n, this.getDaysInMonth()));
                return this;
            };

            Date.prototype.addMonthsLast = function (value) {

                var n = this.getDate();
                this.setDate(1);
                this.setMonth(this.getMonth() + 1);
                if (this.getDaysInMonth() == 31) {

                    this.setDate(Math.max(n, this.getDaysInMonth()));
                }
                else {
                    this.setDate(Math.min(n, this.getDaysInMonth()));

                }

                return this;
            };

            Date.prototype.addMonthsLastDec = function (value) {

                var n = this.getDate();
                this.setDate(1);
                this.setMonth(this.getMonth() - 1);
                if (this.getDaysInMonth() == 31) {

                    this.setDate(Math.max(n, this.getDaysInMonth()));
                }
                else {
                    this.setDate(Math.min(n, this.getDaysInMonth()));

                }

                return this;
            };
            var tt = $(txtDateFrom).val();

            var date = new Date(tt).toDateString();
            var newdate = new Date(date);

            newdate.addMonths(xMonth);

            var dd = newdate.getDate();
            var mm = newdate.getMonth() + 1;
            var y = newdate.getFullYear();

            var someFormattedDate = mm + '/' + dd + '/' + y;
            $(txtDateFrom).val(someFormattedDate);


            //dec the to date
            if (select == 'dec') {
                var ti = $(txtDateTo).val();
                var date = new Date(ti).toDateString();
                var newdateti = new Date(date);
                newdateti.addMonthsLastDec(xMonth);

                var dd = newdateti.getDate();
                var mm = newdateti.getMonth() + 1;
                var y = newdateti.getFullYear();

                var someFormattedDate = mm + '/' + dd + '/' + y;
                $(txtDateTo).val(someFormattedDate);
            }

            else {
                var ti = $(txtDateTo).val();

                var date = new Date(ti).toDateString();
                var newdateti = new Date(date);
                newdateti.addMonthsLast(xMonth);

                var dd = newdateti.getDate();
                var mm = newdateti.getMonth() + 1;
                var y = newdateti.getFullYear();

                var someFormattedDate = mm + '/' + dd + '/' + y;
                $(txtDateTo).val(someFormattedDate);
            }
        }


        else if (selected == 'rdQuarter') {
            //dec the from date
            var tt = $(txtDateFrom).val();

            var date = new Date(tt);
            var newdate = new Date(date);

            newdate.setMonth(newdate.getMonth() + xQuarter);

            var dd = newdate.getDate();
            var mm = newdate.getMonth() + 1;
            var y = newdate.getFullYear();

            var someFormattedDate = mm + '/' + dd + '/' + y;
            $(txtDateFrom).val(someFormattedDate);
            //dec the to date

            var TT = $(txtDateTo).val();

            var DATE = new Date(TT);
            var NEWDATE = new Date(DATE);

            //decrease date range
            if (select == 'dec') {
                xQuarter = -3;

                if (DATE.getMonth() == 11) {
                    NEWDATE.setDate(NEWDATE.getDate() - 1);
                    NEWDATE.setMonth(NEWDATE.getMonth() + xQuarter);

                }
                else if (DATE.getMonth() == 5) {
                    NEWDATE.setMonth(NEWDATE.getMonth() + xQuarter);
                    NEWDATE.setDate(NEWDATE.getDate() + 1);

                }
                else {
                    NEWDATE.setMonth(NEWDATE.getMonth() + xQuarter);

                }

            }
            else {
                xQuarter = 3;
                NEWDATE.setDate(NEWDATE.getDate() - 1);
                NEWDATE.setMonth(NEWDATE.getMonth() + xQuarter);
                if (NEWDATE.getMonth() == 11 || NEWDATE.getMonth() == 12 || DATE.getMonth() == 11) {
                    NEWDATE.setDate(31);
                } else {
                    if (DATE.getMonth() == 5) { NEWDATE.setDate(NEWDATE.getDate() + 1); }
                    else { NEWDATE.setDate(NEWDATE.getDate()); }

                }
            }
            var DD = NEWDATE.getDate();
            var MM = NEWDATE.getMonth() + 1;
            var Y = NEWDATE.getFullYear();

            var someFormattedDATE = MM + '/' + DD + '/' + Y;
            $(txtDateTo).val(someFormattedDATE);
        }
        else if (selected == 'rdYear') {

            var tt = $(txtDateFrom).val();

            var date = new Date(tt);
            var newdate = new Date(date);

            newdate.setFullYear(newdate.getFullYear() + xYear);

            var dd = newdate.getDate();
            var mm = newdate.getMonth() + 1;
            var y = newdate.getFullYear();

            var someFormattedDate = mm + '/' + dd + '/' + y;
            $(txtDateFrom).val(someFormattedDate);
            //dec the to date

            var TT = $(txtDateTo).val();

            var DATE = new Date(TT);
            var NEWDATE = new Date(DATE);

            NEWDATE.setFullYear(NEWDATE.getFullYear() + xYear);
            var DD = NEWDATE.getDate();
            var MM = NEWDATE.getMonth() + 1;
            var Y = NEWDATE.getFullYear();

            var someFormattedDATE = MM + '/' + DD + '/' + Y;
            $(txtDateTo).val(someFormattedDATE);
        }

        return false;

    }
    function SelectDate(type) {
        $("#lblDay").removeClass("labelactive");
        $("#lblWeek").removeClass("labelactive");
        $("#lblMonth").removeClass("labelactive");
        $("#lblQuarter").removeClass("labelactive");
        $("#lblYear").removeClass("labelactive");
        // debugger
        var type = type;
        var UniqueVal = "hdnInvoiceDate";
        var label = label;
        if (type == 'Day') {
            var todaydate = new Date();
            var day = todaydate.getDate();
            var month = todaydate.getMonth() + 1;
            var year = todaydate.getFullYear();
            var datestring = month + "/" + day + "/" + year;
            $("#txtFromDate").val(datestring);
            $("#txtToDate").val(datestring);
            // $(txtdateTo).value = datestring;
            // $(txtDateFrom).value = datestring;
            $("#lblDay").addClass("labelactive");
            $("#hdnInvoiceSelectDtRange").val("Day");
        }
        if (type == 'Week') {

            Date.prototype.GetFirstDayOfWeek = function () {
                return (new Date(this.setDate(this.getDate() - this.getDay())));
            }

            Date.prototype.GetLastDayOfWeek = function () {
                return (new Date(this.setDate(this.getDate() - this.getDay() + 6)));
            }
            var today = new Date();
            var Firstdate = today.GetFirstDayOfWeek();
            var day = Firstdate.getDate();
            var month = Firstdate.getMonth() + 1;
            var year = Firstdate.getFullYear();
            var datestring = month + "/" + day + "/" + year;
            //$(txtDateFrom).value = datestring;
            $("#txtFromDate").val(datestring);
            var Lastdate = today.GetLastDayOfWeek();
            var day = Lastdate.getDate();
            var month = Lastdate.getMonth() + 1;
            var year = Lastdate.getFullYear();
            var dateString = month + "/" + day + "/" + year;
            //$(txtdateTo).value = dateString;

            $("#txtToDate").val(dateString);
            $("#lblWeek").addClass("labelactive");
            $("#hdnInvoiceSelectDtRange").val("Week");
        }
        if (type == 'Month') {
            var date = new Date(), y = date.getFullYear(), m = date.getMonth();
            var FirstDayOfMonth = new Date(y, m, 1);
            var lastDayOfMonth = new Date(y, m + 1, 0);
            var day = FirstDayOfMonth.getDate();
            var month = FirstDayOfMonth.getMonth() + 1;
            var year = FirstDayOfMonth.getFullYear();
            var datestring = month + "/" + day + "/" + year;
            $("#txtFromDate").val(datestring);
            var day = lastDayOfMonth.getDate();
            var month = lastDayOfMonth.getMonth() + 1;
            var year = lastDayOfMonth.getFullYear();
            var dateString = month + "/" + day + "/" + year;
            $("#txtToDate").val(dateString);
            $("#lblMonth").addClass("labelactive");
            $("#hdnInvoiceSelectDtRange").val("Month");
        }
        if (type == 'Quarter') {
            var d = new Date();
            var quarter = Math.floor((d.getMonth() / 3));
            var firstDate = new Date(d.getFullYear(), quarter * 3, 1);
            var lastDate = new Date(firstDate.getFullYear(), firstDate.getMonth() + 3, 0);
            var day = firstDate.getDate();
            var month = firstDate.getMonth() + 1;
            var year = firstDate.getFullYear();
            var datestring = month + "/" + day + "/" + year;
            $("#txtFromDate").val(datestring);
            var day = lastDate.getDate();
            var month = lastDate.getMonth() + 1;
            var year = lastDate.getFullYear();
            var dateString = month + "/" + day + "/" + year;
            $("#txtToDate").val(dateString);
            $("#lblQuarter").addClass("labelactive");
            $("#hdnInvoiceSelectDtRange").val("Quarter");
        }
        if (type == 'Year') {
            var date = new Date(), y = date.getFullYear(), m = date.getMonth();
            var FirstDayOfYear = new Date(y, 1, 1);
            var lastDayOfYear = new Date(y, 11, 31);
            var day = FirstDayOfYear.getDate();
            var month = FirstDayOfYear.getMonth();
            var year = FirstDayOfYear.getFullYear();
            var datestring = month + "/" + day + "/" + year;
            $("#txtFromDate").val(datestring);
            var day = lastDayOfYear.getDate();
            var month = lastDayOfYear.getMonth() + 1;
            var year = lastDayOfYear.getFullYear();
            var dateString = month + "/" + day + "/" + year;
            $("#txtToDate").val(dateString);
            $("#lblYear").addClass("labelactive");
            $("#hdnInvoiceSelectDtRange").val("Year");
        }

        if (typeof (Storage) !== "undefined") {
            // Store
            localStorage.setItem(UniqueVal, type);
        }
        $("#hdnCssActive").val("CssActive");
        var clickSearchButton = $("#lnkSearchFilter");
        clickSearchButton.click();
        $("#hdnCssActive").val("1");
    }
</script>
<script>

    function showFilterSearchHistory() {
        debugger
        var ddlSearch = $("#ddlSearch");
        var ddlStatus = $("#ddlStatus");
        var ddlDepartment = $("#ddlDepartment");
        var ddllocation = $("#ddllocation");
        var txtSearch = $("#txtSearch");
        var txtInvDt = $("#txtInvDt");
        ddlStatus.css("display", "none");
        ddlDepartment.css("display", "none");
        ddllocation.css("display", "none");
        txtSearch.css("display", "none");
        txtInvDt.css("display", "none");
        txtSearch.val("");
        txtInvDt.val("");




        if (ddlSearch.val() === "i.Type") {
            ddlDepartment.css("display", "block");
        }
        else if (ddlSearch.val() === "i.Status") {
            ddlStatus.css("display", "block");
        }
        else if (ddlSearch.val() === "i.fdate") {
            txtInvDt.css("display", "block");
        }
        else if (ddlSearch.val() === "l.loc") {
            ddllocation.css("display", "block");
        } else {
            txtSearch.css("display", "block");

        }
        try {
            ddlStatus.get(0).selectedIndex = 0;
            ddlDepartment.get(0).selectedIndex = 0;
            ddllocation.get(0).selectedIndex = 0;
        } catch (ex) {

        }
    }
    function ResetValueAll() {
        $("#lblDay").removeClass("labelactive");
        $("#lblWeek").removeClass("labelactive");
        $("#lblMonth").removeClass("labelactive");
        $("#lblQuarter").removeClass("labelactive");
        $("#lblYear").removeClass("labelactive");
        var ddlSearch = $("#ddlSearch");
        var ddlStatus = $("#ddlStatus");
        var ddlDepartment = $("#ddlDepartment");
        var ddllocation = $("#ddllocation");
        var txtSearch = $("#txtSearch");
        var txtInvDt = $("#txtInvDt");
        ddlStatus.css("display", "none");
        ddlDepartment.css("display", "none");
        ddllocation.css("display", "none");
        txtSearch.css("display", "block");
        txtInvDt.css("display", "none");
        txtSearch.val("");
        txtInvDt.val("");
        try {
            ddlSearch.get(0).selectedIndex = 0;
            ddlStatus.get(0).selectedIndex = 0;
            ddlDepartment.get(0).selectedIndex = 0;
            ddllocation.get(0).selectedIndex = 0;
        } catch (ex) { }



        $("#lblWeek").addClass("labelactive");

    }
    function ResetValue() {
        $("#lblDay").removeClass("labelactive");
        $("#lblWeek").removeClass("labelactive");
        $("#lblMonth").removeClass("labelactive");
        $("#lblQuarter").removeClass("labelactive");
        $("#lblYear").removeClass("labelactive");
        var ddlSearch = $("#ddlSearch");
        var ddlStatus = $("#ddlStatus");
        var ddlDepartment = $("#ddlDepartment");
        var ddllocation = $("#ddllocation");
        var txtSearch = $("#txtSearch");
        var txtInvDt = $("#txtInvDt");
        ddlStatus.css("display", "none");
        ddlDepartment.css("display", "none");
        ddllocation.css("display", "none");
        txtSearch.css("display", "block");
        txtInvDt.css("display", "none");
        txtSearch.val("");
        txtInvDt.val("");
        try {
            ddlSearch.get(0).selectedIndex = 0;
            ddlStatus.get(0).selectedIndex = 0;
            ddlDepartment.get(0).selectedIndex = 0;
            ddllocation.get(0).selectedIndex = 0;
        } catch (ex) { }

        SelectDate($("#hdnInvoiceSelectDtRange").val())

    }

    function validateValue() {
        var ddlSearch = $("#ddlSearch");
        var txtSearch = $("#txtSearch");

        if (ddlSearch.val() === "i.ref") {
            var ls = txtSearch.val();

        }
    }
    $(document).ready(function () {

        $('label input[type=radio]').click(function () {
            $('input[name="rdCal"]').each(function () {
                $(this.parentNode).toggleClass('labelactive', this.checked);
            });
        });

    });
    function pageLoad(sender, args) {
        // debugger
        $('label input[type=radio]').click(function () {
            $('input[name="rdCal"]').each(function () {
                $(this.parentNode).toggleClass('labelactive', this.checked);
            });
        });
        $("#txtFromDate").pikaday({
            firstDay: 0,
            format: 'MM/DD/YYYY',
            minDate: new Date(1900, 1, 1),
            maxDate: new Date(2100, 12, 31),
            yearRange: [1900, 2100]
        });
        $("#txtToDate").pikaday({
            firstDay: 0,
            format: 'MM/DD/YYYY',
            minDate: new Date(1900, 1, 1),
            maxDate: new Date(2100, 12, 31),
            yearRange: [1900, 2100]
        });
        $("#txtInvDt").pikaday({
            firstDay: 0,
            format: 'MM/DD/YYYY',
            minDate: new Date(1900, 1, 1),
            maxDate: new Date(2100, 12, 31),
            yearRange: [1900, 2100]
        });
    }
</script>
<script>
    function OnGridCreated(sender, args) {
        //alert('OnGridCreated');
        var frozenScroll = $get(sender.get_id() + "_Frozen");
        var allColumns = sender.get_masterTableView().get_columns();
        var scrollLeftOffset = 0;
        var allColumnsWidth = new Array;
        var grid = sender.get_element();
        for (var i = 0; i < allColumns.length; i++) {
            allColumnsWidth[i] = allColumns[i].get_element().offsetWidth;
        }

        $get(sender.get_id() + "_GridData").onscroll = function (e) {
            for (var i = 0; i < allColumns.length; i++) {
                if (!allColumns[i].get_visible()) {
                    scrollLeftOffset += allColumnsWidth[i];
                }
                if ($telerik.isIE7) {
                    var thisColumn = grid.getElementsByTagName("colgroup")[0].getElementsByTagName("col")[i];
                    if (thisColumn.style.display == "none") {
                        scrollLeftOffset += parseInt(thisColumn.style.width);
                    }
                }
            }
            var thisScrollLeft = this.scrollLeft;
            if (frozenScroll != null) {
                if (thisScrollLeft > 0)
                    frozenScroll.scrollLeft = thisScrollLeft + scrollLeftOffset + 300;
                this.scrollLeft = 0;
            }

            scrollLeftOffset = 0;
        };
    }

    function headerMenuShowing(sender, args) {
        var session = '<%= Session["COPer"] %>';

        var menu = args.get_menu();

        for (var i = 0; i < menu.get_items().get_count(); i++) {
            var item = menu.get_items().getItem(i);
            if (item.get_value() != 'ColumnsContainer') {
                item.get_element().style.display = 'none';
            }
        }

        var columnsItem = menu.findItemByText("Columns");
        columnsItem.get_items().getItem(0).get_element().css('display', 'none');
        // columnsItem.get_items().getItem(1).get_element().style.display = "none";
        // columnsItem.get_items().getItem(2).get_element().style.display = "none";
        if (session != 1) {
            columnsItem.get_items().getItem(7).get_element().css('display', 'none');
        }
    }

    function ColumnSettingsChange(menu, args) {
        $("#lbSaveGridSettings").css('display', 'block');
        $("#lbRestoreGridSettings").css('display', 'none');
    }

    function GridCommand(sender, args) {
        if (args.get_commandName() == "Sort") {
            ColumnSettingsChange();
        }
    }

    function SaveGridSettings() {
        $("#lnkSaveGridSettings").click();
        $("#lbSaveGridSettings").css('display', 'none');
        $("#lbRestoreGridSettings").css('display', 'block');
    }

    function RestoreGridSettings() {
        $("#lnkRestoreGridSettings").click();
        $("#lbRestoreGridSettings").css('display', 'none');
        $("#lbSaveGridSettings").css('display', 'none');
    }





</script>
