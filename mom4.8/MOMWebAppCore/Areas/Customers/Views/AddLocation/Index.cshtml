@{
    ViewData["Title"] = "Add Page";
    Layout = "~/Views/Shared/MOMLayout.cshtml";
}


<!--Grid Control-->

<link href="~/MOMUI/Design/css/grid.css" rel="stylesheet" />
<!--File Upload Control-->
<link href="~/MOMUI/Design/js/plugins/dropify/css/dropify.css" rel="stylesheet" media="screen,projection" />
<script src="~/MOMUI/Design/js/jquery.geocomplete.js"></script>

<script type="text/javascript">
    var countryList = [{ "name": "US", "value": "United States" }, { "name": "CA", "value": "Canada" }, { "name": "AF", "value": "Afghanistan" },
    { "name": "AL", "value": "Albania" }, { "name": "DZ", "value": "Algeria" },
    { "name": "AS", "value": "American Samoa" },
    { "name": "AD", "value": "Andorra" },
    { "name": "AO", "value": "Angola" },
    { "name": "AI", "value": "Anguilla" },
    { "name": "AQ", "value": "Antarctica" },
    { "name": "AG", "value": "Antigua And Barbuda" },
    { "name": "AR", "value": "Argentina" },
    { "name": "AM", "value": "Armenia" },
    { "name": "AW", "value": "Aruba" },
    { "name": "AU", "value": "Australia" },
    { "name": "AT", "value": "Austria" },
    { "name": "AZ", "value": "Azerbaijan" },
    { "name": "BS", "value": "Bahamas" },
    { "name": "BH", "value": "Bahrain" },
    { "name": "BD", "value": "Bangladesh" },
    { "name": "BB", "value": "Barbados" },
    { "name": "BY", "value": "Belarus" },
    { "name": "BE", "value": "Belgium" },
    { "name": "BZ", "value": "Belize" },
    { "name": "BJ", "value": "Benin" },
    { "name": "BM", "value": "Bermuda" },
    { "name": "BT", "value": "Bhutan" },
    { "name": "BO", "value": "Bolivia" },
    { "name": "BA", "value": "Bosnia And Herzegowina" },
    { "name": "BW", "value": "Botswana" },
    { "name": "BV", "value": "Bouvet Island" },
    { "name": "BR", "value": "Brazil" },
    { "name": "IO", "value": "British Indian Ocean Territory" },
    { "name": "BN", "value": "Brunei Darussalam" },
    { "name": "BG", "value": "Bulgaria" },
    { "name": "BF", "value": "Burkina Faso" },
    { "name": "BI", "value": "Burundi" },
    { "name": "KH", "value": "Cambodia" },
    { "name": "CM", "value": "Cameroon" },
    { "name": "CV", "value": "Cape Verde" },
    { "name": "KY", "value": "Cayman Islands" },
    { "name": "CF", "value": "Central African Republic" },
    { "name": "TD", "value": "Chad" },
    { "name": "CL", "value": "Chile" },
    { "name": "CN", "value": "China" },
    { "name": "CX", "value": "Christmas Island" },
    { "name": "CC", "value": "Cocos (Keeling) Islands" },
    { "name": "CO", "value": "Colombia" },
    { "name": "KM", "value": "Comoros" },
    { "name": "CG", "value": "Congo" },
    { "name": "CK", "value": "Cook Islands" },
    { "name": "CR", "value": "Costa Rica" },
    { "name": "CI", "value": "Cote D'Ivoire" },
    { "name": "CU", "value": "Cuba" },
    { "name": "CY", "value": "Cyprus" },
    { "name": "CZ", "value": "Czech Republic" },
    { "name": "DK", "value": "Denmark" },
    { "name": "DJ", "value": "Djibouti" },
    { "name": "DM", "value": "Dominica" },
    { "name": "DO", "value": "Dominican Republic" },
    { "name": "TP", "value": "East Timor" },
    { "name": "EC", "value": "Ecuador" },
    { "name": "EG", "value": "Egypt" },
    { "name": "SV", "value": "El Salvador" },
    { "name": "GQ", "value": "Equatorial Guinea" },
    { "name": "ER", "value": "Eritrea" },
    { "name": "EE", "value": "Estonia" },
    { "name": "ET", "value": "Ethiopia" },
    { "name": "FK", "value": "Falkland Islands (Malvinas)" },
    { "name": "FO", "value": "Faroe Islands" },
    { "name": "FJ", "value": "Fiji" },
    { "name": "FI", "value": "Finland" },
    { "name": "FR", "value": "France" },
    { "name": "GF", "value": "French Guiana" },
    { "name": "PF", "value": "French Polynesia" },
    { "name": "TF", "value": "French Southern Territories" },
    { "name": "GA", "value": "Gabon" },
    { "name": "GM", "value": "Gambia" },
    { "name": "GE", "value": "Georgia" },
    { "name": "DE", "value": "Germany" },
    { "name": "GH", "value": "Ghana" },
    { "name": "GI", "value": "Gibraltar" },
    { "name": "GR", "value": "Greece" },
    { "name": "GL", "value": "Greenland" },
    { "name": "GD", "value": "Grenada" },
    { "name": "GP", "value": "Guadeloupe" },
    { "name": "GU", "value": "Guam" },
    { "name": "GT", "value": "Guatemala" },
    { "name": "GN", "value": "Guinea" },
    { "name": "GW", "value": "Guinea-Bissau" },
    { "name": "GY", "value": "Guyana" },
    { "name": "HT", "value": "Haiti" },
    { "name": "HM", "value": "Heard And Mc Donald Islands" },
    { "name": "VA", "value": "Holy See (Vatican City State)" },
    { "name": "HN", "value": "Honduras" },
    { "name": "HK", "value": "Hong Kong" },
    { "name": "HU", "value": "Hungary" },
    { "name": "IS", "value": "Icel And" },
    { "name": "IN", "value": "India" },
    { "name": "ID", "value": "Indonesia" },
    { "name": "IR", "value": "Iran (Islamic Republic Of)" },
    { "name": "IQ", "value": "Iraq" },
    { "name": "IE", "value": "Ireland" },
    { "name": "IL", "value": "Israel" },
    { "name": "IT", "value": "Italy" },
    { "name": "JM", "value": "Jamaica" },
    { "name": "JP", "value": "Japan" },
    { "name": "JO", "value": "Jordan" },
    { "name": "KZ", "value": "Kazakhstan" },
    { "name": "KE", "value": "Kenya" },
    { "name": "KI", "value": "Kiribati" },
    { "name": "KP", "value": "Korea, Dem People'S Republic" },
    { "name": "KR", "value": "Korea, Republic Of" },
    { "name": "KW", "value": "Kuwait" },
    { "name": "KG", "value": "Kyrgyzstan" },
    { "name": "LA", "value": "Lao People'S Dem Republic" },
    { "name": "LV", "value": "Latvia" },
    { "name": "LB", "value": "Lebanon" },
    { "name": "LS", "value": "Lesotho" },
    { "name": "LR", "value": "Liberia" },
    { "name": "LY", "value": "Libyan Arab Jamahiriya" },
    { "name": "LI", "value": "Liechtenstein" },
    { "name": "LT", "value": "Lithuania" },
    { "name": "LU", "value": "Luxembourg" },
    { "name": "MO", "value": "Macau" },
    { "name": "MK", "value": "Macedonia" },
    { "name": "MG", "value": "Madagascar" },
    { "name": "MW", "value": "Malawi" },
    { "name": "MY", "value": "Malaysia" },
    { "name": "MV", "value": "Maldives" },
    { "name": "ML", "value": "Mali" },
    { "name": "MT", "value": "Malta" },
    { "name": "MH", "value": "Marshall Islands" },
    { "name": "MQ", "value": "Martinique" },
    { "name": "MR", "value": "Mauritania" },
    { "name": "MU", "value": "Mauritius" },
    { "name": "YT", "value": "Mayotte" },
    { "name": "MX", "value": "Mexico" },
    { "name": "FM", "value": "Micronesia, Federated States" },
    { "name": "MD", "value": "Moldova, Republic Of" },
    { "name": "MC", "value": "Monaco" },
    { "name": "MN", "value": "Mongolia" },
    { "name": "MS", "value": "Montserrat" },
    { "name": "MA", "value": "Morocco" },
    { "name": "MZ", "value": "Mozambique" },
    { "name": "MM", "value": "Myanmar" },
    { "name": "NA", "value": "Namibia" },
    { "name": "NR", "value": "Nauru" },
    { "name": "NP", "value": "Nepal" },
    { "name": "NL", "value": "Netherlands" },
    { "name": "AN", "value": "Netherlands Ant Illes" },
    { "name": "NC", "value": "New Caledonia" },
    { "name": "NZ", "value": "New Zealand" },
    { "name": "NI", "value": "Nicaragua" },
    { "name": "NE", "value": "Niger" },
    { "name": "NG", "value": "Nigeria" },
    { "name": "NU", "value": "Niue" },
    { "name": "NF", "value": "Norfolk Island" },
    { "name": "MP", "value": "Northern Mariana Islands" },
    { "name": "NO", "value": "Norway" },
    { "name": "OM", "value": "Oman" },
    { "name": "PK", "value": "Pakistan" },
    { "name": "PW", "value": "Palau" },
    { "name": "PA", "value": "Panama" },
    { "name": "PG", "value": "Papua New Guinea" },
    { "name": "PY", "value": "Paraguay" },
    { "name": "PE", "value": "Peru" },
    { "name": "PH", "value": "Philippines" },
    { "name": "PN", "value": "Pitcairn" },
    { "name": "PL", "value": "Poland" },
    { "name": "PT", "value": "Portugal" },
    { "name": "PR", "value": "Puerto Rico" },
    { "name": "QA", "value": "Qatar" },
    { "name": "RE", "value": "Reunion" },
    { "name": "RO", "value": "Romania" },
    { "name": "RU", "value": "Russian Federation" },
    { "name": "RW", "value": "Rwanda" },
    { "name": "KN", "value": "Saint K Itts And Nevis" },
    { "name": "LC", "value": "Saint Lucia" },
    { "name": "VC", "value": "Saint Vincent, The Grenadines" },
    { "name": "WS", "value": "Samoa" },
    { "name": "SM", "value": "San Marino" },
    { "name": "ST", "value": "Sao Tome And Principe" },
    { "name": "SA", "value": "Saudi Arabia" },
    { "name": "SN", "value": "Senegal" },
    { "name": "SC", "value": "Seychelles" },
    { "name": "SL", "value": "Sierra Leone" },
    { "name": "SG", "value": "Singapore" },
    { "name": "SK", "value": "Slovakia (Slovak Republic)" },
    { "name": "SI", "value": "Slovenia" },
    { "name": "SB", "value": "Solomon Islands" },
    { "name": "SO", "value": "Somalia" },
    { "name": "ZA", "value": "South Africa" },
    { "name": "GS", "value": "South Georgia , S Sandwich Is." },
    { "name": "ES", "value": "Spain" },
    { "name": "LK", "value": "Sri Lanka" },
    { "name": "SH", "value": "St. Helena" },
    { "name": "PM", "value": "St. Pierre And Miquelon" },
    { "name": "SD", "value": "Sudan" },
    { "name": "SR", "value": "Suri" },
    { "name": "SJ", "value": "Svalbard, Jan Mayen Islands" },
    { "name": "SZ", "value": "Sw Aziland" },
    { "name": "SE", "value": "Sweden" },
    { "name": "CH", "value": "Switzerland" },
    { "name": "SY", "value": "Syrian Arab Republic" },
    { "name": "TW", "value": "Taiwan" },
    { "name": "TJ", "value": "Tajikistan" },
    { "name": "TZ", "value": "Tanzania, United Republic Of" },
    { "name": "TH", "value": "Thailand" },
    { "name": "TG", "value": "Togo" },
    { "name": "TK", "value": "Tokelau" },
    { "name": "TO", "value": "Tonga" },
    { "name": "TT", "value": "Trinidad And Tobago" },
    { "name": "TN", "value": "Tunisia" },
    { "name": "TR", "value": "Turkey" },
    { "name": "TM", "value": "Turkmenistan" },
    { "name": "TC", "value": "Turks And Caicos Islands" },
    { "name": "TV", "value": "Tuvalu" },
    { "name": "UG", "value": "Uganda" },
    { "name": "UA", "value": "Ukraine" },
    { "name": "AE", "value": "United Arab Emirates" },
    { "name": "GB", "value": "United Kingdom" },
    { "name": "UM", "value": "United States Minor Is." },
    { "name": "UY", "value": "Uruguay" },
    { "name": "UZ", "value": "Uzbekistan" },
    { "name": "VU", "value": "Vanuatu" },
    { "name": "VE", "value": "Venezuela" },
    { "name": "VN", "value": "Viet Nam" },
    { "name": "VG", "value": "Virgin Islands (British)" },
    { "name": "VI", "value": "Virgin Islands (U.S.)" },
    { "name": "WF", "value": "Wallis And Futuna Islands" },
    { "name": "EH", "value": "Western Sahara" },
    { "name": "YE", "value": "Yemen" },
    { "name": "YU", "value": "Yugoslavia" },
    { "name": "ZR", "value": "Zaire" },
    { "name": "ZM", "value": "Zambia" }
    ];
    function CheckDeleteOpp() {
        var result = false;
        $("#RadGrid_Opportunity tr").each(function () {
            var checkBox = $(this).find("input[type='checkbox']");
            if (checkBox.is(":checked")) {
                result = true;
            }
        });

        if (result == true) {
            return confirm('Do you really want to delete this Opportunity ?');
        }
        else {
            alert('Please select an Opportunity to delete.')
            return false;
        }
    }

    $(function () {
        $("#txtAddress").geocomplete({
            map: false,
            details: "#divmain",
            types: ["geocode", "establishment"],
            address: "#txtAddress",
            city: "#txtCity",
            state: "#txtState",
            zip: "#txtZip",
            lat: "#lat",
            lng: "#lng"
        }).bind("geocode:result", function (event, result) {

            var countryCode = "", city = "", cityAlt = "", getCountry = "";
            for (var i = 0; i < result.address_components.length; i++) {

                var addr = result.address_components[i];

                if (addr.types[0] == "country")
                    getCountry = addr.short_name;
                if (addr.types[0] == "locality")
                    city = addr.long_name;
                if (addr.types[0] == "administrative_area_level_1")
                    cityAlt = addr.short_name;
                if (addr.types[0] == "postal_code")
                    countryCode = addr.long_name;
            }

            $("#txtCountry").val(getCountry);
            $("#txtState").val(cityAlt);
            $("#txtZip").val(countryCode);
            $("#txtCity").val(city);

            Materialize.updateTextFields();


            ChkAddress();
        });

        initialize();

    });

    $(function () {
        $("#GCtxtAddress").geocomplete({
            map: false,
            details: "#divmain",
            types: ["geocode", "establishment"],
            address: "#GCtxtAddress",
            city: "#GCtxtcity",
            state: "#GCtxtState",
            zip: "#GCtxtPostalCode"
        }).bind("geocode:result", function (event, result) {


            var countryCode = "", city = "", cityAlt = "", getCountry = "";
            for (var i = 0; i < result.address_components.length; i++) {

                var addr = result.address_components[i];

                if (addr.types[0] == "country")
                    getCountry = addr.short_name;
                if (addr.types[0] == "locality")
                    city = addr.long_name;
                if (addr.types[0] == "administrative_area_level_1")
                    cityAlt = addr.short_name;
                if (addr.types[0] == "postal_code")
                    countryCode = addr.long_name;
            }
            //if (cityAlt.length > 2)
            //        for (var i = 0; i < result.address_components.length; i++) {
            //       var addr = result.address_components[i];
            //            if (addr.types[0] == 'administrative_area_level_2')
            //                cityAlt = addr.short_name;
            //   }
            $("#GCtxtCountry").val(getCountry);
            $("#GCtxtPostalCode").val(countryCode);
            $("#GCtxtState").val(cityAlt);
            $("#GCtxtcity").val(city);
            Materialize.updateTextFields();
        });

    });

    $(function () {
        $("#HotxtAddress").geocomplete({
            map: false,
            details: "#divmain",
            types: ["geocode", "establishment"],
            address: "#HotxtAddress",
            city: "#hotxtcity",
            state: "#hottxtstate",
            zip: "#hotxtZIP"
        }).bind("geocode:result", function (event, result) {

            var countryCode = "", city = "", cityAlt = "", getCountry = "";
            for (var i = 0; i < result.address_components.length; i++) {

                var addr = result.address_components[i];

                if (addr.types[0] == "country")
                    getCountry = addr.short_name;
                if (addr.types[0] == "locality")
                    city = addr.long_name;
                if (addr.types[0] == "administrative_area_level_1")
                    cityAlt = addr.short_name;
                if (addr.types[0] == "postal_code")
                    countryCode = addr.long_name;
            }
            //if (cityAlt.length > 2)
            //        for (var i = 0; i < result.address_components.length; i++) {
            //       var addr = result.address_components[i];
            //            if (addr.types[0] == 'administrative_area_level_2')
            //                cityAlt = addr.short_name;
            //   }
            $("#hotxtCountry").val(getCountry);
            $("#hotxtZIP").val(countryCode);
            $("#hottxtstate").val(cityAlt);
            $("#hotxtcity").val(city);
            Materialize.updateTextFields();
        });
    });

    $(function () {
        $("#txtBillAdd").geocomplete({
            map: false,
            details: "#divmain",
            types: ["geocode", "establishment"],
            address: "#txtBillAdd",
            city: "#txtBillCity",
            state: "#txtBillState",
            zip: "#txtBillZip"
        }).bind("geocode:result", function (event, result) {

            var countryCode = "", city = "", cityAlt = "", getCountry = "";
            for (var i = 0; i < result.address_components.length; i++) {

                var addr = result.address_components[i];

                if (addr.types[0] == "country")
                    getCountry = addr.short_name;
                if (addr.types[0] == "locality")
                    city = addr.long_name;
                if (addr.types[0] == "administrative_area_level_1")
                    cityAlt = addr.short_name;
                if (addr.types[0] == "postal_code")
                    countryCode = addr.long_name;
            }
            //if (cityAlt.length > 2)
            //    for (var i = 0; i < result.address_components.length; i++) {
            //        var addr = result.address_components[i];
            //        if (addr.types[0] == 'administrative_area_level_2')
            //            cityAlt = addr.short_name;
            //    }
            $("#drpBillCountry").val(getCountry);
            $("#txtBillZip").val(countryCode);
            $("#txtBillState").val(cityAlt);
            $("#txtBillCity").val(city);
            Materialize.updateTextFields();
        });
    });



    function pageLoad() {

        ///////////// Ajax call for txtContcName auto search ////////////////////

        var struid = $("#hdnPatientId").val();
        function dtaaon() {
            this.prefixText = null;
            this.con = null;
            this.custID = null;
            this.LocID = null;
            this.JobId = null;
        }
        $("[id*=txtContcName]").autocomplete({

            source: function (request, response) {
                var dtaaa = new dtaaon();
                dtaaa.prefixText = request.term;
                dtaaa.custID = 0;
                dtaaa.LocID = 0;
                dtaaa.JobId = 0;
                if (struid != "") {
                    dtaaa.custID = struid;
                    dtaaa.LocID = 0;
                    dtaaa.JobId = 0;
                }
                query = request.term;
                $.ajax({
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    url: "CustomerAuto.asmx/GetContactAutojquery",
                    data: JSON.stringify(dtaaa),
                    dataType: "json",
                    async: true,
                    success: function (data) {
                        response($.parseJSON(data.d));
                    },
                    error: function (result) {
                        alert("Due to unexpected errors we were unable to load customers");
                    }

                });
            },
            select: function (event, ui) {
                $("#txtContcName").val(ui.item.fDesc);
                $("#txtTitle").val(ui.item.Title);
                $("#txtContPhone").val(ui.item.Phone);
                $("#txtContFax").val(ui.item.Fax);
                $("#txtContCell").val(ui.item.Cell);
                $("#txtContEmail").val(ui.item.Email);
                return false;
            },
            focus: function (event, ui) {
                return false;
            },
            minLength: 0,
            delay: 250
        }).bind('click', function () { $(this).autocomplete("search"); })
        $.each($(".Contact-search"), function (index, item) {
            $(item).data("autocomplete")._renderItem = function (ul, item) {

                var result_item = item.fDesc;
                var result_desc = item.Title + ',' + item.Phone;

                var x = new RegExp('\\b' + query, 'ig'); // notice the escape \ here...

                result_item = result_item.replace(x, function (FullMatch, n) {
                    return '<span class="highlight">' + FullMatch + '</span>'
                });

                if (result_desc != null) {
                    result_desc = result_desc.replace(x, function (FullMatch, n) {
                        return '<span class="highlight">' + FullMatch + '</span>'
                    });
                }

                return $("<li></li>")

                    .data("item.autocomplete", item)
                    .append("<a>" + result_item + ", <span style='color:Gray;'>" + result_desc + "</span></a>")
                    .appendTo(ul);

            };
        });



        //////////////////////////////////

        ////////End

        $addHandler($get("showModalPopupClientButton"), 'click', showModalPopupViaClient);
        $addHandler($get("A1"), 'click', hideModalPopupViaClientCust);

        var query = "";
        function dtaa() {
            this.prefixText = null;
            this.con = null;
            this.custID = null;
        }
        $("[id*=txtContact]").autocomplete({
            source: function (request, response) {
                var dtaaa = new dtaa();
                dtaaa.prefixText = request.term;
                query = request.term;
                $.ajax({
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    url: "CustomerAuto.asmx/getAlertContact",
                    data: JSON.stringify(dtaaa),
                    dataType: "json",
                    async: true,
                    success: function (data) {
                        response($.parseJSON(data.d));
                    },

                    error: function (XMLHttpRequest, textStatus, errorThrown) {
                        var err = eval("(" + XMLHttpRequest.responseText + ")");
                        alert(err.Message);
                    }
                });
            },
            select: function (event, ui) {
                var txtContact = this.id;
                var hdnsid = $(txtContact.replace('txtContact', 'hdnsid'));
                var hdnsname = $(txtContact.replace('txtContact', 'hdnsname'));
                $(hdnsid).val(ui.item.screenid);
                $(hdnsname).val(ui.item.screenname);
                $(this).val(ui.item.name);
                return false;
            },
            focus: function (event, ui) {
                return false;
            },
            minLength: 0,
            delay: 250
        })
            .bind('click', function () { $(this).autocomplete("search"); })
        $.each($(".contactsearch"), function (index, item) {
            $(item).data("autocomplete")._renderItem = function (ul, item) {
                var result_item = item.name;
                var result_desc = "Email: " + item.email + " Text: " + item.pager;
                var x = new RegExp('\\b' + query, 'ig'); // notice the escape \ here...
                result_item = result_item.replace(x, function (FullMatch, n) {
                    return '<span class="highlight">' + FullMatch + '</span>'
                });
                return $("<li></li>")
                    .data("item.autocomplete", item)
                    .append("<a>" + result_item + ", <span style='color:gray;'>" + result_desc + "</span></a>")
                    .appendTo(ul);
            };
        });

    }

    function hideModalPopupViaClientCust(ev) {
        ev.preventDefault();
        var modalPopupBehavior = $find('PMPBehaviour');
        modalPopupBehavior.hide();
    }

    function hideModalPopupViaClient(ev) {
        ev.preventDefault();
        var modalPopupBehavior = $find('programmaticModalPopupBehavior');
        modalPopupBehavior.hide();
    }
    function ace_itemSelected(sender, e) {

        var hdnPatientId = $("#hdnPatientId").val();
        hdnPatientId = e.get_value();
        $("#ddlCustomer").val(hdnPatientId);
        $("#btnSelectCustomer").click();
    }
    function dispWarningContract() {

        noty({
            text: 'You cannot select the \'Combined on One Invoice\', As there are No Contracts added yet.',
            type: 'warning',
            layout: 'topCenter',
            closeOnSelfClick: false,
            timeout: 5000,
            theme: 'noty_theme_default',
            closable: true
        });
    }
    $(document).ready(function () {
        $("#txtCustomer").keyup(function (event) {
            var hdnPatientId = $("#hdnPatientId").val();
            hdnPatientId = "";
        });

        $("#txtAddress").keyup(function (ev) {
            //                if (event.which != 27 && event.which != 37 && event.which != 38 && event.which != 39 && event.which != 40 && event.which != 13) {
            if ((e.which >= 46 && e.which <= 90) || (e.which >= 96 && e.which <= 105) || (e.which >= 186 && e.which <= 222) || e.which == 8) {
                var txtLat = $("#lat").val();
                var txtLng = $("#lng").val();
                txtLat = "";
                txtLng = "";
            }
        });

        $("#mapLink").click(function () {
            $("#map").toggle();
            initialize();
        });

    });

    function ChkCustomer(sender, args) {
        var hdnPatientId = $("#hdnPatientId").val();
        if (hdnPatientId == "") {
            args.IsValid = false;
        }
    }



    function getCountrybyValue(selectedVal) {
        for (var i = 0; i < countryList.length; i++) {
            var obj = countryList[i];
            if (obj.value == selectedVal)
                return obj.name;
        }
    }

    function getCountrybyName(selectedVal) {
        for (var i = 0; i < countryList.length; i++) {
            var obj = countryList[i];
            if (obj.name == selectedVal)
                return obj.name;
        }
    }

    function ChkAddress() {

        var txtBillAdd = $("#txtBillAdd").val();
        var txtBillCity = $("#txtBillCity").val();

        var drpBillCountry = $("#drpBillCountry").val();
        var ddlBillState = $("#txtBillState").val();

        var txtBillZip = $("#txtBillZip").val();

        var txtAddress = $("#txtAddress").val();
        var txtCity = $("#txtCity").val();

        var ddlState = $("#txtState").val();
        var ddlCountry = $("#txtCountry").val();
        var txtZip = $("#txtZip").val();

        var chkAdd = $("#chkAddress").val();

        if (chkAdd.prop('checked', true)) {
            txtBillAdd = txtAddress;
            txtBillCity = txtCity;
            ddlBillState = ddlState;
            var countryName = getCountrybyValue(ddlCountry);
            if (countryName === undefined || countryName === "") {
                drpBillCountry = getCountrybyName(ddlCountry);

            } else {
                drpBillCountry = countryName;
            }

            txtBillZip = txtZip;
            var chkCust = $("#chkCustomerAddress").val();
            chkCust.prop('checked', false);

        }
        Materialize.updateTextFields();
    }

    function ChkCustomerAddress() {
        var txtBillAdd = $("#txtBillAdd").val();
        var txtBillCity = $("#txtBillCity").val();

        var ddlBillState = $("#txtBillState").val();
        var txtBillZip = $("#txtBillZip").val();

        var txtAddress = $("#txtAddress").val();
        var txtCity = $("#hdnCustomerCity").val();
        var ddlState = $("#hdnCustomerState").val();
        var txtZip = $("#hdnCustomerZipCode").val();

        var chkAdd = $("#chkCustomerAddress").val();
        var CustomerAddress = $("#hdnCustomerAddress").val();
        var CustomerCountry = $("#hdnCustomerCountry").val();
        var drpBillCountry = $("#drpBillCountry").val();
        if (chkAdd.prop('checked', true)) {

            txtBillAdd = CustomerAddress;
            txtBillCity = txtCity;
            ddlBillState = ddlState;
            txtBillZip = txtZip;
            drpBillCountry = getCountrybyName(CustomerCountry);
            var chklocAdd = $("#chkAddress").val();
            chklocAdd.prop('checked', false);

        }
        Materialize.updateTextFields();
    }


    function initialize() {
        var address = new google.maps.LatLng($("#lat").val(), $("#lng").val());
        var marker;
        var map;
        var mapOptions = {
            zoom: 13,
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            center: address,

        };

        map = new google.maps.Map($("#map"),
            mapOptions);

        marker = new google.maps.Marker({
            map: map,
            draggable: false,
            position: address
        });
    }

    ////////////////// Confirm Document Upload ////////////////////
    function ConfirmUpload(value) {
        var filename;
        var fullPath = value;
        if (fullPath) {
            var startIndex = (fullPath.indexOf('\\') >= 0 ? fullPath.lastIndexOf('\\') : fullPath.lastIndexOf('/'));
            filename = fullPath.substring(startIndex);
            if (filename.indexOf('\\') === 0 || filename.indexOf('/') === 0) {
                filename = filename.substring(1);
            }
        }

        if (confirm('Upload ' + filename + '?')) { $("#lnkUploadDoc").click(); }
        else { $("#lnkPostback").click(); }
    }

    function checkdelete() {
        //return SelectedRowDelete("#RadGrid_Documents.ClientID %>', 'file');
    }

    function editticket() {
        $("#RadGrid_OpenCalls").find('tr:not(:first,:last)').each(function () {
            var $tr = $(this);
            $tr.find('input[type="checkbox"]:checked').each(function (index, value) {
                var ticket = $tr.find('span[id*=lblTicketId]').text();
                var comp = $tr.find('span[id*=lblComp]').text();
                var url = "addticket.aspx?id=" + ticket + "&comp=" + comp;
                window.open(url, '_blank');
            });
        });
    }

    function NotApplyServiceTypeRule() {
        noty({ text: 'This location has multiple service contracts and cannot be updated automatically. Please update the service type manually in the recurring contract screen!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 10000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
    }

    function ApplyServiceTypeRule() {

        var hdnservice = $("#hdnApplyServiceTypeRule").val();

        if (hdnservice != "0") {

            var NK = false;

            NK = confirm(' This change will update projects/recurring contracts #' + $("#hdnProjectaregoingtoUpdate").val() + '. Would you like the system to update?');

            if (!NK) { hdnservice.val("0"); }
        }
    }


    function AlertSageIDUpdate() {
        var str = validateBilling()
        if (str != "") {
            noty({
                text: str,
                type: 'warning',
                layout: 'topCenter',
                closeOnSelfClick: false,
                timeout: 4000,
                theme: 'noty_theme_default',
                closable: true
            });
            return false;
        } else {
            var hdnAcctID = $("#hdnAcctID").val();
            var txtAcctno = $("#txtAcctno").val();
            var hdnSageIntegration = $("#hdnSageIntegration").val();
            var ret = true;
            if (hdnSageIntegration == "1") {
                if ('<%=ViewState["mode"].ToString()  %>' == "1") {
                    if (hdnAcctID != txtAcctno) {
                        ret = confirm('Account # edited, this will create a new Job in Sage and make existing inactive. Do you want to continue?');
                    }
                }
            }
            // return ret;
            //confirmation for GC and Homeowner
            if (ret) { ret = ConfirmGCAdd(); }
            return ret
        }

    }

    function checkMaxLength(textarea, evt, maxLength) {
        if ($("#hdnSageIntegration").val("1")) {
            var lines = textarea.value.split("\n");
            for (var i = 0; i < lines.length; i++) {
                if (lines[i].length <= 30) continue;
                var j = 0; space = 30;
                while (j++ <= 30) {
                    if (lines[i].charAt(j) === " ") space = j;
                }
                lines[i + 1] = lines[i].substring(space + 1) + (lines[i + 1] || "");
                lines[i] = lines[i].substring(0, space);
            }
            textarea.value = lines.slice(0, 2).join("\n");
            $("#spnAddress").fadeIn('slow', function () {
                $(this).delay(500).fadeOut('slow');
            });
        }
    }
    //////////////// To make textbox value decimal ///////////////////////////
    function isDecimalKey(el, evt) {
        var charCode = (evt.which) ? evt.which : event.keyCode;

        if (charCode == 45) {
            return true;
        }

        var number = el.value.split('.');
        if (charCode != 46 && charCode > 31 && (charCode < 48 || charCode > 57)) {
            return false;
        }

        if (number.length > 1 && charCode == 46) {
            return false;
        }
        var caratPos = getSelectionStart(el);
        var dotPos = el.value.indexOf(".");
        if (caratPos > dotPos && dotPos > -1 && (number[1].length > 1)) {
            return false;
        }
        return true;
    }
    function getSelectionStart(o) {
        if (o.createTextRange) {
            var r = document.selection.createRange().duplicate()
            r.moveEnd('character', o.value.length)
            if (r.text == "") return o.value.length
            return o.value.lastIndexOf(r.text)
        } else return o.selectionStart
    }
    function ConvertDigit(obj) {

        if (!isNaN(parseFloat($(obj.id).value))) {
            //document.getElementById(obj.id).value = parseFloat(document.getElementById(obj.id).value).toFixed(2);
            $(obj.id).value = parseFloat($(obj.id).value).toFixed(2);
        }
    }
    function AddNewCOntact(textbox) {
        ////alert(textbox);
        //var add = $(textbox).closest('table').closest('tr').prev().prev().children("td.addbutton1").attr('id');
        //alert(add);
        //$(add).click();
    }

    //////////////// Confirm Edit Location ///////////////////
    function notyConfirm() {
        noty({
            dismissQueue: true,
            layout: 'topCenter',
            theme: 'noty_theme_default',
            animateOpen: { height: 'toggle' },
            animateClose: { height: 'toggle' },
            easing: 'swing',
            text: 'Do you want to further edit the location?',
            type: 'alert',
            speed: 500,
            timeout: false,
            closeButton: false,
            closeOnSelfClick: true,
            closeOnSelfOver: false,
            force: false,
            onShow: false,
            onShown: false,
            onClose: false,
            onClosed: false,
            buttons: [
                {
                    type: 'btn btn-primary', text: 'Ok', click: function ($noty) {
                        $noty.close();
                        window.location.href = "addlocation.aspx?uid=" + $("#hdnAddedLoc").val();

                    }
                },
                {
                    type: 'btn btn-danger', text: 'Cancel', click: function ($noty) {
                        $noty.close();
                    }
                }
            ],
            modal: true,
            template: '<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',
            cssPrefix: 'noty_',
            custom:
            {
                container: null
            }
        });
    }

    function notyConfirmForAddEquipment() {
        noty({
            dismissQueue: true,
            layout: 'topCenter',
            theme: 'noty_theme_default',
            animateOpen: { height: 'toggle' },
            animateClose: { height: 'toggle' },
            easing: 'swing',
            text: 'Do you want to add equipment?',
            type: 'alert',
            speed: 500,
            timeout: false,
            closeButton: false,
            closeOnSelfClick: true,
            closeOnSelfOver: false,
            force: false,
            onShow: false,
            onShown: false,
            onClose: false,
            onClosed: false,
            buttons: [
                {
                    type: 'btn btn-primary', text: 'Ok', click: function ($noty) {
                        $noty.close();
                        var btn = $("#lnkAddEQ");
                        btn.click();
                    }
                },
                {
                    type: 'btn btn-danger', text: 'Cancel', click: function ($noty) {
                        $noty.close();
                    }
                }
            ],
            modal: true,
            template: '<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',
            cssPrefix: 'noty_',
            custom:
            {
                container: null
            }
        });
    }
    function RedirectPage() {
        var PageQueryString = $("#hdnPageQueryString");
        if (PageQueryString.val().trim() != "") {
            window.location.href = "addlocation.aspx?uid=" + $("#hdnAddedLoc").val() + "&AddEquip=true&" + PageQueryString.val().trim();

        } else {
            window.location.href = "addlocation.aspx?uid=" + $("#hdnAddedLoc").val() + "&AddEquip=true";
        }
    }

    $(document).ready(function () {

        /////Homeowner////
        $("#hotxtname").keyup(function (event) {

            var hdnHOId = $("#hdnHomeOwnerID");
            var hdnHOName = $("#hdnHOName");
            var hdnHONameupdate = $("#hdnHONameupdate");

            if (hdnHOId.val() > 0) {
                if (this.value.trim() != hdnHOName.val().trim() && this.value.trim() != "")
                    hdnHONameupdate.val('1');
                hdnHOId.val('0');
            }

        });


        /////GC info

        $("#GCtxtName").keyup(function (event) {

            var hdnGCId = $("#hdnGContractorID");
            var hdnGCName = $("#hdnGCName");
            var hdnGCNameupdate = $("#hdnGCNameupdate");

            if (hdnGCId.val() > 0) {
                if (this.value.trim() != hdnGCName.val().trim() && this.value.trim() != "")
                    hdnGCNameupdate.val('1');
                hdnGCId.val(0);
            }

        });


        ///////////// Ajax Call for Homeowner Auto Search ////////////////////
        var query = "";
        function dta() {
            this.prefixText = null;
            this.con = "";
            this.type = "";
        }
        $("#hotxtname").autocomplete({
            source: function (request, response) {
                var dtaaa = new dta();
                dtaaa.prefixText = request.term;
                dtaaa.type = "2";
                query = request.term;
                $.ajax({
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    url: "CustomerAuto.asmx/GetGCorHomeOwner",
                    data: JSON.stringify(dtaaa),
                    dataType: "json",
                    async: true,
                    success: function (data) {
                        response($.parseJSON(data.d));
                    },

                    error: function (XMLHttpRequest, textStatus, errorThrown) {
                        var err = eval("(" + XMLHttpRequest.responseText + ")");
                        alert(err.Message);
                    }
                });
            },

            select: function (event, ui) {
                $("#hotxtname").val("");
                $("#hotxtcity").val("");
                $("#HotxtAddress").val("");

                $("#hottxtstate").val("");
                $("#hotxtZIP").val("");
                $("#hotxtCountry").val("");
                $("#hotxtCName").val("");
                $("#hotxtPhone").val("");
                $("#HotxtFax").val("");
                $("#HotxtEmailWeb").val("");
                $("#hotxtMobile").val("");
                $("#hotxtRemarks").val("");
                $("#hdnHomeOwnerID").val("0");
                $("#hdnHOName").val("");
                $("#hdnHONameupdate").val(0);

                $("#hotxtname").val(ui.item.label);
                $("#hotxtcity").val(ui.item.city);
                $("#HotxtAddress").val(ui.item.Address);

                $("#hottxtstate").val(ui.item.state);
                $("#hotxtZIP").val(ui.item.zip);
                $("#hotxtCountry").val(ui.item.country);
                $("#hotxtCName").val(ui.item.contact);
                $("#hotxtPhone").val(ui.item.phone);
                $("#HotxtFax").val(ui.item.fax);
                $("#HotxtEmailWeb").val(ui.item.email);
                $("#hotxtMobile").val(ui.item.cellular);
                $("#hotxtRemarks").val(ui.item.remarks);
                $("#hdnHomeOwnerID").val(ui.item.GC_HOid);
                $("#hdnHOName").val(ui.item.label);


                return false;
            },
            focus: function (event, ui) {
                return false;
            },
            minLength: 0,
            delay: 250
        })._renderItem = function (ul, item) {
            var result_item = item.label;
            var result_desc = item.desc;
            var result_Prospect = item.prospect;
            var x = new RegExp('\\b' + query, 'ig'); // notice the escape \ here...

            result_item = result_item.replace(x, function (FullMatch, n) {
                return '<span class="highlight">' + FullMatch + '</span>'
            });
            if (result_desc != null) {
                result_desc = result_desc.replace(x, function (FullMatch, n) {
                    return '<span class="highlight">' + FullMatch + '</span>'
                });
            }
            var color = 'Black';
            if (result_Prospect != 0) {
                color = 'brown';
            }
            return $("<li></li>")
                .data("item.autocomplete", item)
                .append("<a style='color:" + color + ";'>" + result_item + ", <span style='color:gray;'>" + result_desc + "</span></a>")
                .appendTo(ul);
        };





        ///////////// Ajax call for GC auto search ////////////////////
        var query = "";
        function dta() {
            this.prefixText = null;
            this.con = "";
            this.type = "";
        }
        $("#GCtxtName").autocomplete({
            source: function (request, response) {
                var dtaaa = new dta();
                dtaaa.prefixText = request.term;
                dtaaa.type = "1";
                query = request.term;
                $.ajax({
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    url: "CustomerAuto.asmx/GetGCorHomeOwner",
                    data: JSON.stringify(dtaaa),
                    dataType: "json",
                    async: true,
                    success: function (data) {
                        response($.parseJSON(data.d));
                    },
                    //error: function(result) {
                    //    alert("Due to unexpected errors we were unable to load customers");
                    //}
                    error: function (XMLHttpRequest, textStatus, errorThrown) {
                        var err = eval("(" + XMLHttpRequest.responseText + ")");
                        alert(err.Message);
                    }
                });
            },
            select: function (event, ui) {
                $("#GCtxtName").val("");
                $("#GCtxtcity").val("");
                $("#GCtxtAddress").val("");

                $("#GCtxtState").val("");
                $("#GCtxtPostalCode").val("");
                $("#GCtxtCountry").val("");
                $("#GCtxtCName").val("");
                $("#GCtxtPhone").val("");
                $("#GCtxtFAX").val("");
                $("#GCtxtEmailWeb").val("");
                $("#GCtxtMobile").val("");
                $("#GCtxtRemarks").val("");
                $("#hdnGCNameupdate").val(0);
                $("#hdnGCName").val("");
                $("#hdnGContractorID").val(0);
                var gci = $("#hdnGContractorID");
                console.log(gci.val());

                $("#GCtxtName").val(ui.item.label);
                $("#GCtxtcity").val(ui.item.city);
                $("#GCtxtAddress").val(ui.item.Address);

                $("#GCtxtState").val(ui.item.state);
                $("#GCtxtPostalCode").val(ui.item.zip);
                $("#GCtxtCountry").val(ui.item.country);
                $("#GCtxtCName").val(ui.item.contact);
                $("#GCtxtPhone").val(ui.item.phone);
                $("#GCtxtFAX").val(ui.item.fax);
                $("#GCtxtEmailWeb").val(ui.item.email);
                $("#GCtxtMobile").val(ui.item.cellular);
                $("#GCtxtRemarks").val(ui.item.remarks);
                $("#hdnGContractorID").val(ui.item.GC_HOid);
                $("#hdnGCNameupdate").val(0);
                $("#hdnGCName").val(ui.item.label);
                var gci1 = $("#hdnGContractorID");
                console.log(gci1.val());
                return false;
            },
            focus: function (event, ui) {
                return false;
            },
            minLength: 0,
            delay: 250
        })._renderItem = function (ul, item) {
            var result_item = item.label;
            var result_desc = item.desc;
            var result_Prospect = item.prospect;
            var x = new RegExp('\\b' + query, 'ig'); // notice the escape \ here...

            result_item = result_item.replace(x, function (FullMatch, n) {
                return '<span class="highlight">' + FullMatch + '</span>'
            });
            if (result_desc != null) {
                result_desc = result_desc.replace(x, function (FullMatch, n) {
                    return '<span class="highlight">' + FullMatch + '</span>'
                });
            }
            var color = 'Black';
            if (result_Prospect != 0) {
                color = 'brown';
            }
            return $("<li></li>")
                .data("item.autocomplete", item)
                .append("<a style='color:" + color + ";'>" + result_item + ", <span style='color:gray;'>" + result_desc + "</span></a>")
                .appendTo(ul);
        };

    });

    function ConfirmGCAdd() {
        var hdnGCNameupdate = $("#hdnGCNameupdate");
        var gcName = $("#GCtxtName");
        var ret = true;

        if (hdnGCNameupdate.val().trim() == '1') {
            //Confirm for GC
            ret = confirm(gcName.val() + ' will be created as a new General Contractor. Do you want to continue?');
        }

        if (ret) {
            //Confirm for Home owner
            var hdnHONameupdate = $("#hdnHONameupdate");
            var hotxtname = $("#hotxtname");
            if (hdnHONameupdate.val().trim() == "1") {
                ret = confirm(hotxtname.val() + ' will be created as a new Homeowner. Do you want to continue?');
            }
        }
        return ret;
    }
    ///////////////////////////////////////
</script>

<script type="text/javascript">
    function ResetShowAllHistory() {
        $("#lblDay").removeClass("labelactive");
        $("#lblWeek").removeClass("labelactive");
        $("#lblMonth").removeClass("labelactive");
        $("#lblQuarter").removeClass("labelactive");
        $("#lblYear").removeClass("labelactive");
        var ddlCategory = $("#ddlCategory");
        var ddlSearch = $("#ddlSearch");
        var txtSearch = $("#txtSearch");
        $("#ddlCategory").css("display", "none");
        $("#txtSearch").css("display", "block");


    }
    function showFilterSearchHistory() {
        debugger;
        var ddlSearch = $("#ddlSearch");
        var txtSearch = $("#txtSearch");
        var ddlCategory = $("#ddlCategory");

        $("#txtSearch").css("display", "none");
        $("#ddlCategory").css("display", "none");
        $("#ddlCategory").val("None");
        $("#txtSearch").val("");
        var ddlCategory = $("#ddlCategory");
        if ($("#ddlSearch").val() === "t.cat") {
            $("#ddlCategory").css("display", "block");
        } else {
            $("#txtSearch").css("display", "block");
        }

    }
    function dec_dateHistory(select, rdGroup) {
        var select = select;
        var rdGroup = rdGroup;
        var xday;
        var xWeek;
        var xMonth;
        var xYear;
        var xQuarter;
        if (select == "dec") {
            xday = -1;
            xWeek = -7;
            xMonth = -1;
            xQuarter = -3;
            xYear = -1;
        }
        if (select == "inc") {

            xday = 1;
            xWeek = 7;
            xMonth = 1;
            xQuarter = 3;
            xYear = 1;
        }
        var radio = document.getElementsByName(rdGroup); //Client ID of the RadioButtonList1
        var selected;
        for (var i = 0; i < radio.length; i++) {
            if (radio[i].checked) { // Checked property to check radio Button check or not
                //alert("Radio button having value " + radio[i].value + " was checked."); // Show the checked value
                selected = radio[i].value;

            }
            if (selected == "") {
                selected = 'rdWeek';
            }

        }
        selected = $("#hdnSelectedDtRangeHistory").val();

        if (selected == 'rdDay') {

            //dec the from date
            var tt = $("#txtfromDate").val();

            var date = new Date(tt);
            var newdate = new Date(date);

            newdate.setDate(newdate.getDate() + xday);

            var dd = newdate.getDate();
            var mm = newdate.getMonth() + 1;
            var y = newdate.getFullYear();

            var someFormattedDate = mm + '/' + dd + '/' + y;
            $("#txtfromDate").val(someFormattedDate);
            //dec the to date

            var TT = $("#txtToDate").val();

            var DATE = new Date(TT);
            var NEWDATE = new Date(DATE);

            NEWDATE.setDate(NEWDATE.getDate() + xday);

            var DD = NEWDATE.getDate();
            var MM = NEWDATE.getMonth() + 1;
            var Y = NEWDATE.getFullYear();

            var someFormattedDATE = MM + '/' + DD + '/' + Y;
            $("#txtToDate").val(someFormattedDATE);


        }
        else if (selected == 'rdWeek') {
            //dec the from date
            var tt = $("#txtfromDate").val();

            var date = new Date(tt);
            var newdate = new Date(date);

            newdate.setDate(newdate.getDate() + xWeek);

            var dd = newdate.getDate();
            var mm = newdate.getMonth() + 1;
            var y = newdate.getFullYear();

            var someFormattedDate = mm + '/' + dd + '/' + y;
            $("#txtfromDate").val(someFormattedDate);
            //dec the to date

            var TT = $("#txtToDate").val();

            var DATE = new Date(TT);
            var NEWDATE = new Date(DATE);

            NEWDATE.setDate(NEWDATE.getDate() + xWeek);

            var DD = NEWDATE.getDate();
            var MM = NEWDATE.getMonth() + 1;
            var Y = NEWDATE.getFullYear();

            var someFormattedDATE = MM + '/' + DD + '/' + Y;
            $("#txtToDate").val(someFormattedDATE);
        }
        else if (selected == 'rdMonth') {
            //dec the from date

            Date.isLeapYear = function (year) {
                return (((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0));
            };

            Date.getDaysInMonth = function (year, month) {
                return [31, (Date.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];
            };

            Date.prototype.isLeapYear = function () {
                return Date.isLeapYear(this.getFullYear());
            };

            Date.prototype.getDaysInMonth = function () {
                return Date.getDaysInMonth(this.getFullYear(), this.getMonth());
            };

            Date.prototype.addMonths = function (value) {

                var n = this.getDate();
                this.setDate(1);
                this.setMonth(this.getMonth() + value);
                this.setDate(Math.min(n, this.getDaysInMonth()));
                return this;
            };


            Date.prototype.addMonthsLast = function (value) {

                var n = this.getDate();
                this.setDate(1);
                this.setMonth(this.getMonth() + 1);
                if (this.getDaysInMonth() == 31) {

                    this.setDate(Math.max(n, this.getDaysInMonth()));
                }
                else {
                    this.setDate(Math.min(n, this.getDaysInMonth()));

                }

                return this;
            };

            Date.prototype.addMonthsLastDec = function (value) {

                var n = this.getDate();
                this.setDate(1);
                this.setMonth(this.getMonth() - 1);
                if (this.getDaysInMonth() == 31) {

                    this.setDate(Math.max(n, this.getDaysInMonth()));
                }
                else {
                    this.setDate(Math.min(n, this.getDaysInMonth()));

                }

                return this;
            };


            var tt = $("#txtfromDate").val();

            var date = new Date(tt).toDateString();
            var newdate = new Date(date);

            newdate.addMonths(xMonth);

            var dd = newdate.getDate();
            var mm = newdate.getMonth() + 1;
            var y = newdate.getFullYear();

            var someFormattedDate = mm + '/' + dd + '/' + y;
            $("#txtfromDate").val(someFormattedDate);


            //dec the to date
            if (select == 'dec') {
                var ti = $("#txtToDate").val();


                var date = new Date(ti).toDateString();
                var newdateti = new Date(date);
                newdateti.addMonthsLastDec(xMonth);

                var dd = newdateti.getDate();
                var mm = newdateti.getMonth() + 1;
                var y = newdateti.getFullYear();

                var someFormattedDate = mm + '/' + dd + '/' + y;
                $("#txtToDate").val(someFormattedDate);
            }

            else {
                var ti = $("#txtToDate").val();
                var date = new Date(ti).toDateString();
                var newdateti = new Date(date);
                newdateti.addMonthsLast(xMonth);

                var dd = newdateti.getDate();
                var mm = newdateti.getMonth() + 1;
                var y = newdateti.getFullYear();

                var someFormattedDate = mm + '/' + dd + '/' + y;
                $("#txtToDate").val(someFormattedDate);
            }

        }


        else if (selected == 'rdQuarter') {
            //dec the from date
            var tt = $("#txtfromDate").val();
            var date = new Date(tt);
            var newdate = new Date(date);

            newdate.setMonth(newdate.getMonth() + xQuarter);

            var dd = newdate.getDate();
            var mm = newdate.getMonth() + 1;
            var y = newdate.getFullYear();

            var someFormattedDate = mm + '/' + dd + '/' + y;
            $("#txtfromDate").val(someFormattedDate);
            //dec the to date

            var TT = $("#txtToDate").val();

            var DATE = new Date(TT);
            var NEWDATE = new Date(DATE);

            //decrease date range
            if (select == 'dec') {
                xQuarter = -3;

                if (DATE.getMonth() == 11) {
                    NEWDATE.setDate(NEWDATE.getDate() - 1);
                    NEWDATE.setMonth(NEWDATE.getMonth() + xQuarter);
                }
                else if (DATE.getMonth() == 5) {
                    NEWDATE.setMonth(NEWDATE.getMonth() + xQuarter);
                    NEWDATE.setDate(NEWDATE.getDate() + 1);
                }
                else {
                    NEWDATE.setMonth(NEWDATE.getMonth() + xQuarter);
                }
            }
            else {
                xQuarter = 3;
                NEWDATE.setDate(NEWDATE.getDate() - 1);
                NEWDATE.setMonth(NEWDATE.getMonth() + xQuarter);
                if (NEWDATE.getMonth() == 11 || NEWDATE.getMonth() == 12 || DATE.getMonth() == 11) {
                    NEWDATE.setDate(31);
                } else {
                    if (DATE.getMonth() == 5) { NEWDATE.setDate(NEWDATE.getDate() + 1); }
                    else { NEWDATE.setDate(NEWDATE.getDate()); }

                }
            }

            var DD = NEWDATE.getDate();
            var MM = NEWDATE.getMonth() + 1;
            var Y = NEWDATE.getFullYear();
            var someFormattedDATE = MM + '/' + DD + '/' + Y;
            $("#txtToDate").val(someFormattedDATE);
        }
        else if (selected == 'rdYear') {

            var tt = $("#txtfromDate").val();

            var date = new Date(tt);
            var newdate = new Date(date);

            newdate.setFullYear(newdate.getFullYear() + xYear);

            var dd = newdate.getDate();
            var mm = newdate.getMonth() + 1;
            var y = newdate.getFullYear();

            var someFormattedDate = mm + '/' + dd + '/' + y;
            $("#txtfromDate").val(someFormattedDate);
            //dec the to date

            var TT = $("#txtToDate").val();

            var DATE = new Date(TT);
            var NEWDATE = new Date(DATE);




            NEWDATE.setFullYear(NEWDATE.getFullYear() + xYear);
            var DD = NEWDATE.getDate();
            var MM = NEWDATE.getMonth() + 1;
            var Y = NEWDATE.getFullYear();

            var someFormattedDATE = MM + '/' + DD + '/' + Y;
            $("#txtToDate").val(someFormattedDATE);


        }

        return false;

    }
    function SelectDateHistory(type, UniqueVal) {
        var type = type;
        var UniqueVal = UniqueVal;

        $("#lblDay").removeClass("labelactive");
        $("#lblWeek").removeClass("labelactive");
        $("#lblMonth").removeClass("labelactive");
        $("#lblQuarter").removeClass("labelactive");
        $("#lblYearInv").removeClass("labelactive");
        if (type == 'Day') {
            var todaydate = new Date();
            var day = todaydate.getDate();
            var month = todaydate.getMonth() + 1;
            var year = todaydate.getFullYear();
            var datestring = month + "/" + day + "/" + year;
            $("#txtToDate").val(datestring);
            $("#txtfromDate").val(datestring);
            $("#lblDay").addClass("labelactive");
            $("#hdnSelectedDtRangeHistory").val("rdDay");
        }
        if (type == 'Week') {

            Date.prototype.GetFirstDayOfWeek = function () {
                return (new Date(this.setDate(this.getDate() - this.getDay())));
            }

            Date.prototype.GetLastDayOfWeek = function () {
                return (new Date(this.setDate(this.getDate() - this.getDay() + 6)));
            }

            var today = new Date();
            var Firstdate = today.GetFirstDayOfWeek();
            var day = Firstdate.getDate();
            var month = Firstdate.getMonth() + 1;
            var year = Firstdate.getFullYear();
            var datestring = month + "/" + day + "/" + year;
            $("#txtfromDate").val(datestring);
            var Lastdate = today.GetLastDayOfWeek();
            var day = Lastdate.getDate();
            var month = Lastdate.getMonth() + 1;
            var year = Lastdate.getFullYear();
            var dateString = month + "/" + day + "/" + year;
            $("#txtToDate").val(dateString);
            $("#lblWeek").addClass("labelactive");

            $("#hdnSelectedDtRangeHistory").val("rdWeek");


        }
        if (type == 'Month') {
            var date = new Date(), y = date.getFullYear(), m = date.getMonth();
            var FirstDayOfMonth = new Date(y, m, 1);
            var lastDayOfMonth = new Date(y, m + 1, 0);

            var day = FirstDayOfMonth.getDate();
            var month = FirstDayOfMonth.getMonth() + 1;
            var year = FirstDayOfMonth.getFullYear();
            var datestring = month + "/" + day + "/" + year;
            $("#txtfromDate").val(datestring);

            var day = lastDayOfMonth.getDate();
            var month = lastDayOfMonth.getMonth() + 1;
            var year = lastDayOfMonth.getFullYear();
            var dateString = month + "/" + day + "/" + year;
            $("#txtToDate").val(dateString);

            $("#lblMonth").addClass("labelactive");
            $("#hdnSelectedDtRangeHistory").val("rdMonth");
        }
        if (type == 'Quarter') {
            var d = new Date();
            var quarter = Math.floor((d.getMonth() / 3));

            var firstDate = new Date(d.getFullYear(), quarter * 3, 1);
            var lastDate = new Date(firstDate.getFullYear(), firstDate.getMonth() + 3, 0);
            var day = firstDate.getDate();
            var month = firstDate.getMonth() + 1;
            var year = firstDate.getFullYear();
            var datestring = month + "/" + day + "/" + year;
            $("#txtfromDate").val(datestring);

            var day = lastDate.getDate();
            var month = lastDate.getMonth() + 1;
            var year = lastDate.getFullYear();
            var dateString = month + "/" + day + "/" + year;
            $("#txtToDate").val(dateString);
            $("#lblQuarter").addClass("labelactive");
            $("#hdnSelectedDtRangeHistory").val("rdQuarter");

        }
        if (type == 'Year') {
            var date = new Date(), y = date.getFullYear(), m = date.getMonth();
            var FirstDayOfYear = new Date(y, 1, 1);
            var lastDayOfYear = new Date(y, 11, 31);

            var day = FirstDayOfYear.getDate();
            var month = FirstDayOfYear.getMonth();
            var year = FirstDayOfYear.getFullYear();
            var datestring = month + "/" + day + "/" + year;
            $("#txtfromDate").val(datestring);

            var day = lastDayOfYear.getDate();
            var month = lastDayOfYear.getMonth() + 1;
            var year = lastDayOfYear.getFullYear();
            var dateString = month + "/" + day + "/" + year;
            $("#txtToDate").val(dateString);
            $("#lblYear").addClass("labelactive");
            $("#hdnSelectedDtRangeHistory").val("rdYear");
        }
        if (typeof (Storage) !== "undefined") {
            // Store
            localStorage.setItem(UniqueVal, $("#hdnSelectedDtRangeHistory").val());

        }
    }

    $(document).ready(function () {
        valHistory = $("#hdnSelectedDtRangeHistory").val();
        if (valHistory == "") {
            valHistory = "rdMonth";
        }
        if (valHistory == 'rdDay') {

            $("#lblDay").addClass("labelactive");
            $("#rdDay").prop('checked', true);

        }
        if (valHistory == 'rdWeek') {

            $("#lblWeek").addClass("labelactive");

            $("#rdWeek").prop('checked', true);

        }
        if (valHistory == 'rdMonth') {
            $("#lblMonth").addClass("labelactive");
            $("#rdMonth").prop('checked', true);

        }
        if (valHistory == 'rdQuarter') {

            $("#lblQuarter").addClass("labelactive");
            $("#rdQuarter").prop('checked', true);

        }
        if (valHistory == 'rdYear') {

            $("#lblYear").addClass("labelactive");
            $("#rdYear").prop('checked', true);

        }

    });
    function GetQueryStringParams(sParam) {
        var sPageURL = window.location.search.substring(1);
        var sURLVariables = sPageURL.split('&');
        for (var i = 0; i < sURLVariables.length; i++) {
            var sParameterName = sURLVariables[i].split('=');
            if (sParameterName[0] == sParam) {
                return sParameterName[1];
            }
        }
    }
    function clickLink(linkName) {
        debugger
        setTimeout(function () {
            $(linkName).click();
        }, 1000);
    }
    var tab = GetQueryStringParams('tab');

    if (tab == "equip") {
        clickLink("#lnkEquipmentaccrd");
    }
    else if (tab == "inv") {
        clickLink("#lnkTransactionaccrd");
    } else {
        clickLink("#lnkLocInfo");
    }
</script>

<script type="text/javascript">


    function ResetShowAll() {
        $("#lblDayInv").removeClass("labelactive");
        $("#lblWeekInv").removeClass("labelactive");
        $("#lblMonthInv").removeClass("labelactive");
        $("#lblQuarterInv").removeClass("labelactive");
        $("#lblYearInv").removeClass("labelactive");
        $("#rdAll2").prop('checked', true);
        $("#rdAll").prop('checked', true);
        if (typeof (Storage) !== "undefined") {
            // Store
            localStorage.setItem("hdnInvDate", $("#hdnSelectedDtRange").val());

        }
    }
    function ResetShowAllOpen() {
        $("#lblDayInv").removeClass("labelactive");
        $("#lblWeekInv").removeClass("labelactive");
        $("#lblMonthInv").removeClass("labelactive");
        $("#lblQuarterInv").removeClass("labelactive");
        $("#lblYearInv").removeClass("labelactive");
        $("#rdAll2").prop('checked', true);
        $("#rdOpen").prop('checked', true);
        if (typeof (Storage) !== "undefined") {
            // Store
            localStorage.setItem("hdnInvDate", $("#hdnSelectedDtRange").val());

        }
    }
    function dec_date(select, rdGroup) {
        var select = select;
        var rdGroup = rdGroup;
        var xday;
        var xWeek;
        var xMonth;
        var xYear;
        var xQuarter;
        if (select == "dec") {
            xday = -1;
            xWeek = -7;
            xMonth = -1;
            xQuarter = -3;
            xYear = -1;
        }
        if (select == "inc") {

            xday = 1;
            xWeek = 7;
            xMonth = 1;
            xQuarter = 3;
            xYear = 1;
        }
        var radio = document.getElementsByName(rdGroup); //Client ID of the RadioButtonList1
        var selected;
        for (var i = 0; i < radio.length; i++) {
            if (radio[i].checked) { // Checked property to check radio Button check or not
                //alert("Radio button having value " + radio[i].value + " was checked."); // Show the checked value
                selected = radio[i].value;

            }
            if (selected == "") {
                selected = 'rdWeek';
            }

        }


        if (selected == 'rdDay') {

            //dec the from date
            var tt = $("#txtInvDtFrom").val();

            var date = new Date(tt);
            var newdate = new Date(date);

            newdate.setDate(newdate.getDate() + xday);

            var dd = newdate.getDate();
            var mm = newdate.getMonth() + 1;
            var y = newdate.getFullYear();

            var someFormattedDate = mm + '/' + dd + '/' + y;
            $("#txtInvDtFrom").val(someFormattedDate);
            //dec the to date

            var TT = $("#txtInvDtTo").val();

            var DATE = new Date(TT);
            var NEWDATE = new Date(DATE);

            NEWDATE.setDate(NEWDATE.getDate() + xday);

            var DD = NEWDATE.getDate();
            var MM = NEWDATE.getMonth() + 1;
            var Y = NEWDATE.getFullYear();

            var someFormattedDATE = MM + '/' + DD + '/' + Y;
            $("#txtInvDtTo").val(someFormattedDATE);


        }
        else if (selected == 'rdWeek') {
            //dec the from date
            var tt = $("#txtInvDtFrom").val();

            var date = new Date(tt);
            var newdate = new Date(date);

            newdate.setDate(newdate.getDate() + xWeek);

            var dd = newdate.getDate();
            var mm = newdate.getMonth() + 1;
            var y = newdate.getFullYear();

            var someFormattedDate = mm + '/' + dd + '/' + y;
            $("#txtInvDtFrom").val(someFormattedDate);
            //dec the to date

            var TT = $("#txtInvDtTo").val();

            var DATE = new Date(TT);
            var NEWDATE = new Date(DATE);

            NEWDATE.setDate(NEWDATE.getDate() + xWeek);

            var DD = NEWDATE.getDate();
            var MM = NEWDATE.getMonth() + 1;
            var Y = NEWDATE.getFullYear();

            var someFormattedDATE = MM + '/' + DD + '/' + Y;
            $("#txtInvDtTo").val(someFormattedDATE);
        }
        else if (selected == 'rdMonth') {
            //dec the from date

            Date.isLeapYear = function (year) {
                return (((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0));
            };

            Date.getDaysInMonth = function (year, month) {
                return [31, (Date.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];
            };

            Date.prototype.isLeapYear = function () {
                return Date.isLeapYear(this.getFullYear());
            };

            Date.prototype.getDaysInMonth = function () {
                return Date.getDaysInMonth(this.getFullYear(), this.getMonth());
            };

            Date.prototype.addMonths = function (value) {

                var n = this.getDate();
                this.setDate(1);
                this.setMonth(this.getMonth() + value);
                this.setDate(Math.min(n, this.getDaysInMonth()));
                return this;
            };


            Date.prototype.addMonthsLast = function (value) {

                var n = this.getDate();
                this.setDate(1);
                this.setMonth(this.getMonth() + 1);
                if (this.getDaysInMonth() == 31) {

                    this.setDate(Math.max(n, this.getDaysInMonth()));
                }
                else {
                    this.setDate(Math.min(n, this.getDaysInMonth()));

                }

                return this;
            };

            Date.prototype.addMonthsLastDec = function (value) {

                var n = this.getDate();
                this.setDate(1);
                this.setMonth(this.getMonth() - 1);
                if (this.getDaysInMonth() == 31) {

                    this.setDate(Math.max(n, this.getDaysInMonth()));
                }
                else {
                    this.setDate(Math.min(n, this.getDaysInMonth()));

                }

                return this;
            };


            var tt = $("#txtInvDtFrom").val();

            var date = new Date(tt).toDateString();
            var newdate = new Date(date);

            newdate.addMonths(xMonth);

            var dd = newdate.getDate();
            var mm = newdate.getMonth() + 1;
            var y = newdate.getFullYear();

            var someFormattedDate = mm + '/' + dd + '/' + y;
            $("#txtInvDtFrom").val(someFormattedDate);


            //dec the to date
            if (select == 'dec') {
                var ti = $("#txtInvDtTo").val();


                var date = new Date(ti).toDateString();
                var newdateti = new Date(date);
                newdateti.addMonthsLastDec(xMonth);

                var dd = newdateti.getDate();
                var mm = newdateti.getMonth() + 1;
                var y = newdateti.getFullYear();

                var someFormattedDate = mm + '/' + dd + '/' + y;
                $("#txtInvDtTo").val(someFormattedDate);
            }

            else {
                var ti = $("#txtInvDtTo").val();
                var date = new Date(ti).toDateString();
                var newdateti = new Date(date);
                newdateti.addMonthsLast(xMonth);

                var dd = newdateti.getDate();
                var mm = newdateti.getMonth() + 1;
                var y = newdateti.getFullYear();

                var someFormattedDate = mm + '/' + dd + '/' + y;
                $("#txtInvDtTo").val(someFormattedDate);
            }

        }


        else if (selected == 'rdQuarter') {
            //dec the from date
            var tt = $("#txtInvDtFrom").val();
            var date = new Date(tt);
            var newdate = new Date(date);

            newdate.setMonth(newdate.getMonth() + xQuarter);

            var dd = newdate.getDate();
            var mm = newdate.getMonth() + 1;
            var y = newdate.getFullYear();

            var someFormattedDate = mm + '/' + dd + '/' + y;
            $("#txtInvDtFrom").val(someFormattedDate);
            //dec the to date

            var TT = $("#txtInvDtTo").val();

            var DATE = new Date(TT);
            var NEWDATE = new Date(DATE);

            //decrease date range
            if (select == 'dec') {
                xQuarter = -3;

                if (DATE.getMonth() == 11) {
                    NEWDATE.setDate(NEWDATE.getDate() - 1);
                    NEWDATE.setMonth(NEWDATE.getMonth() + xQuarter);
                }
                else if (DATE.getMonth() == 5) {
                    NEWDATE.setMonth(NEWDATE.getMonth() + xQuarter);
                    NEWDATE.setDate(NEWDATE.getDate() + 1);
                }
                else {
                    NEWDATE.setMonth(NEWDATE.getMonth() + xQuarter);
                }
            }
            else {
                xQuarter = 3;
                NEWDATE.setDate(NEWDATE.getDate() - 1);
                NEWDATE.setMonth(NEWDATE.getMonth() + xQuarter);
                if (NEWDATE.getMonth() == 11 || NEWDATE.getMonth() == 12 || DATE.getMonth() == 11) {
                    NEWDATE.setDate(31);
                } else {
                    if (DATE.getMonth() == 5) { NEWDATE.setDate(NEWDATE.getDate() + 1); }
                    else { NEWDATE.setDate(NEWDATE.getDate()); }

                }
            }

            var DD = NEWDATE.getDate();
            var MM = NEWDATE.getMonth() + 1;
            var Y = NEWDATE.getFullYear();
            var someFormattedDATE = MM + '/' + DD + '/' + Y;
            $("#txtInvDtTo").val(someFormattedDATE);
        }
        else if (selected == 'rdYear') {

            var tt = $("#txtInvDtFrom").val();

            var date = new Date(tt);
            var newdate = new Date(date);

            newdate.setFullYear(newdate.getFullYear() + xYear);

            var dd = newdate.getDate();
            var mm = newdate.getMonth() + 1;
            var y = newdate.getFullYear();

            var someFormattedDate = mm + '/' + dd + '/' + y;
            $("#txtInvDtFrom").val(someFormattedDate);
            //dec the to date

            var TT = $("#txtInvDtTo").val();

            var DATE = new Date(TT);
            var NEWDATE = new Date(DATE);




            NEWDATE.setFullYear(NEWDATE.getFullYear() + xYear);
            var DD = NEWDATE.getDate();
            var MM = NEWDATE.getMonth() + 1;
            var Y = NEWDATE.getFullYear();

            var someFormattedDATE = MM + '/' + DD + '/' + Y;
            $("#txtInvDtTo").val(someFormattedDATE);


        }

        return false;

    }

    function SelectDate(type, UniqueVal) {
        var type = type;
        var UniqueVal = UniqueVal;

        $("#lblDayInv").removeClass("labelactive");
        $("#lblWeekInv").removeClass("labelactive");
        $("#lblMonthInv").removeClass("labelactive");
        $("#lblQuarterInv").removeClass("labelactive");
        $("#lblYearInv").removeClass("labelactive");
        if (type == 'Day') {
            var todaydate = new Date();
            var day = todaydate.getDate();
            var month = todaydate.getMonth() + 1;
            var year = todaydate.getFullYear();
            var datestring = month + "/" + day + "/" + year;
            $("#txtInvDtTo").val(datestring);
            $("#txtInvDtFrom").val(datestring);
            $("#lblDayInv").addClass("labelactive");
            $("#hdnSelectedDtRange").val("Day");
        }
        if (type == 'Week') {

            Date.prototype.GetFirstDayOfWeek = function () {
                return (new Date(this.setDate(this.getDate() - this.getDay())));
            }

            Date.prototype.GetLastDayOfWeek = function () {
                return (new Date(this.setDate(this.getDate() - this.getDay() + 6)));
            }

            var today = new Date();
            var Firstdate = today.GetFirstDayOfWeek();
            var day = Firstdate.getDate();
            var month = Firstdate.getMonth() + 1;
            var year = Firstdate.getFullYear();
            var datestring = month + "/" + day + "/" + year;
            $("#txtInvDtFrom").val(datestring);
            var Lastdate = today.GetLastDayOfWeek();
            var day = Lastdate.getDate();
            var month = Lastdate.getMonth() + 1;
            var year = Lastdate.getFullYear();
            var dateString = month + "/" + day + "/" + year;
            $("#txtInvDtTo").val(dateString);
            $("#lblWeekInv").addClass("labelactive");

            $("#hdnSelectedDtRange").val("Week");


        }
        if (type == 'Month') {
            var date = new Date(), y = date.getFullYear(), m = date.getMonth();
            var FirstDayOfMonth = new Date(y, m, 1);
            var lastDayOfMonth = new Date(y, m + 1, 0);

            var day = FirstDayOfMonth.getDate();
            var month = FirstDayOfMonth.getMonth() + 1;
            var year = FirstDayOfMonth.getFullYear();
            var datestring = month + "/" + day + "/" + year;
            $("#txtInvDtFrom").val(datestring);

            var day = lastDayOfMonth.getDate();
            var month = lastDayOfMonth.getMonth() + 1;
            var year = lastDayOfMonth.getFullYear();
            var dateString = month + "/" + day + "/" + year;
            $("#txtInvDtTo").val(dateString);

            $("#lblMonthInv").addClass("labelactive");
            $("#hdnSelectedDtRange").val("Month");
        }
        if (type == 'Quarter') {
            var d = new Date();
            var quarter = Math.floor((d.getMonth() / 3));

            var firstDate = new Date(d.getFullYear(), quarter * 3, 1);
            var lastDate = new Date(firstDate.getFullYear(), firstDate.getMonth() + 3, 0);
            var day = firstDate.getDate();
            var month = firstDate.getMonth() + 1;
            var year = firstDate.getFullYear();
            var datestring = month + "/" + day + "/" + year;
            $("#txtInvDtFrom").val(datestring);

            var day = lastDate.getDate();
            var month = lastDate.getMonth() + 1;
            var year = lastDate.getFullYear();
            var dateString = month + "/" + day + "/" + year;
            $("#txtInvDtTo").value = dateString;
            $("#lblQuarterInv").addClass("labelactive");
            $("#hdnSelectedDtRange").val("Quarter");

        }
        if (type == 'Year') {
            var date = new Date(), y = date.getFullYear(), m = date.getMonth();
            var FirstDayOfYear = new Date(y, 1, 1);
            var lastDayOfYear = new Date(y, 11, 31);

            var day = FirstDayOfYear.getDate();
            var month = FirstDayOfYear.getMonth();
            var year = FirstDayOfYear.getFullYear();
            var datestring = month + "/" + day + "/" + year;
            $("#txtInvDtFrom").val(datestring);

            var day = lastDayOfYear.getDate();
            var month = lastDayOfYear.getMonth() + 1;
            var year = lastDayOfYear.getFullYear();
            var dateString = month + "/" + day + "/" + year;
            $("#txtInvDtTo").value = dateString;
            $("#lblYearInv").addClass("labelactive");
            $("#hdnSelectedDtRange").val("Year");
        }
        if (typeof (Storage) !== "undefined") {
            // Store
            localStorage.setItem(UniqueVal, $("#hdnSelectedDtRange").val());

        }
    }

    function showFilterSearch() {

        var ddlSearchInv = $("#ddlSearchInv");
        var txtInvDt = $("#txtInvDt");
        var txtSearchInv = $("#txtSearchInv");

        if (ddlSearchInv.val() === 'i.ref') {
            txtInvDt.css("display", "none");
            txtSearchInv.css("display", "block");
        } else {
            txtSearchInv.css("display", "none");
            txtInvDt.css("display", "block");
        }

    }





    ///-ticket permission

    function AddTicketClick(hyperlink) {
        var id = $("#hdnAddeTicket").val();
        if (id == "Y") {
            if ($("#chkCreditHold").is(':checked')) {
                noty({ text: 'Location on credit hold can not create ticket!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
                return false;
            }
            else {
                return true;
            }
        } else {
            noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
            return false;
        }
    }
    function EditTicketClick(hyperlink) {

        var id = $("#hdnEditeTicket").val();
        if (id == "Y") { return editticket(); } else {
            noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
            return false;
        }
    }



    ///- job permission
    function AddJobClick(hyperlink) {
        var id = $("#hdnAddeJob").val();
        if (id == "Y") {
            //alert(hi);
            return true;
        } else {
            noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
            return false;
        }
    }
    function EditJobClick(hyperlink) {

        var id = $("#hdnEditeJob").val();
        var view = $("#hdnViewJob").val();
        if (id == "Y" || view == "Y") {
            return CheckEdit();
            return true;
        } else {
            noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
            return false;
        }
    }
    function DeleteJobClick(hyperlink) {
        var id = $("#hdnDeleteJob").val();
        if (id == "Y") {
            return CheckDelete();
        } else {
            noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
            return false;
        }
    }



    ///-Contact permission

    function AddContactClick(hyperlink) {

        var IsAdd = $("#hdnAddeContact").val();
        if (IsAdd == "Y") {
            return true;

        } else {
            noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
            return false;
        }
    }

    function EditContactClick(hyperlink) {
        var IsEdit = $("#hdnEditeContact").val();
        if (IsEdit == "Y") {
            return true;
        } else {
            noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
            return false;
        }
    }

    function DeleteContactClick(hyperlink) {
        var IsDelete = $("#hdnDeleteContact").val();
        if (IsDelete == "Y") {
            return confirm("Are you sure you want to delete this?");
        } else {
            noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
            return false;
        }
    }


    ///-Document permission

    function AddDocumentClick(hyperlink) {
        var IsAdd = $("#hdnAddeDocument").val();
        if (IsAdd == "Y") {
            ConfirmUpload(hyperlink.value);

        } else {
            noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
        }
    }



    function DeleteDocumentClick(hyperlink) {
        var IsDelete = $("#hdnDeleteDocument").val();
        if (IsDelete == "Y") {
            return checkdelete();
        } else {
            noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
            return false;
        }
    }


    function ViewDocumentClick(hyperlink) {
        var IsView = $("#hdnViewDocument").val();
        if (IsView == "Y") {
            return true;
        } else {
            noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
            return false;
        }
    }

    function SelectRowmailPage(mail, lnkMail) {


        var maillink = $(lnkMail);
        var mailid = document.getElementById(mail);


        maillink.href = 'mailto:' + mailid.innerHTML;

    }

</script>

<script type="text/javascript">
    //--Equipment---
    function AddEquipmentClick(hyperlink) {
        var id = $("#hdnAddeEquipment").val();
        if (id == "Y") {
            return true;
        } else {
            noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
            return false;
        }
    }
    function EditEquipmentClick(hyperlink) {

        var id = $("#hdnEditeEquipment").val();
        if (id == "Y") { return true; } else {
            noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
            return false;
        }
    }
    function DeleteEquipmentClick(hyperlink) {
        var id = $("#hdnDeleteEquipment").val();
        if (id == "Y") {

            return SelectedRowDelete("#RadGrid_Equip", 'Equipment');
        } else {
            noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
            return false;
        }
    }
    function CopyEquipmentClick(hyperlink) {
        var id = $("#hdnAddeEquipment").val();
        if (id == "Y") {
            return true;
        } else {
            noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
            return false;
        }
    }

    function checked1() {
        if ($("#CopyToLocAndJob").is(':checked')) {
            alert("Copy above Billing Rates to Project ?");
        }
    }
</script>

<style>
    .newClassTooltip {
        background: #000 none repeat scroll 0 0;
        filter: alpha(opacity=80);
        -moz-opacity: 0.80;
        opacity: 0.80;
        border-radius: 0px !important;
        color: #fff;
        display: none;
        left: 0px;
        padding: 10px;
        position: relative;
        top: 0px;
        visibility: hidden;
        width: 400px;
        z-index: 1000;
    }

        .newClassTooltip:after {
            top: 0%;
            left: 0%;
            border: solid transparent;
            content: " ";
            height: 0;
            width: 0;
            position: absolute;
            pointer-events: none;
            border-color: rgba(0, 0, 0, 0);
            border-top-color: #000;
            border-width: 10px;
            margin-left: -10px;
        }

    [id$='RadGrid_Opportunity_GridHeader'] .rgHeader > a,
    [id$='RadGrid_Invoice'] .rgHeader > a {
        white-space: nowrap;
        padding-left: 0 !important;
    }

    .RadFilterMenu_CheckList {
        top: 20px;
    }

    .disableButton {
        background-image: none !important;
        background-color: #ddd;
        color: #999;
        border: 0.5px solid #adadad;
    }
</style>


<!--start container-->

<div class="divbutton-container">
    <div id="divButtons">
        <div id="breadcrumbs-wrapper">
            <header>
                <div class="container row-color-grey">
                    <div class="row">
                        <div class="col s12 m12 l12">
                            <div class="row">
                                <div class="page-title"><i class="mdi-maps-place"></i>&nbsp;<label id="lblHeader" style="font-size: 15px;">Add Location</label></div>
                                <div class="buttonContainer">
                                    <div class="btnlinks">
                                        <a id="btnSubmit" onclick="return AlertSageIDUpdate();" ValidationGroup="ValidateSave">Save</a>
                                    </div>
                                    <div class="btnlinks">
                                        <a class="dropdown-button" data-beloworigin="true" href="LocationReport.aspx" data-activates="dropdown1">
                                            Reports
                                        </a>
                                        <ul id="dropdown1" class="dropdown-content">
                                            <li>
                                                <a href="LocationReport.aspx?type=Location" class="-text">Add New Report</a>
                                            </li>
                                            <li>
                                                <a id="lnkLocationHistory">Location History Report</a>
                                            </li>
                                            <li>
                                                <a id="lnkLocationTransLedger">Location Transaction Ledger Report</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="btnclosewrap">
                                    <a id="lnkClose" ToolTip="Close" CausesValidation="false"><i class="mdi-content-clear"></i></a>
                                </div>

                                <div class="rght-content">
                                    <div class="editlabel">
                                        <label id="lblLocationName"></label>
                                        <label id="lblLocationNameLabel"></label>
                                    </div>

                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </header>
        </div>

        <div class="container breadcrumbs-bg-custom">
            <div class="row">
                <div class="col s12 m12 l12">
                    <div class="row">
                        <div class="tblnks">
                            <ul class="anchor-links">
                                <li><a id="lnkLocInfo" href="#accrdlocInfo">Location Info</a></li>
                                <li id="liContacts"><a href="#accrdcontacts">Contacts</a></li>
                                <li id="liDocuments"><a href="#accrddocuments">Documents</a></li>
                                <li id="liViewEquipments"><a id="lnkEquipmentaccrd" href="#accrdequipments">Equipment</a></li>
                                <li id="liLocationHistory"><a href="#accrdlocationHistory">Location History</a></li>
                                <li id="liTransactions"><a id="lnkTransactionaccrd" href="#accrdtransactions">Transactions</a></li>
                                <li id="liOpportunities"><a href="#accrdopportunities">Opportunities</a></li>
                                <li id="liProjects"><a href="#accrdprojects">Projects</a></li>
                                <li id="liAlerts"><a href="#accrdalerts">Alerts</a></li>
                                <li id="liGCInformation"><a href="#accrdgcInformation">GC Information</a></li>
                                <li id="liHomeowner"><a href="#accrdhomeowner">Homeowner</a></li>
                                <li id="liLogs"><a href="#accrdlogs">Logs</a></li>
                            </ul>
                        </div>
                        <div class="tblnksright">
                            <div class="nextprev">
                                <div id="pnlSave">
                                    <div id="pnlNext" Visible="false">
                                        <span class="angleicons">
                                            <a id="lnkFirst" ToolTip="First"
                                               CausesValidation="False">
                                                <i class="fa fa-angle-double-left"></i>
                                            </a>
                                        </span>
                                        <span class="angleicons">
                                            <a id="lnkPrevious" ToolTip="Previous" CausesValidation="False">
                                                <i class="fa fa-angle-left"></i>
                                            </a>
                                        </span>
                                        <span class="angleicons">
                                            <a id="lnkNext" ToolTip="Next" CausesValidation="False">
                                                <i class="fa fa-angle-right"></i>
                                            </a>
                                        </span>
                                        <span class="angleicons">
                                            <a id="lnkLast" ToolTip="Last" class="icon-last" CausesValidation="False">
                                                <i class="fa fa-angle-double-right"></i>
                                            </a>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<div class="container accordian-wrap">
    <div class="row">
        <div class="col s12 m12 l12">
            <div class="row">
                <ul class="collapsible popout collapsible-accordion form-accordion-head expandable">
                    <li>
                        <div id="accrdlocInfo" class="collapsible-header accrd accordian-text-custom active"><i class="mdi-maps-map"></i>Location Info</div>
                        <div class="collapsible-body" id="firstTab">
                            <div class="form-content-wrap">
                                <div class="form-content-pd">
                                    <div class="form-section-row">

                                        @Html.Hidden("hdnPatientId")
                                        @Html.Hidden("hdnMail")
                                        @Html.Hidden("hdnSageIntegration")
                                        @Html.Hidden("hdnAddedLoc")

                                        <div class="form-input-row">
                                            <div class="form-section3">
                                                <div class="input-field col s5">
                                                    <div class="row">
                                                        <label ID="Label4" style="display:none">ID</label>
                                                    </div>
                                                </div>
                                                <div class="input-field col s2">
                                                    &nbsp;
                                                </div>
                                                <div class="input-field col s5">
                                                    <div class="row">
                                                        <label id="Label5" style="display:none"></label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="section-ttle">Location Details</div>
                                        <div class="form-input-row">
                                            <div class="form-section3">
                                                <div class="input-field col s12">
                                                    <div class="row">
                                                        <label id="lblCustomer" for="txtCustomer">Customer Name <span class="reqd">*</span></label>

                                                        <input type="text" id="txtCustomer" AutoCompleteType="Disabled" autocomplete="*" />

                                                        <select ID="ddlCustomer" Style="display: none;" class="browser-default" AutoPostBack="True">
                                                            <option>Select</option>
                                                        </select>
                                                        <input type="button" CausesValidation="False" id="btnSelectCustomer" value="Button" Style="display: none;" />
                                                    </div>
                                                </div>
                                                <div class="srchclr btnlinksicon rowbtn">
                                                    <a CausesValidation="false" id="lnkAddCustomer">
                                                        <i class="mdi-social-person-add"></i>
                                                    </a>
                                                </div>

                                                <div class="input-field col s12">
                                                    <div class="row">
                                                        <label id="locLabel" for="txtLocName">Location Name <span class="reqd">*</span></label>

                                                        <input type="text" id="txtLocName" AutoCompleteType="Disabled" MaxLength="100" />

                                                    </div>
                                                </div>
                                                <div class="srchclr multirowbtn multirowbtnone" style="float: right;">
                                                    <img id="imgCreditH" title="Credit Hold" src="~/MOMUI/images/MSCreditHold.png" style="width: 20px; display:none">
                                                </div>
                                                <div class="input-field col s5">
                                                    <div class="row">
                                                        <div ID="UpdatePanel2">
                                                            <div>
                                                                <label id="lblAccountNo" for="txtAcctno">Account #</label>
                                                                <input type="text" id="txtAcctno" MaxLength="50" AutoCompleteType="Disabled" />

                                                                <input type="hidden" id="hdnAcctID" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="input-field col s2">
                                                    <div class="row btnlinks">
                                                        <input type="button" id="btnSageID" style="width:55px;" value="Check" CausesValidation="false" />
                                                    </div>
                                                </div>
                                                <div class="input-field col s5">
                                                    <div class="row">
                                                        <label class="drpdwn-label">Status</label>
                                                        <select id="ddlLocStatus" class="browser-default">
                                                            <option Value="0">Active</option>
                                                            <option Value="1">Inactive</option>
                                                        </select>
                                                    </div>
                                                </div>

                                                <div class="input-field col s5">
                                                    <div class="row">
                                                        <label class="drpdwn-label">Type</label>

                                                        <select id="ddlType" class="browser-default">
                                                            <option Value="">Select</option>
                                                        </select>
                                                    </div>
                                                </div>


                                                <div class="input-field col s2">
                                                    <div class="row">
                                                        &nbsp;
                                                    </div>
                                                </div>
                                                <div class="input-field col s5">
                                                    <div class="row">
                                                        <label class="drpdwn-label" id="lblDefaultWorker"></label>
                                                        <select id="ddlRoute" AutoPostBack="true" class="browser-default">
                                                            <option Value="">Select</option>
                                                        </select>
                                                    </div>
                                                </div>

                                                <div class="input-field col s5">
                                                    <div class="row">
                                                        <label class="drpdwn-label">Default Salesperson</label>
                                                        <select ID="ddlTerr" class="browser-default">
                                                            <option Value="">Select</option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="input-field col s2">
                                                    <div class="row">
                                                        &nbsp;
                                                    </div>
                                                </div>
                                                <div class="input-field col s5">
                                                    <div class="row">
                                                        <label class="drpdwn-label">Salesperson 2</label>
                                                        <select ID="ddlTerr2" class="browser-default">
                                                            <option Value="">Select</option>
                                                        </select>
                                                    </div>
                                                </div>


                                            </div>
                                            <div class="form-section3-blank">
                                                &nbsp;
                                            </div>
                                            <div class="form-section3">

                                                <div class="input-field col s12">
                                                    <div class="row">
                                                        <label id="lblAddress" for="txtAddress">Address</label>

                                                        <textarea id="txtAddress" rows="2" cols="20" class="materialize-textarea" placeholder="" onkeyup="return checkMaxLength(this, event, 35)" MaxLength="255"></textarea>

                                                        <span id="spnAddress" style="color: red; display: none;">Max 2 lines 30 characters each</span>
                                                    </div>
                                                </div>

                                                <div class="input-field col s5">
                                                    <div class="row">
                                                        <label for="txtCity">City</label>

                                                        <input type="text" id="txtCity" MaxLength="50" AutoCompleteType="Disabled" name="locality" />

                                                    </div>
                                                </div>
                                                <div class="input-field col s2">
                                                    <div class="row">
                                                        &nbsp;
                                                    </div>
                                                </div>
                                                <div class="input-field col s5">
                                                    <div class="row">
                                                        <label for="txtState">State/Province</label>
                                                        <input type="text" id="txtState" MaxLength="50" AutoCompleteType="Disabled" />

                                                    </div>
                                                </div>
                                                <div class="input-field col s5">
                                                    <div class="row">
                                                        <label for="txtZip">Zip/Postal Code</label>
                                                        <input type="text" id="txtZip" AutoCompleteType="Disabled" />
                                                    </div>
                                                </div>
                                                <div class="input-field col s2">
                                                    <div class="row">
                                                        &nbsp;
                                                    </div>
                                                </div>
                                                <div class="input-field col s5">
                                                    <div class="row">
                                                        <label for="txtCountry">Country</label>
                                                        <input type="text" id="txtCountry" MaxLength="50" AutoCompleteType="Disabled" />

                                                    </div>
                                                </div>
                                                <div class="input-field col s12">
                                                    <div class="row">
                                                        <label id="lbBusinessType" for="ddlBusinessType" class="drpdwn-label">Business Type</label>

                                                        <select id="ddlBusinessType" class="browser-default">
                                                            <option Value="">Select</option>
                                                        </select>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="form-section3-blank">
                                                &nbsp;
                                            </div>
                                            <div class="form-section3">

                                                <div class="input-field col s5">
                                                    <div class="row">
                                                        <label for="lat">
                                                            Latitude
                                                            <span class="reqd">*</span>
                                                        </label>
                                                        <input type="text" id="lat" name="lat" />
                                                    </div>
                                                </div>
                                                <div class="input-field col s2">
                                                    &nbsp;
                                                </div>
                                                <div class="input-field col s5">
                                                    <div class="row">
                                                        <label for="lng">
                                                            Longitude
                                                            <span class="reqd">*</span>
                                                        </label>
                                                        <input type="text" id="lng" name="lng" />
                                                        <input id="locality" disabled style="display: none;">
                                                        <input id="country" disabled style="display: none;">
                                                    </div>
                                                </div>
                                                <div class="input-field col s12">
                                                    <div class="row">
                                                        <div id="map" style="overflow: hidden !important; height: 170px!important;">
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>

                                    </div>
                                    <div class="form-section-row">

                                        <div class="section-ttle">Main Contact Details</div>
                                        <div class="form-section3">
                                            <div class="input-field col s12">
                                                <div class="row">
                                                    <label for="txtMaincontact">Main Contact</label>
                                                    <input type="text" id="txtMaincontact" MaxLength="50" AutoCompleteType="Disabled" />
                                                </div>
                                            </div>
                                            <div class="input-field col s12">
                                                <div class="row">
                                                    <label for="txtPhoneCust">Phone</label>
                                                    <input type="text" id="txtPhoneCust" MaxLength="28" AutoCompleteType="Disabled" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-section3-blank">
                                            &nbsp;
                                        </div>
                                        <div class="form-section3">
                                            <div class="input-field col s12">
                                                <div class="row">
                                                    <label for="txtCell">Cellular</label>
                                                    <input type="text" id="txtCell" MaxLength="28" AutoCompleteType="Disabled" />
                                                </div>
                                            </div>
                                            <div class="input-field col s12">
                                                <div class="row">
                                                    <label for="txtFax">Fax</label>
                                                    <input type="text" id="txtFax" MaxLength="28" AutoCompleteType="Disabled" />
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-section3-blank">
                                            &nbsp;
                                        </div>

                                        <div class="form-section3">
                                            <div class="input-field col s12">
                                                <div class="row">
                                                    <input type="text" id="txtEmail" class="form-control" AutoCompleteType="Disabled" MaxLength="99" />

                                                    <label for="txtEmail">Email</label>
                                                </div>
                                            </div>
                                            <div class="input-field col s12">
                                                <div class="row">
                                                    <input type="text" id="txtWebsite" AutoCompleteType="Disabled" />
                                                    <label for="txtWebsite">Website</label>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                    <div class="form-section-row">

                                        <div class="section-ttle">Billing Address</div>
                                        <div class="form-section3">

                                            <div style="margin-bottom: 50px;">
                                                <div class="input-field col s6">
                                                    <div class="checkrow">
                                                        <span class="filled-in">
                                                            <input type="checkbox" id="chkAddress" onclick="javascript:ChkAddress();" />
                                                        </span>
                                                        <label for="chkAddress">Same as location Address</label>
                                                    </div>
                                                </div>
                                                <div class="input-field col s6">
                                                    <div class="checkrow">
                                                        <span class="filled-in">
                                                            <input type="checkbox" id="chkCustomerAddress" onclick="javascript:ChkCustomerAddress();" />
                                                        </span>
                                                        <label for="chkCustomerAddress">Same as Customer Address</label>
                                                    </div>
                                                </div>
                                            </div>

                                            <div style="margin-bottom: 50px;">
                                                <div class="input-field col s6">
                                                    <div class="checkrow">
                                                        <span class="filled-in">
                                                            <input type="checkbox" id="chkCreditHold" />
                                                        </span>
                                                        <label for="chkCreditHold">Credit Hold</label>
                                                    </div>
                                                </div>
                                                <div class="input-field col s6">
                                                    <div class="checkrow">
                                                        <span class="filled-in">
                                                            <input type="checkbox" id="chkDispAlert" />
                                                        </span>
                                                        <label for="chkDispAlert">Dispatch Alert</label>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="input-field col s12" style="margin-top: 20px;">
                                                <div class="row">
                                                    <label for="txtCreditReason">Reason</label>
                                                    <input type="text" id="txtCreditReason" class="materialize-textarea" TextMode="MultiLine" AutoCompleteType="Disabled" />
                                                </div>
                                            </div>

                                        </div>
                                        <div class="form-section3-blank">&nbsp;</div>
                                        <div class="form-section3">
                                            <div class="input-field col s12">
                                                <div class="row">
                                                    <label for="txtBillAdd">Address</label>
                                                    <textarea id="txtBillAdd" onkeyup="return checkMaxLength(this, event, 35)" class="materialize-textarea" MaxLength="255"></textarea>
                                                </div>
                                            </div>
                                            <div class="input-field col s5">
                                                <div class="row">
                                                    <label for="txtBillCity">City</label>
                                                    <input type="text" id="txtBillCity" MaxLength="50" AutoCompleteType="Disabled" />
                                                </div>
                                            </div>
                                            <div class="input-field col s2">
                                                <div class="row">
                                                    &nbsp;
                                                </div>
                                            </div>
                                            <div class="input-field col s5">
                                                <div class="row">
                                                    <label for="txtBillState">State/Province</label>
                                                    <input type="text" id="txtBillState" MaxLength="10" AutoCompleteType="Disabled" />
                                                </div>
                                            </div>

                                            <div class="input-field col s5">
                                                <div class="row">
                                                    <label for="txtBillZip">Zip/Postal Code</label>
                                                    <input type="text" id="txtBillZip" MaxLength="10" AutoCompleteType="Disabled" />
                                                </div>
                                            </div>
                                            <div class="input-field col s2">
                                                <div class="row">
                                                    &nbsp;
                                                </div>
                                            </div>
                                            <div class="input-field col s5">
                                                <div class="row">

                                                    <label class="drpdwn-label">Country</label>
                                                    <select id="drpBillCountry" ToolTip="Country" class="browser-default">
                                                        <option Value="Select">Select</option>
                                                        <option Value="US">United States</option>
                                                        <option Value="CA">Canada</option>
                                                        <option Value="AF">Afghanistan</option>
                                                        <option Value="AL">Albania</option>
                                                        <option Value="DZ">Algeria</option>
                                                        <option Value="AS">American Samoa</option>
                                                        <option Value="AD">Andorra</option>
                                                        <option Value="AO">Angola</option>
                                                        <option Value="AI">Anguilla</option>
                                                        <option Value="AQ">Antarctica</option>
                                                        <option Value="AG">Antigua And Barbuda</option>
                                                        <option Value="AR">Argentina</option>
                                                        <option Value="AM">Armenia</option>
                                                        <option Value="AW">Aruba</option>
                                                        <option Value="AU">Australia</option>
                                                        <option Value="AT">Austria</option>
                                                        <option Value="AZ">Azerbaijan</option>
                                                        <option Value="BS">Bahamas</option>
                                                        <option Value="BH">Bahrain</option>
                                                        <option Value="BD">Bangladesh</option>
                                                        <option Value="BB">Barbados</option>
                                                        <option Value="BY">Belarus</option>
                                                        <option Value="BE">Belgium</option>
                                                        <option Value="BZ">Belize</option>
                                                        <option Value="BJ">Benin</option>
                                                        <option Value="BM">Bermuda</option>
                                                        <option Value="BT">Bhutan</option>
                                                        <option Value="BO">Bolivia</option>
                                                        <option Value="BA">Bosnia And Herzegowina</option>
                                                        <option Value="BW">Botswana</option>
                                                        <option Value="BV">Bouvet Island</option>
                                                        <option Value="BR">Brazil</option>
                                                        <option Value="IO">British Indian Ocean Territory</option>
                                                        <option Value="BN">Brunei Darussalam</option>
                                                        <option Value="BG">Bulgaria</option>
                                                        <option Value="BF">Burkina Faso</option>
                                                        <option Value="BI">Burundi</option>
                                                        <option Value="KH">Cambodia</option>
                                                        <option Value="CM">Cameroon</option>
                                                        <option Value="CV">Cape Verde</option>
                                                        <option Value="KY">Cayman Islands</option>
                                                        <option Value="CF">Central African Republic</option>
                                                        <option Value="TD">Chad</option>
                                                        <option Value="CL">Chile</option>
                                                        <option Value="CN">China</option>
                                                        <option Value="CX">Christmas Island</option>
                                                        <option Value="CC">Cocos (Keeling) Islands</option>
                                                        <option Value="CO">Colombia</option>
                                                        <option Value="KM">Comoros</option>
                                                        <option Value="CG">Congo</option>
                                                        <option Value="CK">Cook Islands</option>
                                                        <option Value="CR">Costa Rica</option>
                                                        <option Value="CI">Cote D'Ivoire</option>
                                                        <option Value="HR">Croatia (Local Name: Hrvatska)</option>
                                                        <option Value="CU">Cuba</option>
                                                        <option Value="CY">Cyprus</option>
                                                        <option Value="CZ">Czech Republic</option>
                                                        <option Value="DK">Denmark</option>
                                                        <option Value="DJ">Djibouti</option>
                                                        <option Value="DM">Dominica</option>
                                                        <option Value="DO">Dominican Republic</option>
                                                        <option Value="TP">East Timor</option>
                                                        <option Value="EC">Ecuador</option>
                                                        <option Value="EG">Egypt</option>
                                                        <option Value="SV">El Salvador</option>
                                                        <option Value="GQ">Equatorial Guinea</option>
                                                        <option Value="ER">Eritrea</option>
                                                        <option Value="EE">Estonia</option>
                                                        <option Value="ET">Ethiopia</option>
                                                        <option Value="FK">Falkland Islands (Malvinas)</option>
                                                        <option Value="FO">Faroe Islands</option>
                                                        <option Value="FJ">Fiji</option>
                                                        <option Value="FI">Finland</option>
                                                        <option Value="FR">France</option>
                                                        <option Value="GF">French Guiana</option>
                                                        <option Value="PF">French Polynesia</option>
                                                        <option Value="TF">French Southern Territories</option>
                                                        <option Value="GA">Gabon</option>
                                                        <option Value="GM">Gambia</option>
                                                        <option Value="GE">Georgia</option>
                                                        <option Value="DE">Germany</option>
                                                        <option Value="GH">Ghana</option>
                                                        <option Value="GI">Gibraltar</option>
                                                        <option Value="GR">Greece</option>
                                                        <option Value="GL">Greenland</option>
                                                        <option Value="GD">Grenada</option>
                                                        <option Value="GP">Guadeloupe</option>
                                                        <option Value="GU">Guam</option>
                                                        <option Value="GT">Guatemala</option>
                                                        <option Value="GN">Guinea</option>
                                                        <option Value="GW">Guinea-Bissau</option>
                                                        <option Value="GY">Guyana</option>
                                                        <option Value="HT">Haiti</option>
                                                        <option Value="HM">Heard And Mc Donald Islands</option>
                                                        <option Value="VA">Holy See (Vatican City State)</option>
                                                        <option Value="HN">Honduras</option>
                                                        <option Value="HK">Hong Kong</option>
                                                        <option Value="HU">Hungary</option>
                                                        <option Value="IS">Icel And</option>
                                                        <option Value="IN">India</option>
                                                        <option Value="ID">Indonesia</option>
                                                        <option Value="IR">Iran (Islamic Republic Of)</option>
                                                        <option Value="IQ">Iraq</option>
                                                        <option Value="IE">Ireland</option>
                                                        <option Value="IL">Israel</option>
                                                        <option Value="IT">Italy</option>
                                                        <option Value="JM">Jamaica</option>
                                                        <option Value="JP">Japan</option>
                                                        <option Value="JO">Jordan</option>
                                                        <option Value="KZ">Kazakhstan</option>
                                                        <option Value="KE">Kenya</option>
                                                        <option Value="KI">Kiribati</option>
                                                        <option Value="KP">Korea, Dem People'S Republic</option>
                                                        <option Value="KR">Korea, Republic Of</option>
                                                        <option Value="KW">Kuwait</option>
                                                        <option Value="KG">Kyrgyzstan</option>
                                                        <option Value="LA">Lao People'S Dem Republic</option>
                                                        <option Value="LV">Latvia</option>
                                                        <option Value="LB">Lebanon</option>
                                                        <option Value="LS">Lesotho</option>
                                                        <option Value="LR">Liberia</option>
                                                        <option Value="LY">Libyan Arab Jamahiriya</option>
                                                        <option Value="LI">Liechtenstein</option>
                                                        <option Value="LT">Lithuania</option>
                                                        <option Value="LU">Luxembourg</option>
                                                        <option Value="MO">Macau</option>
                                                        <option Value="MK">Macedonia</option>
                                                        <option Value="MG">Madagascar</option>
                                                        <option Value="MW">Malawi</option>
                                                        <option Value="MY">Malaysia</option>
                                                        <option Value="MV">Maldives</option>
                                                        <option Value="ML">Mali</option>
                                                        <option Value="MT">Malta</option>
                                                        <option Value="MH">Marshall Islands</option>
                                                        <option Value="MQ">Martinique</option>
                                                        <option Value="MR">Mauritania</option>
                                                        <option Value="MU">Mauritius</option>
                                                        <option Value="YT">Mayotte</option>
                                                        <option Value="MX">Mexico</option>
                                                        <option Value="FM">Micronesia, Federated States</option>
                                                        <option Value="MD">Moldova, Republic Of</option>
                                                        <option Value="MC">Monaco</option>
                                                        <option Value="MN">Mongolia</option>
                                                        <option Value="MS">Montserrat</option>
                                                        <option Value="MA">Morocco</option>
                                                        <option Value="MZ">Mozambique</option>
                                                        <option Value="MM">Myanmar</option>
                                                        <option Value="NA">Namibia</option>
                                                        <option Value="NR">Nauru</option>
                                                        <option Value="NP">Nepal</option>
                                                        <option Value="NL">Netherlands</option>
                                                        <option Value="AN">Netherlands Ant Illes</option>
                                                        <option Value="NC">New Caledonia</option>
                                                        <option Value="NZ">New Zealand</option>
                                                        <option Value="NI">Nicaragua</option>
                                                        <option Value="NE">Niger</option>
                                                        <option Value="NG">Nigeria</option>
                                                        <option Value="NU">Niue</option>
                                                        <option Value="NF">Norfolk Island</option>
                                                        <option Value="MP">Northern Mariana Islands</option>
                                                        <option Value="NO">Norway</option>
                                                        <option Value="OM">Oman</option>
                                                        <option Value="PK">Pakistan</option>
                                                        <option Value="PW">Palau</option>
                                                        <option Value="PA">Panama</option>
                                                        <option Value="PG">Papua New Guinea</option>
                                                        <option Value="PY">Paraguay</option>
                                                        <option Value="PE">Peru</option>
                                                        <option Value="PH">Philippines</option>
                                                        <option Value="PN">Pitcairn</option>
                                                        <option Value="PL">Poland</option>
                                                        <option Value="PT">Portugal</option>
                                                        <option Value="PR">Puerto Rico</option>
                                                        <option Value="QA">Qatar</option>
                                                        <option Value="RE">Reunion</option>
                                                        <option Value="RO">Romania</option>
                                                        <option Value="RU">Russian Federation</option>
                                                        <option Value="RW">Rwanda</option>
                                                        <option Value="KN">Saint K Itts And Nevis</option>
                                                        <option Value="LC">Saint Lucia</option>
                                                        <option Value="VC">Saint Vincent, The Grenadines</option>
                                                        <option Value="WS">Samoa</option>
                                                        <option Value="SM">San Marino</option>
                                                        <option Value="ST">Sao Tome And Principe</option>
                                                        <option Value="SA">Saudi Arabia</option>
                                                        <option Value="SN">Senegal</option>
                                                        <option Value="SC">Seychelles</option>
                                                        <option Value="SL">Sierra Leone</option>
                                                        <option Value="SG">Singapore</option>
                                                        <option Value="SK">Slovakia (Slovak Republic)</option>
                                                        <option Value="SI">Slovenia</option>
                                                        <option Value="SB">Solomon Islands</option>
                                                        <option Value="SO">Somalia</option>
                                                        <option Value="ZA">South Africa</option>
                                                        <option Value="GS">South Georgia , S Sandwich Is.</option>
                                                        <option Value="ES">Spain</option>
                                                        <option Value="LK">Sri Lanka</option>
                                                        <option Value="SH">St. Helena</option>
                                                        <option Value="PM">St. Pierre And Miquelon</option>
                                                        <option Value="SD">Sudan</option>
                                                        <option Value="SR">Suriname</option>
                                                        <option Value="SJ">Svalbard, Jan Mayen Islands</option>
                                                        <option Value="SZ">Sw Aziland</option>
                                                        <option Value="SE">Sweden</option>
                                                        <option Value="CH">Switzerland</option>
                                                        <option Value="SY">Syrian Arab Republic</option>
                                                        <option Value="TW">Taiwan</option>
                                                        <option Value="TJ">Tajikistan</option>
                                                        <option Value="TZ">Tanzania, United Republic Of</option>
                                                        <option Value="TH">Thailand</option>
                                                        <option Value="TG">Togo</option>
                                                        <option Value="TK">Tokelau</option>
                                                        <option Value="TO">Tonga</option>
                                                        <option Value="TT">Trinidad And Tobago</option>
                                                        <option Value="TN">Tunisia</option>
                                                        <option Value="TR">Turkey</option>
                                                        <option Value="TM">Turkmenistan</option>
                                                        <option Value="TC">Turks And Caicos Islands</option>
                                                        <option Value="TV">Tuvalu</option>
                                                        <option Value="UG">Uganda</option>
                                                        <option Value="UA">Ukraine</option>
                                                        <option Value="AE">United Arab Emirates</option>
                                                        <option Value="GB">United Kingdom</option>
                                                        <option Value="UM">United States Minor Is.</option>
                                                        <option Value="UY">Uruguay</option>
                                                        <option Value="UZ">Uzbekistan</option>
                                                        <option Value="VU">Vanuatu</option>
                                                        <option Value="VE">Venezuela</option>
                                                        <option Value="VN">Viet Nam</option>
                                                        <option Value="VG">Virgin Islands (British)</option>
                                                        <option Value="VI">Virgin Islands (U.S.)</option>
                                                        <option Value="WF">Wallis And Futuna Islands</option>
                                                        <option Value="EH">Western Sahara</option>
                                                        <option Value="YE">Yemen</option>
                                                        <option Value="YU">Yugoslavia</option>
                                                        <option Value="ZR">Zaire</option>
                                                        <option Value="ZM">Zambia</option>
                                                        <option Value="ZW">Zimbabwe</option>
                                                    </select>
                                                </div>
                                            </div>

                                            <div class="input-field col s12" id="dvCompanyPermission">
                                                <div class="row">
                                                    <select id="ddlCompany" class="browser-default">
                                                        <option Value="">Select</option>
                                                    </select>
                                                    <label for="txtCompany" class="drpdwn-label">Company</label><br />
                                                    <input type="text" id="txtCompany" Enabled="false" />
                                                </div>
                                            </div>


                                        </div>
                                        <div class="form-section3-blank">&nbsp;</div>
                                        <div class="form-section3">
                                            <div class="input-field col s12">
                                                <div class="row">
                                                    <label for="txtRemarks">Remarks</label>
                                                    <textarea id="txtRemarks" TextMode="MultiLine" MaxLength="8000" class="materialize-textarea"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-section3-blank">&nbsp;</div>
                                        <div class="form-section3">
                                            <div class="input-field col s12" style="margin-top: 25px">
                                                <label class="drpdwn-label">Consultant</label>
                                                <select id="ddlConsultant" class="browser-default">
                                                    <option Value="">Select</option>
                                                </select>
                                            </div>
                                        </div>

                                    </div>


                                    <div class="form-section-row">

                                        <div class="section-ttle">Billing Details</div>

                                        <div class="form-section3">
                                            <div class="input-field col s6" style="margin-top: 4px; margin-bottom: 4px;">
                                                <div class="checkrow">
                                                    <span class="filled-in">
                                                        <input type="checkbox" id="chkPrintOnly" />
                                                    </span>
                                                    <label for="chkPrintOnly">Print Invoice/Statements</label>
                                                </div>
                                            </div>
                                            <div class="input-field col s6" style="margin-top: 4px; margin-bottom: 4px;">
                                                <div class="checkrow">
                                                    <span class="filled-in">
                                                        <input type="checkbox" id="chkEmail" AutoPostBack="true" />
                                                    </span>
                                                    <label for="chkEmail">Email Invoice/Statements</label>
                                                </div>
                                            </div>
                                            <div class="input-field col s6" style="margin-top: 4px; margin-bottom: 4px;">
                                                <div class="checkrow">
                                                    <span class="filled-in">
                                                        <input type="checkbox" id="chkNoCustStatement" />
                                                    </span>
                                                    <label for="chkEmail">No Customer Statement</label>
                                                </div>
                                            </div>

                                            <div class="input-field col s12">
                                                <div class="row">
                                                    <label for="txtEmailTo">Service Email To:</label>
                                                    <input type="text" id="txtEmailTo" MaxLength="500" AutoCompleteType="Disabled" class="form-control" />

                                                </div>
                                            </div>
                                            <div class="input-field col s12">
                                                <div class="row">
                                                    <label for="txtEmailCC" class="active">Service Email CC:</label>
                                                    <input type="text" id="txtEmailCC" MaxLength="500" AutoCompleteType="Disabled" class="form-control" />
                                                </div>
                                            </div>

                                            <div class="input-field col s12">
                                                <div class="row">
                                                    <label for="txtEmailToInv">Invoice/Statements Email To:</label>
                                                    <input type="text" id="txtEmailToInv" AutoCompleteType="Disabled" MaxLength="500" />
                                                </div>
                                            </div>

                                            <div class="input-field col s12">
                                                <div class="row">
                                                    <label for="txtEmailCCInv">Invoice/Statements Email CC:</label>
                                                    <input type="text" id="txtEmailCCInv" AutoCompleteType="Disabled" MaxLength="500" />
                                                </div>
                                            </div>

                                        </div>
                                        <div class="form-section3-blank">
                                            &nbsp;
                                        </div>
                                        <div class="form-section3">
                                            <div class="input-field col s12" id="dvZone">
                                                <div class="row">
                                                    <label class="drpdwn-label">Zone</label>
                                                    <select id="ddlZone" class="browser-default">
                                                        <option value="">Select</option>
                                                    </select>
                                                </div>
                                            </div>


                                            <div class="input-field col s12">
                                                <div class="row">
                                                    <label id="lblContractBill" class="drpdwn-label">Contract Billing</label>
                                                    <select id="ddlContractBill" class="browser-default" AutoPostBack="True">
                                                        <option value="">Select</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="input-field col s12">
                                                <div class="row">
                                                    <label id="Label6" class="drpdwn-label">Terms</label>
                                                    <select id="ddlTerms" class="browser-default">
                                                        <option value="">Select</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="input-field col s12">
                                                <div class="row">
                                                    <label id="lblCustom1" for="txtCst1"></label>
                                                    <input type="text" id="txtCst1" AutoCompleteType="Disabled" class="form-control" />
                                                </div>
                                            </div>
                                            <div class="input-field col s12">
                                                <div class="row">
                                                    <label id="lblCustom2" for="txtCst2"></label>
                                                    <input type="text" id="txtCst2" AutoCompleteType="Disabled" />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-section3-blank">
                                            &nbsp;
                                        </div>
                                        <div class="form-section3">
                                            <div class="input-field col s5">
                                                <div class="row">
                                                    <label class="drpdwn-label">Sales Tax</label>
                                                    <select id="ddlSTax" class="browser-default">
                                                        <option value="">Select</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="input-field col s2">
                                                <div class="row">
                                                    &nbsp;
                                                </div>
                                            </div>
                                            <div class="input-field col s5" id="dvSalesTax2">
                                                <div class="row">
                                                    <label class="drpdwn-label">Sales Tax2</label>
                                                    <select id="ddlSalesTax2" class="browser-default">
                                                        <option value="">Select</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="input-field col s12" id="dvUseTax">
                                                <div class="row">
                                                    <label class="drpdwn-label">Use Tax</label>
                                                    <select id="ddlUseTax" class="browser-default">
                                                        <option value="">Select</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="input-field col s12" style="margin-top: 4px; margin-bottom: 4px;">
                                                <div class="checkrow">
                                                    <input type="checkbox" id="CopyToLocAndJob" onclick="checked1();" />
                                                    <label for="CopyToLocAndJob">Copy To Project</label>
                                                </div>
                                            </div>
                                            <div class="input-field col s5">
                                                <div class="row">
                                                    <label for="txtBillRate">
                                                        Billing Rate
                                                    </label>
                                                    <input type="text" id="txtBillRate" MaxLength="15" AutoCompleteType="Disabled" onkeypress="return isDecimalKey(this,event)" onchange="ConvertDigit(this)" />
                                                </div>
                                            </div>
                                            <div class="input-field col s2">
                                                <div class="row">
                                                    &nbsp;
                                                </div>
                                            </div>
                                            <div class="input-field col s5">
                                                <div class="row">
                                                    <label for="txtOt">OT Rate</label>
                                                    <input type="text" id="txtOt" MaxLength="15" AutoCompleteType="Disabled" onkeypress="return isDecimalKey(this,event)" onchange="ConvertDigit(this)" />
                                                </div>
                                            </div>

                                            <div class="input-field col s5">
                                                <div class="row">
                                                    <label for="txtNt">1.7 Rate</label>
                                                    <input type="text" id="txtNt" MaxLength="15" AutoCompleteType="Disabled" onkeypress="return isDecimalKey(this,event)" onchange="ConvertDigit(this)" />
                                                </div>
                                            </div>
                                            <div class="input-field col s2">
                                                <div class="row">
                                                    &nbsp;
                                                </div>
                                            </div>
                                            <div class="input-field col s5">
                                                <div class="row">
                                                    <label for="txtDt">DT Rate</label>
                                                    <input type="text" id="txtDt" MaxLength="15" AutoCompleteType="Disabled" onkeypress="return isDecimalKey(this,event)" onchange="ConvertDigit(this)" />
                                                </div>
                                            </div>
                                            <div class="input-field col s5">
                                                <div class="row">
                                                    <label for="txtTravel">Travel Rate</label>
                                                    <input type="text" id="txtTravel" MaxLength="15" AutoCompleteType="Disabled" onkeypress="return isDecimalKey(this,event)" onchange="ConvertDigit(this)" />
                                                </div>
                                            </div>
                                            <div class="input-field col s2">
                                                <div class="row">
                                                    &nbsp;
                                                </div>
                                            </div>
                                            <div class="input-field col s5">
                                                <div class="row">
                                                    <label for="txtMileage">Mileage</label>
                                                    <input type="text" id="txtMileage" MaxLength="15" AutoCompleteType="Disabled" onkeypress="return isDecimalKey(this,event)" onchange="ConvertDigit(this)" />
                                                </div>
                                            </div>
                                        </div>


                                    </div>
                                    <div class="cf"></div>
                                </div>

                            </div>
                            <div>
                                <input type="hidden" id="hdnCustomerAddress" />
                                <input type="hidden" id="hdnCustomerCity" />
                                <input type="hidden" id="hdnCustomerState" />
                                <input type="hidden" id="hdnCustomerZipCode" />
                                <input type="hidden" id="hdnCustomerCountry" />
                            </div>
                        </div>
                    </li>
                    <li id="adContacts">
                        <div id="accrdcontacts" class="collapsible-header accrd accordian-text-custom">
                            <i class="mdi-action-account-circle"></i>Contacts
                        </div>
                        <div class="collapsible-body">
                            <div id="pnlgvConPermission">
                                <div class="form-content-wrap">
                                    <div class="form-content-pd">
                                        <div class="btncontainer">
                                            <div id="pnlContractGridButtons">
                                                <div class="btnlinks">
                                                    <a id="lnkAddnew" CausesValidation="False" onclick="return AddContactClick(this);">Add</a>
                                                </div>
                                                <div class="btnlinks">
                                                    <a onclick="return EditContactClick(this);"
                                                       id="btnEdit" CausesValidation="False">Edit</a>
                                                </div>
                                                <div class="btnlinks">
                                                    <a onclick="return DeleteContactClick(this);"
                                                       id="btnDelete" CausesValidation="False">Delete</a>
                                                </div>
                                                <div class="btnlinks">
                                                    <a id="lnkMail" style="cursor: pointer;">Email</a>
                                                </div>
                                            </div>

                                            <div class="btnlinks">
                                                <a id="lnkShowLog" CausesValidation="False">Contact log</a>

                                            </div>
                                        </div>
                                        <div class="grid_container">
                                            <div class="RadGrid RadGrid_Material FormGrid">


                                            </div>
                                        </div>

                                        <div class="cf"></div>
                                    </div>
                                </div>
                            </div>
                            <div style="clear: both;"></div>
                        </div>
                    </li>
                    <li id="adDocuments">
                        <div id="accrddocuments" class="collapsible-header accrd accordian-text-custom">
                            <i class="mdi-action-credit-card"></i>Documents
                        </div>
                        <div class="collapsible-body">
                            <div id="pnlDocPermission">
                                <div id="pnlDoc" Visible="false">
                                    <div id="pnlDocumentButtons">
                                        <div class="form-content-wrap">
                                            <div class="form-content-pd">
                                                <div class="form-section-row">
                                                    <div class="col s12 m12 l12">
                                                        <div class="row">
                                                            <input type="file" id="FileUpload1" runat="server"
                                                                   onchange="AddDocumentClick(this);" class="dropify" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="btnlinks">
                                                    <a id="lnkUploadDoc" style="display: none">Upload</a>
                                                </div>
                                                <div class="btnlinks">
                                                    <a id="lnkPostback" style="display: none">Postback</a>
                                                </div>
                                                <div class="btnlinks" style="margin-left: -10px;">
                                                    <a id="lnkDeleteDoc" runat="server" onclick="return DeleteDocumentClick(this);">Delete</a>
                                                </div>
                                                <span class="tro trost">
                                                    <input type="checkbox" id="chkShowAllDocs" style="padding-left: 5px; color: black; font-weight: 400" />
                                                    <label for="chkShowAllDocs" class="css-checkbox">Show All Documents</label>
                                                </span>

                                                <div class="form-section-row">
                                                    <label id="lblMsg"></label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div style="clear: both;"></div>
                        </div>
                    </li>

                    <li id="adViewEquipments">
                        <div id="accrdequipments" class="collapsible-header accrd accordian-text-custom"><i class="mdi-maps-local-laundry-service"></i>Equipment</div>
                        <div class="collapsible-body">
                            <div class="form-content-wrap">
                                <div class="form-content-pd">
                                    <div id="pnlEqGridButtons">
                                        <div class="btncontainer">
                                            <div class="btnlinks">
                                                <a id="lnkAddEQ" onclick='return AddEquipmentClick(this)' CausesValidation="False">Add</a>
                                            </div>
                                            <div class="btnlinks">
                                                <a id="lnkEditEq" onclick='return EditEquipmentClick(this)' CausesValidation="False">Edit</a>
                                            </div>
                                            <div class="btnlinks">
                                                <a id="btnCopyEQ" onclick='return AddEquipmentClick(this)'
                                                   CausesValidation="False">Copy</a>
                                            </div>
                                            <div class="btnlinks">
                                                <a id="lnkDeleteEQ" onclick='return DeleteEquipmentClick(this)' CausesValidation="False">Delete</a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="grid_container">
                                        <div class="RadGrid RadGrid_Material FormGrid">

                                        </div>
                                    </div>
                                    <div class="cf"></div>
                                </div>
                            </div>

                            <div style="clear: both;"></div>
                        </div>
                    </li>
                    <li id="adLocationHistory">
                        <div id="accrdlocationHistory" class="collapsible-header accrd accordian-text-custom"><i class="mdi-social-location-city"></i>Location History</div>
                        <div class="collapsible-body">
                            <div class="form-content-wrap">
                                <div class="form-content-pd">
                                    <div class="srchpaneinner">
                                        <div class="srchtitle srchtitlecustomwidth">
                                            Search
                                        </div>
                                        <div class="srchinputwrap">
                                            <select id="ddlSearch" onchange="showFilterSearchHistory();" class="browser-default selectst">
                                                <option Value=" ">Select</option>
                                                <option Value="t.ID">Ticket #</option>
                                                <option Value="t.ldesc4">Address</option>
                                                <option Value="t.cat">Category</option>
                                                <option Value="t.WorkOrder">WO #</option>
                                                <option Value="e.unit">Equipment ID</option>
                                                <option Value="t.fdesc">Reason for service</option>
                                                <option Value="t.descres">Work Comp Desc</option>
                                            </select>
                                        </div>
                                        <div class="srchinputwrap">
                                            <input type="text" id="txtSearch" class="srchcstm" placeholder="Search" />
                                            <select id="ddlCategory" class="browser-default selectst" Style="display: none">
                                                <option>Select</option>
                                            </select>
                                            <label id="lblRecordCount0" style="font-style: italic;"></label>
                                        </div>
                                    </div>
                                    <div class="srchpaneinner">
                                        <div class="srchtitle srchtitlecustomwidth">
                                            Status
                                        </div>
                                        <div class="srchinputwrap">
                                            <select id="ddlStatus" class="browser-default selectst">
                                                <option Value="-1">All</option>
                                                <option Value="1">Assigned</option>
                                                <option Value="2">Enroute</option>
                                                <option Value="3">Onsite</option>
                                                <option Value="4">Completed</option>
                                                <option Value="5">Hold</option>
                                            </select>
                                        </div>
                                        <div class="srchinputwrap">
                                            <input type="text" id="txtfromDate" class="srchcstm datepicker_mom" AutoCompleteType="Disabled"
                                                   MaxLength="50" />
                                        </div>
                                        <div class="srchinputwrap">
                                            <input type="text" id="txtToDate" class="srchcstm datepicker_mom" AutoCompleteType="Disabled"
                                                   MaxLength="50" />

                                        </div>
                                        <div class="srchinputwrap tabcontainer">
                                            <ul class="tabselect accrd-tabselect" id="testSHradiobutton">
                                                <li>

                                                    <a AutoPostBack="False" id="lnkHistoryDec" onclick="dec_dateHistory('dec','rdCalHistory');return false;"><i class='mdi-hardware-keyboard-arrow-left'></i></a>

                                                </li>
                                                <li>
                                                    <label id="lblDay">
                                                        <input type="radio" id="rdDay" name="rdCalHistory" value="rdDay" onclick="SelectDateHistory('Day', 'hdnHistoryDate')" />

                                                        Day
                                                    </label>
                                                </li>
                                                <li>
                                                    <label id="lblWeek">
                                                        <input type="radio" id="rdWeek" name="rdCalHistory" value="rdWeek" onclick="SelectDateHistory('Week', 'hdnHistoryDate')" />

                                                        Week
                                                    </label>
                                                </li>
                                                <li>
                                                    <label id="lblMonth">
                                                        <input type="radio" id="rdMonth" name="rdCalHistory" value="rdMonth" onclick="SelectDateHistory('Month',  'hdnHistoryDate')" />

                                                        Month
                                                    </label>
                                                </li>
                                                <li>
                                                    <label id="lblQuarter">
                                                        <input type="radio" id="rdQuarter" name="rdCalHistory" value="rdQuarter" onclick="SelectDateHistory('Quarter',  'hdnHistoryDate')" />

                                                        Quarter
                                                    </label>
                                                </li>
                                                <li>
                                                    <label id="lblYear">
                                                        <input type="radio" id="rdYear" name="rdCalHistory" value="rdYear" onclick="SelectDateHistory('Year', 'hdnHistoryDate')" />

                                                        Year
                                                    </label>
                                                </li>
                                                <li>
                                                    <a id="lnkHistoryInc" onclick="dec_dateHistory('inc','rdCalHistory');return false"><i class='mdi-hardware-keyboard-arrow-right'></i></a>
                                                </li>

                                            </ul>
                                        </div>


                                        <div class="btnlinksicon">
                                            <a id="btnSearch" CausesValidation="false">
                                                <i class="mdi-action-search"></i>
                                            </a>

                                        </div>
                                        <div class="btnlinksicon">
                                            <a id="lnkPrint" onclick="return checkDateRange();"><i class="fa fa-print"></i></a>
                                        </div>

                                        <div style="padding-top:14px">
                                            <a id="lnkShowAllTicket" onclick="ResetShowAllHistory();"
                                               CausesValidation="False">Show All Tickets</a>
                                        </div>
                                    </div>



                                    <div id="pnlGridButtons">
                                        <div class="btncontainer">
                                            <div class="btnlinks">
                                                <a id="lnkAddTicket" onclick="return AddTicketClick(this)">Add</a>
                                            </div>
                                            <div class="btnlinks">
                                                <a id="lnkEditTicket" onclick="return EditTicketClick(this)">Edit</a>
                                            </div>
                                            <div class="btnlinks">
                                                <a id="lnkDeleteTicket" CausesValidation="False" onclick="return CheckDeleteLocationHistory();">Delete</a>
                                            </div>
                                            <div class="btnlinks">
                                                <a id="lnkServiceExcel">Export to Excel</a>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="grid_container" style="margin-top: 10px;">
                                        <div class="RadGrid RadGrid_Material FormGrid">

                                        </div>
                                    </div>


                                    <div class="cf"></div>
                                </div>

                            </div>
                        </div>
                    </li>
                    <li id="adTransactions">
                        <div id="accrdtransactions" class="collapsible-header accrd accordian-text-custom"><i class="mdi-action-credit-card"></i>Transactions</div>
                        <div class="collapsible-body" id="transactions">
                            <div class="form-content-wrap">
                                <div class="form-content-pd">
                                    <div class="srchpaneinner">
                                        <div class="srchtitle srchtitlecustomwidth" style="padding-left: 15px;">
                                            Invoices
                                        </div>
                                        <div class="srchinputwrap" style="margin-right: 24px;">
                                            <select id="ddlSearchInv" onchange="showFilterSearch();"
                                                    class="browser-default selectsml selectst">
                                                <option Value=" ">Select</option>
                                                <option Value="i.ref">Invoice#</option>
                                                <option Value="i.fdate">Invoice Date</option>
                                            </select>
                                        </div>
                                        <div class="srchinputwrap">
                                            <select id="ddlDepartment"
                                                    style="display: none" class="browser-default selectsml selectst">
                                                <option Value=" ">Select</option>
                                            </select>
                                            <select id="ddlStatusInv"
                                                    style="display: none" class="browser-default">
                                                <option Value="0">Open</option>
                                                <option Value="1">Paid</option>
                                                <option Value="2">Voided</option>
                                                <option Value="3">Partially Paid</option>
                                                <option Value="4">Marked as Pending</option>
                                            </select>
                                            <select id="ddllocation"
                                                    style="display: none" class="browser-default">
                                                <option Value=" ">Select</option>
                                            </select>
                                            <input type="text" id="txtInvDt" class="srchcstm datepicker_mom"
                                                   style="display: none" />

                                            <input type="text" id="txtSearchInv" class="srchcstm" placeholder="Search..." />
                                        </div>
                                        <div class="srchinputwrap rdleftmgn">
                                            <div class="rdpairing">
                                                <div class="rd-flt">

                                                    <input id="rdAll" class="with-gap" name="radio-group" type="radio" value="rdAll" checked>
                                                    <label for="rdAll">All</label>
                                                </div>
                                                <div class="rd-flt">
                                                    <input id="rdOpen" class="with-gap" name="radio-group" type="radio" value="rdOpen">

                                                    <label for="rdOpen">Open</label>

                                                </div>

                                                <div class="rd-flt">

                                                    <input id="rdClosed" class="with-gap" name="radio-group" type="radio" value="rdClosed">
                                                    <label for="rdClosed">Closed</label>

                                                </div>
                                                <input type="hidden" id="hdnSearchValue" ClientIDMode="Static" />
                                            </div>

                                            <div class="rdpairing">
                                                <div class="rd-flt">
                                                    <input id="rdAll2" class="with-gap" name="radio-group1" type="radio" value="rdAll2" checked>
                                                    <label for="rdAll2">All</label>
                                                </div>

                                                <div class="rd-flt">
                                                    <input id="rdCharges" class="with-gap" name="radio-group1" type="radio" value="rdCharges">
                                                    <label for="rdCharges">Charges</label>
                                                </div>

                                                <div class="rd-flt">
                                                    <input id="rdCredit" class="with-gap" name="radio-group1" type="radio" value="rdCredit">
                                                    <label for="rdCredit">Credits</label>
                                                </div>
                                            </div>

                                            <input type="hidden" id="hdnSearchBy" ClientIDMode="Static" />
                                        </div>
                                        <div style="float: right">
                                            <span>
                                                Location Balance:
                                                <label id="lblCustomerBalance">$0.00</label>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="srchpaneinner">
                                        <div class="srchtitle srchtitlecustomwidth" style="padding-left: 15px;">
                                            Date
                                        </div>
                                        <div class="srchinputwrap" id="divDates">
                                            <input type="text" id="txtInvDtFrom" class="srchcstm datepicker_mom" AutoCompleteType="Disabled" />
                                        </div>
                                        <div class="srchinputwrap" id="divDates_1">
                                            <input type="text" id="txtInvDtTo" class="srchcstm datepicker_mom" AutoCompleteType="Disabled" />
                                        </div>
                                        <div class="srchinputwrap tabcontainer">
                                            <ul class="tabselect accrd-tabselect" id="testradiobutton">
                                                <li>

                                                    <a AutoPostBack="False" id="LinkButton1" onclick="dec_date('dec','rdCal');return false;"><i class='mdi-hardware-keyboard-arrow-left'></i></a>

                                                </li>
                                                <li>
                                                    <label id="lblDayInv">
                                                        <input type="radio" id="rdDayInv" name="rdCal" value="rdDay" onclick="SelectDate('Day', 'hdnInvDate')" />

                                                        Day
                                                    </label>
                                                </li>
                                                <li>
                                                    <label id="lblWeekInv">
                                                        <input type="radio" id="rdWeekInv" name="rdCal" value="rdWeek" onclick="SelectDate('Week', 'hdnInvDate')" />

                                                        Week
                                                    </label>
                                                </li>
                                                <li>
                                                    <label id="lblMonthInv">
                                                        <input type="radio" id="rdMonthInv" name="rdCal" value="rdMonth" onclick="SelectDate('Month',  'hdnInvDate')" />

                                                        Month
                                                    </label>
                                                </li>
                                                <li>
                                                    <label id="lblQuarterInv">
                                                        <input type="radio" id="rdQuarterInv" name="rdCal" value="rdQuarter" onclick="SelectDate('Quarter',  'hdnInvDate')" />

                                                        Quarter
                                                    </label>
                                                </li>
                                                <li>
                                                    <label id="lblYearInv">
                                                        <input type="radio" id="rdYearInv" name="rdCal" value="rdYear" onclick="SelectDate('Year', 'hdnInvDate')" />

                                                        Year
                                                    </label>
                                                </li>
                                                <li>
                                                    <a id="LinkButton2" onclick="dec_date('inc','rdCal');return false"><i class='mdi-hardware-keyboard-arrow-right'></i></a>
                                                </li>
                                            </ul>
                                        </div>
                                        <div class="srchinputwrap srchclr btnlinksicon" style="margin-left: -10px; margin-top: -2px;">
                                            <a id="lnkSearchInv" CausesValidation="false" AutoPostback="false" ToolTip="Search">
                                                <i class="mdi-action-search"></i>
                                            </a>
                                        </div>
                                    </div>
                                    <div class="btncontainer">
                                        <div id="pnlTransGridButtons">
                                            <div class="btnlinks">
                                                <a id="lnkAddInvoice" CausesValidation="False" ToolTip="Add New">Add</a>
                                            </div>
                                            <div class="btnlinks">
                                                <a id="lnkEditInvoice" CausesValidation="False" ToolTip="Edit"
                                                   class="DisableControls">Edit</a>
                                            </div>
                                            <div class="btnlinks">
                                                <a id="lnkCopyInvoice" ToolTip="Copy"
                                                   Visible="False" CausesValidation="False">Copy</a>
                                            </div>
                                            <div class="btnlinks">
                                                <a id="lnkDeleteInvoice" ToolTip="Delete"
                                                   CausesValidation="False"
                                                   onclick="return CheckDeleteTrans();">Delete</a>
                                            </div>
                                        </div>

                                        <div class="btnlinks">
                                            <a id="lnkInvoiceExcel">Export to Excel</a>

                                        </div>

                                        <div class="col lblsz2 lblszfloat">
                                            <div class="row">
                                                <span class="tro trost accrd-trost">
                                                    <a id="lnkClear" AutoPostback="false" onclick="ResetValue();" CausesValidation="false">Clear</a>
                                                </span>
                                                <span class="tro trost accrd-trost">
                                                    <a id="lnkShowAll" onclick="ResetShowAll();"
                                                       CausesValidation="False">Show All</a>

                                                </span>
                                                <span class="tro trost accrd-trost">
                                                    <a id="lnkShowAllOpen" onclick="ResetShowAllOpen();"
                                                       CausesValidation="False">Show All Open</a>

                                                </span>

                                                <span class="tro trost-label accrd-trost">
                                                    <label id="lblRecordCount" style="font-size:14px">Record(s) found</label>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="grid_container" style="margin-top: 10px;">
                                        <div class="form-section-row" style="margin-bottom: 0 !important;">
                                            <div class="RadGrid RadGrid_Material FormGrid">


                                            </div>
                                        </div>
                                    </div>
                                    <div class="cf"></div>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li id="adOpportunities">
                        <div id="accrdopportunities" class="collapsible-header accrd accordian-text-custom"><i class="mdi-image-style"></i>Opportunities</div>
                        <div class="collapsible-body">
                            <div class="form-content-wrap">
                                <div class="form-content-pd">

                                    <div class="buttonContainer">
                                        <div id="pnlOppGridButtons">
                                            <div class="btnlinks">
                                                <a id="lnkAddopp">Add</a>
                                            </div>
                                            <div class="btnlinks">
                                                <a id="lnkEditOpp" CausesValidation="False">Edit</a>
                                            </div>
                                            <div class="btnlinks">
                                                <a id="lnkCopyOpp" CausesValidation="False">Copy</a>
                                            </div>
                                            <div class="btnlinks">
                                                <a id="lnkDeleteOpp" onclick="return CheckDeleteOpp();" CausesValidation="False">Delete</a>
                                            </div>
                                        </div>
                                        <div class="btnlinks">
                                            <a id="lnkExcelOpp">Export to Excel</a>
                                        </div>

                                    </div>
                                    <div class="grid_container">
                                        <div class="RadGrid RadGrid_Material FormGrid">

                                        </div>
                                    </div>
                                    <div class="cf"></div>
                                </div>
                            </div>
                            <div style="clear: both;"></div>
                        </div>
                    </li>
                    <li id="adProjects">
                        <div id="accrdprojects" class="collapsible-header accrd accordian-text-custom"><i class="mdi-action-perm-data-setting"></i>Projects</div>
                        <div class="collapsible-body">
                            <div class="form-content-wrap">

                                <div class="form-content-pd">
                                    <div class="btncontainer" id="pnlProjectGridButtons">
                                        <div class="btnlinks">
                                            <a id="lnkAddProject" onclick="return AddJobClick(this)">Add</a>
                                        </div>
                                    </div>
                                    <div class="grid_container" style="margin-top: 10px;">
                                        <div class="RadGrid RadGrid_Material FormGrid">


                                        </div>
                                    </div>

                                    <div class="cf"></div>
                                </div>
                            </div>
                        </div>
                    </li>

                    <li id="adAlerts">
                        <div id="accrdalerts" class="collapsible-header accrd accordian-text-custom"><i class="mdi-alert-warning"></i>Alerts</div>
                        <div class="collapsible-body">
                            <div class="form-content-wrap">
                                <div class="form-content-pd">
                                    <div id="UpdatePanel5">
                                        <div>
                                            @*<asp:Repeater id="rtAlerts" OnItemDataBound="OnItemDataBound" OnItemCommand="rtAlerts_ItemCommand">*@

                                            <table class="table table-bordered table-striped table-condensed flip-content" style="width: 600px; margin-top: 20px;">
                                                <tr>
                                                    <th scope="col">
                                                        Code
                                                    </th>
                                                    <th scope="col">
                                                        Subject
                                                    </th>
                                                    <th scope="col">
                                                        Message
                                                    </th>
                                                    <th></th>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        <label id="lblID" style="display:none"></label>
                                                        <label id="lblAlertCode" style="display:none"></label>
                                                        <label id="lblAlertType"></label>
                                                    </td>
                                                    <td>
                                                        <input type="text" id="lblDesc" />

                                                    </td>
                                                    <td>
                                                        <input type="text" id="lblMessage" />

                                                    </td>
                                                    <td>
                                                        <input type="image" id="lnkAddnewRow" class="addbutton1" CommandName="AddNew" src="~/MOMUI/images/add.png" style="width:20px" ToolTip="Add Contact for Alert" />
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td colspan="4">
                                                        @*<asp:Repeater ID="rtAlertContacts" runat="server" OnItemCommand="rtAlertContacts_ItemCommand">*@
                                                        @*<HeaderTemplate>*@
                                                        <table style="width: 500px; margin-left: 180px;">
                                                            @*</HeaderTemplate>*@
                                                            @*<ItemTemplate>*@
                                                            <tr>
                                                                <td>
                                                                    <label id="lblID" style="display:none"></label>
                                                                    @Html.Hidden("hdnsid", "")
                                                                    @Html.Hidden("hdnsname", "")
                                                                </td>
                                                                <td>
                                                                    <input type="text" id="txtContact" ToolTip="search contacts/users"
                                                                           onblur="AddNewCOntact(this);"
                                                                           placeholder="search contacts/users"
                                                                           class="contactsearch" />
                                                                </td>
                                                                <td>
                                                                    <span class="filled-in">
                                                                        <input type="checkbox" id="chkMail" />
                                                                    </span>
                                                                    <label for="chkMail" class="drpdwn-label">Email</label>
                                                                </td>
                                                                <td>
                                                                    <span class="filled-in">
                                                                        <input type="checkbox" id="chkText" />
                                                                    </span>
                                                                    <label for="chkText">Text</label>
                                                                </td>
                                                            </tr>
                                                            @*</ItemTemplate>*@
                                                            @*<FooterTemplate>*@
                                                            <tr>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                                <td></td>
                                                            </tr>
                                                        </table>
                                                        @*</FooterTemplate>*@
                                                        @*</asp:Repeater>*@
                                                    </td>
                                                </tr>
                                            </table>
                                            @*</asp:Repeater>*@
                                        </div>
                                    </div>

                                    <div class="cf"></div>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li id="adGCInformation">
                        <div id="accrdgcInformation" class="collapsible-header accrd accordian-text-custom"><i class="mdi-action-speaker-notes"></i>GC Information</div>
                        <div class="collapsible-body">
                            <div class="form-content-wrap">
                                <div class="form-content-pd">
                                    <div id="UpdatePanel20" UpdateMode="Always">
                                        <ContentTemplate>
                                            <div class="form-section-row">

                                                <div class="section-ttle">GC Details</div>
                                                <div class="form-input-row">
                                                    <div class="form-section3">

                                                        <div class="input-field col s12">
                                                            <div class="row">
                                                                <label for="GCtxtName">Name</label>
                                                                <input type="text" id="GCtxtName" AutoCompleteType="Disabled" />

                                                                <input type="hidden" id="hdnGContractorID" Value="0" />
                                                                <input type="hidden" id="hdnGCName" />
                                                                <input type="hidden" id="hdnGCNameupdate" Value="0" />
                                                            </div>
                                                        </div>

                                                        <div class="input-field col s12">
                                                            <div class="row">
                                                                <label for="GCtxtAddress">Address</label>
                                                                <textarea id="GCtxtAddress" TextMode="MultiLine" placeholder="" autocomplete="off" class="materialize-textarea"></textarea>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-section3-blank">
                                                        &nbsp;
                                                    </div>
                                                    <div class="form-section3">


                                                        <div class="input-field col s12">
                                                            <div class="row">
                                                                <label for="GCtxtcity">City</label>
                                                                <input type="text" id="GCtxtcity" AutoCompleteType="Disabled" />
                                                            </div>
                                                        </div>

                                                        <div class="input-field col s12">
                                                            <div class="row">

                                                                <label for="GCtxtState">State/Province</label>
                                                                <input type="text" id="GCtxtState" AutoCompleteType="Disabled" />
                                                            </div>
                                                        </div>
                                                        <div class="input-field col s5">
                                                            <div class="row">
                                                                <label for="GCtxtPostalCode">Zip/Postal Code</label>
                                                                <input type="text" id="GCtxtPostalCode" MaxLength="5" AutoCompleteType="Disabled" />
                                                            </div>
                                                        </div>
                                                        <div class="input-field col s2">
                                                            <div class="row">
                                                                &nbsp;
                                                            </div>
                                                        </div>
                                                        <div class="input-field col s5">
                                                            <div class="row">
                                                                <label for="GCtxtCountry">Country</label>
                                                                <input type="text" id="GCtxtCountry" AutoCompleteType="Disabled" />
                                                            </div>
                                                        </div>


                                                    </div>
                                                    <div class="form-section3-blank">
                                                        &nbsp;
                                                    </div>
                                                    <div class="form-section3">

                                                        <div class="input-field col s12">
                                                            <div class="row">
                                                                <label for="GCtxtRemarks">Remarks</label>
                                                                <textarea id="GCtxtRemarks" AutoCompleteType="Disabled" TextMode="MultiLine" class="materialize-textarea"></textarea>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>

                                            </div>
                                            <div class="form-section-row">

                                                <div class="section-ttle">GC Contact Info.</div>
                                                <div class="form-section3">
                                                    <div class="input-field col s12">
                                                        <div class="row">
                                                            <label for="GCtxtCName">Main Contact</label>
                                                            <input type="text" id="GCtxtCName" AutoCompleteType="Disabled" />
                                                        </div>
                                                    </div>
                                                    <div class="input-field col s12">
                                                        <div class="row">
                                                            <label for="GCtxtPhone">Phone</label>
                                                            <input type="text" id="GCtxtPhone" AutoCompleteType="Disabled" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-section3-blank">
                                                    &nbsp;
                                                </div>
                                                <div class="form-section3">
                                                    <div class="input-field col s12">
                                                        <div class="row">
                                                            <label for="GCtxtMobile">Cellular</label>
                                                            <input type="text" id="GCtxtMobile" AutoCompleteType="Disabled" />
                                                        </div>
                                                    </div>
                                                    <div class="input-field col s12">
                                                        <div class="row">
                                                            <label for="GCtxtFAX">Fax</label>
                                                            <input type="text" id="GCtxtFAX" AutoCompleteType="Disabled" />
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-section3-blank">
                                                    &nbsp;
                                                </div>

                                                <div class="form-section3">
                                                    <div class="input-field col s12">
                                                        <div class="row">
                                                            <label for="GCtxtEmailWeb">Email</label>
                                                            <input type="text" id="GCtxtEmailWeb" AutoCompleteType="Disabled" />
                                                        </div>
                                                    </div>
                                                    <div class="input-field col s12">
                                                        <div class="row">

                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </ContentTemplate>
                                    </div>
                                    <div id="UpdatePanel10" UpdateMode="Always">
                                        <ContentTemplate>
                                            <asp:PlaceHolder id="PlaceHolderAttriGC"></asp:PlaceHolder>
                                        </ContentTemplate>
                                    </div>
                                    <div class="cf"></div>
                                </div>
                            </div>
                        </div>
                    </li>

                    <li id="adHomeowner">
                        <div id="accrdhomeowner" class="collapsible-header accrd accordian-text-custom"><i class="mdi-action-home"></i>Homeowner</div>
                        <div class="collapsible-body">
                            <div class="form-content-wrap">
                                <div class="form-content-pd">
                                    <div id="UpdatePanel28" UpdateMode="Always">
                                        <ContentTemplate>
                                            <div class="form-section-row">

                                                <div class="section-ttle">Homeowner Details</div>
                                                <div class="form-input-row">
                                                    <div class="form-section3">

                                                        <div class="input-field col s12">
                                                            <div class="row">
                                                                <label for="hotxtname">Name</label>
                                                                <input type="text" id="hotxtname" AutoCompleteType="Disabled" />
                                                                <input type="hidden" id="hdnHomeOwnerID" Value="0" />
                                                                <input type="hidden" id="hdnHOName" />
                                                                <input type="hidden" id="hdnHONameupdate" Value="0" />


                                                            </div>
                                                        </div>

                                                        <div class="input-field col s12">
                                                            <div class="row">
                                                                <label for="HotxtAddress">Address</label>
                                                                <textarea id="HotxtAddress" AutoCompleteType="Disabled" TextMode="MultiLine" placeholder="" class="materialize-textarea"></textarea>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-section3-blank">
                                                        &nbsp;
                                                    </div>
                                                    <div class="form-section3">
                                                        <div class="input-field col s12">
                                                            <div class="row">
                                                                <label for="hotxtcity">City</label>
                                                                <input type="text" id="hotxtcity" AutoCompleteType="Disabled" />
                                                            </div>
                                                        </div>

                                                        <div class="input-field col s12">
                                                            <div class="row">


                                                                <label for="hottxtstate">State/Province</label>
                                                                <input type="text" id="hottxtstate" MaxLength="5" AutoCompleteType="Disabled" />
                                                            </div>
                                                        </div>
                                                        <div class="input-field col s5">
                                                            <div class="row">
                                                                <label for="hotxtZIP">Zip/Postal Code</label>
                                                                <input type="text" id="hotxtZIP" AutoCompleteType="Disabled" />
                                                            </div>
                                                        </div>
                                                        <div class="input-field col s2">
                                                            <div class="row">
                                                                &nbsp;
                                                            </div>
                                                        </div>
                                                        <div class="input-field col s5">
                                                            <div class="row">
                                                                <label for="hotxtCountry">Country</label>
                                                                <input type="text" id="hotxtCountry" AutoCompleteType="Disabled" />
                                                            </div>
                                                        </div>

                                                    </div>
                                                    <div class="form-section3-blank">
                                                        &nbsp;
                                                    </div>
                                                    <div class="form-section3">

                                                        <div class="input-field col s12">
                                                            <div class="row">
                                                                <label for="hotxtRemarks">Remarks</label>
                                                                <textarea id="hotxtRemarks" AutoCompleteType="Disabled" TextMode="MultiLine" class="materialize-textarea"></textarea>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>

                                            </div>
                                            <div class="form-section-row">

                                                <div class="section-ttle">Homeowner Contact Info.</div>
                                                <div class="form-section3">
                                                    <div class="input-field col s12">
                                                        <div class="row">
                                                            <label for="hotxtCName">Main Contact</label>
                                                            <input type="text" id="hotxtCName" AutoCompleteType="Disabled" />
                                                        </div>
                                                    </div>
                                                    <div class="input-field col s12">
                                                        <div class="row">
                                                            <label for="hotxtPhone">Phone</label>
                                                            <input type="text" id="hotxtPhone" AutoCompleteType="Disabled" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-section3-blank">
                                                    &nbsp;
                                                </div>
                                                <div class="form-section3">
                                                    <div class="input-field col s12">
                                                        <div class="row">
                                                            <label for="hotxtMobile">Cellular</label>
                                                            <input type="text" id="hotxtMobile" AutoCompleteType="Disabled" />
                                                        </div>
                                                    </div>
                                                    <div class="input-field col s12">
                                                        <div class="row">
                                                            <label for="HotxtFax">Fax</label>
                                                            <input type="text" id="HotxtFax" AutoCompleteType="Disabled" />
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="form-section3-blank">
                                                    &nbsp;
                                                </div>

                                                <div class="form-section3">
                                                    <div class="input-field col s12">
                                                        <div class="row">
                                                            <label for="HotxtEmailWeb">Email</label>
                                                            <input type="text" id="HotxtEmailWeb" AutoCompleteType="Disabled" />
                                                        </div>
                                                    </div>
                                                    <div class="input-field col s12">
                                                        <div class="row">

                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </ContentTemplate>
                                    </div>
                                    <div id="UpdatePanel29" UpdateMode="Always">
                                        <ContentTemplate>
                                            <asp:PlaceHolder id="PlaceHolder2"></asp:PlaceHolder>
                                        </ContentTemplate>
                                    </div>
                                    <div class="cf"></div>
                                </div>
                            </div>
                        </div>
                    </li>
                    <li id="tbLogs" style="display: block">
                        <div id="accrdlogs" class="collapsible-header accrd accordian-text-custom"><i class="mdi-content-content-paste"></i>Logs</div>
                        <div class="collapsible-body">
                            <div class="form-content-wrap">
                                <div class="form-content-pd">
                                    <div class="grid_container">
                                        <div class="form-section-row" style="margin-bottom: 0 !important;">
                                            <div class="RadGrid RadGrid_Material">

                                            </div>

                                        </div>
                                    </div>

                                    <div class="cf"></div>
                                </div>
                            </div>
                            <div style="clear: both;"></div>
                        </div>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>

<!--end container-->
<!-- Invoice -->
@Html.Hidden("hdnAddInvoice", "Y")
@Html.Hidden("hdnEditInvoice", "Y")
@Html.Hidden("hdnDeleteInvoice", "Y")
<!-- Hidden Field -->
@Html.Hidden("hdnAddeJob", "Y")
@Html.Hidden("hdnEditeJob", "Y")
@Html.Hidden("hdnDeleteJob", "Y")
@Html.Hidden("hdnViewJob", "Y")
<!-- Hidden Field -->
@Html.Hidden("hdnAddeEquipment", "Y")
@Html.Hidden("hdnEditeEquipment", "Y")
@Html.Hidden("hdnDeleteEquipment", "Y")
@Html.Hidden("hdnViewEquipment", "Y")
<!-- Ticket -->
@Html.Hidden("hdnAddeTicket", "Y")
@Html.Hidden("hdnEditeTicket", "Y")
@Html.Hidden("hdnViewTicket", "Y")
@Html.Hidden("hdnDeleteTicket", "Y")
<!-- Hidden Field -->
@Html.Hidden("hdnAddeContact", "Y")
@Html.Hidden("hdnEditeContact", "Y")
@Html.Hidden("hdnDeleteContact", "Y")
@Html.Hidden("hdnViewContact", "Y")
<!-- Hidden Field -->
@Html.Hidden("hdnAddeDocument", "Y")
@Html.Hidden("hdnEditeDocument", "Y")
@Html.Hidden("hdnDeleteDocument", "Y")
@Html.Hidden("hdnViewDocument", "Y")
@Html.Hidden("hdnPageQueryString", "")
@Html.Hidden("hdnSelectedDtRange", "")
@Html.Hidden("hdnSelectedDtRangeHistory", "")
@Html.Hidden("ishowAllInvoice", "0")
@Html.Hidden("hdnOpenTicketsCount", "0")
@Html.Hidden("hdnApplyServiceTypeRule", "0")
@Html.Hidden("hdnServiceTypeName", "")
@Html.Hidden("hdnProjectPerDepartmentCount", "0")
@Html.Hidden("hdnProjectaregoingtoUpdate", "0")
@Html.Hidden("hdnOpenTicketIDs", "")


<script src="~/MOMUI/Design/js/plugins/dropify/js/dropify.min.js"></script>

<script type="text/javascript">


    $(document).ready(function () {

        //Dropify Basic
        $('.dropify').dropify();
        // Used events
        var drEvent = $('.dropify-event').dropify();

        drEvent.on('dropify.beforeClear', function (event, element) {
            return confirm("Do you really want to delete \"" + element.filename + "\" ?");
        });

        drEvent.on('dropify.afterClear', function (event, element) {
            alert('File deleted');
        });


        //MASKING TEXTBOXES
        $("#txtPhoneCust").mask("(999) 999-9999? Ext 99999");
        $("#txtPhoneCust").bind('paste', function () { $(this).val(''); });
        $("#txtCell").mask("(999) 999-9999");
        $("#txtFax").mask("(999) 999-9999");

        $("#GCtxtPhone").mask("(999) 999-9999? Ext 99999");
        $("#GCtxtPhone").bind('paste', function () { $(this).val(''); });
        $("#GCtxtMobile").mask("(999) 999-9999");
        $("#GCtxtFAX").mask("(999) 999-9999");

        $("#hotxtPhone").mask("(999) 999-9999? Ext 99999");
        $("#hotxtPhone").bind('paste', function () { $(this).val(''); });
        $("#hotxtMobile").mask("(999) 999-9999");
        $("#HotxtFax").mask("(999) 999-9999");

        //END MASKING TEXTBOXES
        $("#txtPhoneCust").click(function () { $(this).select(); });
    });

</script>
<script type="text/javascript">

    $(document).ready(function () {
        $('label input[type=radio]').click(function () {
            $('input[name="' + this.name + '"]').each(function () {
                $(this.parentNode).toggleClass('labelactive', this.checked);
            });
        });
        if (typeof (Storage) !== "undefined") {

            // Retrieve
            var val;

            val = localStorage.getItem("hdnInvDate");
            if (val == 'Day') {

                $("#lblDayInv").addClass("labelactive");
                $("#rdDayInv").prop('checked', true);

            }
            else if (val == 'Week') {

                $("#lblWeekInv").addClass("labelactive");

                $("#rdWeekInv").prop('checked', true);

            }
            else if (val == 'Month') {
                $("#lblMonthInv").addClass("labelactive");

                $("#rdMonthInv").prop('checked', true);

            }
            else if (val == 'Quarter') {

                $("#lblQuarterInv").addClass("labelactive");
                $("#rdQuarterInv").prop('checked', true);


            }
            else if (val == 'Year') {

                $("#lblYearInv").addClass("labelactive");
                $("#rdYearInv").prop('checked', true);

            }


        }
        $('a[href^="#accrd"]').on('click', function (e) {
            e.preventDefault();

            var target = this.hash;
            var $target = $(target);
            if ($(target).hasClass('active') || target == "") {

            }
            else {
                $(target).click();
            }

            $('html, body').stop().animate({
                'scrollTop': $target.offset().top - 125
            }, 900, 'swing');
        });

        $(window).scroll(function () {
            if ($(window).scrollTop() >= 0) {
                $("#divButtons").addClass('fixed-header');
            }
            if ($(window).scrollTop() <= 0) {
                $("#divButtons").removeClass('fixed-header');
            }
        });

        $(".dropdown-content.select-dropdown li").on("click", function () {
            var that = this;
            setTimeout(function () {
                if ($(that).parent().hasClass('active')) {
                    $(that).parent().removeClass('active');
                    $(that).parent().hide();
                }
            }, 100);
        });

        var tabBack = GetQueryStringParams('f');
        if (tabBack == "r") {
            clickLink("#liLocationHistory");

            var $target = $("#accrdlocationHistory");
            if ($target.hasClass('active') || $target == "") {
                $target.click();
            }
            else {
                $target.click();
            }

            $('html, body').animate({ scrollTop: $target.offset().top }, 'slow');
        }
    });
</script>

<script type="text/javascript">
    //var prm = Sys.WebForms.PageRequestManager.getInstance();
    //prm.add_pageLoaded(function () {
    //    $("[id*=txtContPhone]").mask("(999) 999-9999? Ext 99999");
    //    $("[id*=txtContPhone]").bind('paste', function () { $(this).val(''); });
    //    $("[id*=txtContCell]").mask("(999) 999-9999");
    //    $("[id*=txtContFax]").mask("(999) 999-9999");
    //});
</script>

<script type="text/javascript">

    $("#ddlLocStatus").change(function () {
        if ($('option:selected', $(this)).text() == 'Inactive') {
            //var isAllowInactive = $("#<%=hdnOpenTicketsCount.ClientID%>").val() == "0";
            var isAllowInactive = "0";
            var OpenTicketIDs = $("#hdnOpenTicketIDs").val();
            if (isAllowInactive) {
                if (!confirm('Please note making the location inactive will set all projects , open tickets and equipment to inactive. Would you like to proceed?')) {
                    $("#ddlLocStatus").val("0");
                }
            } else {
                alert("The Location cannot be made inactive since there are open tickets for this location.");
                $("#ddlLocStatus").val("0");
            }
        }
    });



    function OpenContactPopupEdit() {
        var clickEditContact = $("#btnEdit");
        clickEditContact.click();
    }
    function ResetValue() {
        $("#rdAll2").prop('checked', true);
        $("#rdAll").prop('checked', true);
        if (typeof (Storage) !== "undefined") {

            // Retrieve
            var val;

            val = localStorage.getItem("hdnInvDate");
            if (val == 'Day') {

                $("#lblDayInv").addClass("labelactive");
                $("#rdDayInv").prop('checked', true);

            }
            else if (val == 'Week') {

                $("#lblWeekInv").addClass("labelactive");

                $("#rdWeekInv").prop('checked', true);

            }
            else if (val == 'Month') {
                $("#lblMonthInv").addClass("labelactive");

                $("#rdMonthInv").prop('checked', true);

            }
            else if (val == 'Quarter') {

                $("#lblQuarterInv").addClass("labelactive");
                $("#rdQuarterInv").prop('checked', true);


            }
            else if (val == 'Year') {

                $("#lblYearInv").addClass("labelactive");
                $("#rdYearInv").prop('checked', true);

            }

        }
    }
    function checkDateRange() {
        if ($("#txtfromDate").val("") || $("#txtToDate").val("")) {
            noty({
                text: 'Set your date range before selecting this report',
                type: 'warning',
                layout: 'topCenter',
                closeOnSelfClick: false,
                timeout: 5000,
                theme: 'noty_theme_default',
                closable: true
            });
            return false;
        }
        return true;
    }
    function ShowHistoryTransactionPopup(Uid, Type, owner, loc, status, TransID) {

        var oWnd = $find("#RadWindowHistoryTransaction");
        oWnd.setUrl("HistoryTransaction.aspx?uid=" + Uid + "&type=" + Type + "&owner=" + owner + "&loc=" + loc + "&status=" + status + "&tid=" + TransID + "&page=addlocation");
        oWnd.setSize(800, 400);
        oWnd.show();
    }

    function setCustomPosition(sender, args) {

        var elmnt = $("#RadGrid_Invoice");

        sender.moveTo(sender.get_left(), elmnt.offsetTop);
    }
    function CheckDeleteLocationHistory() {

        var result = false;
        if ($("#hdnDeleteTicket").val("N")) {
            return false;
        }

        $("#RadGrid_OpenCalls tr").each(function () {
            var checkBox = $(this).find("input[type='checkbox']");
            if (checkBox.is(":checked")) {
                result = true;
            }
        });

        if (result == true) {
            return confirm('Do you really want to delete this item ?');
        }
        else {
            alert('Please select an item to delete.')
            return false;
        }
    }
    function CheckDeleteTrans() {
        var result = false;
        if ($("#hdnDeleteInvoice").val("N")) {
            return false;
        }



        var message = "Please select an item to delete.";

        $("#RadGrid_Invoice").find('tbody tr').each(function () {
            var $tr = $(this);
            var chkSelect = $(this).find("input[type='Checkbox']");
            var hdnType = $(this).find("input[id*='hdnType']");
            var hdnStatus = $(this).find("input[id*='hdnStatus']");
            if (chkSelect.is(":checked")) {
                if ((hdnType.val() == "AR Invoice" && hdnStatus.val() == "Open") || (hdnType.val() == "Received Payment" && hdnStatus.val() == "Open")) {
                    result = true;
                } else {
                    if (hdnType.val() == "AR Invoice") {
                        message = "Invoice is not open and can therefore not be deleted.";
                        // break();

                    }
                    if (hdnType.val() == "Received Payment") {
                        message = "Payment is not open and can therefore not be deleted.";
                        //   break();
                    }
                }

            }
        });

        if (result == true) {
            return confirm('Do you really want to delete this item ?');
        }
        else {
            alert(message);
            return false;
        }
    }


    function validateBilling() {
        var txtBillRate = $("#txtBillRate").val();
        var txtNt = $("#txtNt").val();
        var txtOt = $("#txtOt").val();
        var txtDt = $("#txtDt").val();
        var txtTravel = $("#txtTravel").val();
        var txtMileage = $("#txtMileage").val();


        if (txtBillRate != "" && parseFloat(txtBillRate) < 0) {
            return 'Billing rate amount must be a positive number. Please correct to proceed.'
        }
        if (txtNt != "" && parseFloat(txtNt) < 0) {
            return '1.7 Rate amount must be a positive number. Please correct to proceed.'
        }
        if (txtOt != "" && parseFloat(txtOt) < 0) {
            return 'OT Rate amount must be a positive number. Please correct to proceed.'
        }
        if (txtDt != "" && parseFloat(txtDt) < 0) {
            return 'DT Rate amount must be a positive number. Please correct to proceed.'
        }
        if (txtTravel != "" && parseFloat(txtTravel) < 0) {
            return 'Travel Rate amount must be a positive number. Please correct to proceed.'
        }
        if (txtMileage != "" && parseFloat(txtMileage) < 0) {
            return 'Mileage amount must be a positive number. Please correct to proceed.'
        }
        return "";

    }
</script>
