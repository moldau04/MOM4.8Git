<%@ Page EnableEventValidation="false" Language="C#" MasterPageFile="~/Mom.master" AutoEventWireup="true" Inherits="addProject" CodeBehind="addProject.aspx.cs" ValidateRequest="false" %>

<%@ Register TagPrefix="telerik" Namespace="Telerik.Web.UI" Assembly="Telerik.Web.UI" %>

<%@ Register Assembly="AjaxControlToolkit" Namespace="AjaxControlToolkit" TagPrefix="asp" %>

<%@ Register Src="uc_AccountSearch.ascx" TagName="uc_AccountSearch" TagPrefix="uc1" %>

<%@ Register Src="uc_Datepicker.ascx" TagName="uc_Datepicker" TagPrefix="ucd" %>


<asp:Content ID="Content1" ContentPlaceHolderID="head" runat="Server">
    <script src="js/lity/lity.js"></script>
    <link href="js/lity/lity.css" rel="stylesheet" />
    <script type="text/javascript" src="Scripts/Timepicker/jquery.timepicker.js"></script>
    <link rel="stylesheet" href="Scripts/Timepicker/jquery.timepicker.css" />
    <script type="text/javascript" src="appearance/js/bootstrap-datepicker.min.js"></script>
    <link rel="stylesheet" href="appearance/css/bootstrap-datepicker3.min.css" />
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <!--Grid Control-->
    <link href="Design/css/grid.css" rel="stylesheet" />
    <!--File Upload Control-->
    <link href="Design/js/plugins/dropify/css/dropify.css" type="text/css" rel="stylesheet" media="screen,projection">
    <link href="Design/css/pikaday.css" rel="stylesheet" />
    <script src="Design/js/moment.js"></script>
    <script src="Design/js/pikaday.js"></script>
    <!-- dropify -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.10/js/all.js"></script>
    <script type="text/javascript" src="Design/js/plugins/dropify/js/dropify.min.js"></script>
    <script type="text/javascript">
        function OpenWageCategoryModal() {
            if ($('input[id*=rdYesMultiWage]').is(":checked") == true) {
                var wnd = $find('<%=WageCategoryListWindow.ClientID %>');
                wnd.set_title("Wage Category");
                wnd.Show();
            }
            else {
                noty({ text: 'Multiple wage category is set to no. Wages can be therefore not be added to this Job!', dismissQueue: true, type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: true });
            }
        }
        function CloseWageCategoryModal() {
            var wnd = $find('<%=WageCategoryListWindow.ClientID %>');
            wnd.Close();
        }
        function CheckUncheckAllCheckBoxAsNeeded() {
            var totalCheckboxes = $("#<%=RadGrid_WageCategoryList.ClientID%> input[id*='chkSelect']:checkbox").size();

            var checkedCheckboxes = $("#<%=RadGrid_WageCategoryList.ClientID%> input[id*='chkSelect']:checkbox:checked").size();

            if (totalCheckboxes == checkedCheckboxes) {

                $("#<%=RadGrid_WageCategoryList.ClientID %> input[id*='chkAll']:checkbox").prop('checked', true);//.each(function () { this.checked = true; });
            }
            else {
                $("#<%=RadGrid_WageCategoryList.ClientID %> input[id*='chkAll']:checkbox").prop('checked', false);//.attr('checked', false);
            }

        }
        function BindClickEventForGridCheckBox() {
            $("#<%=RadGrid_WageCategoryList.ClientID%> input[id*='chkSelect']:checkbox").unbind('click').bind('click', function () {
                CheckUncheckAllCheckBoxAsNeeded();
            });

            $("#<%=RadGrid_WageCategoryList.ClientID%> input[id*='chkAll']:checkbox").unbind('click').bind('click', function () {
                if ($(this).is(':checked')) {
                    $("#<%=RadGrid_WageCategoryList.ClientID%> input[id*='chkSelect']:checkbox").prop('checked', true);

                }
                else {
                    $("#<%=RadGrid_WageCategoryList.ClientID%> input[id*='chkSelect']:checkbox").prop('checked', false);
                }

            });
        }
        function OpenWageDeductionModal() {

            if ($('input[id*=rdYesMultiWageD]').is(":checked") == true) {

                var wnd = $find('<%=WageDeductionListWindow.ClientID %>');
                wnd.set_title("Dedcutions Category");
                wnd.Show();
            }
            else {
                noty({ text: 'Multiple dedcution category is set to no. Deductions can be therefore not be added to this Job!', dismissQueue: true, type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: true });
            }
        }
        function CloseWageDeductionModal() {
            var wnd = $find('<%=WageDeductionListWindow.ClientID %>');
            wnd.Close();
        }
        function CheckUncheckAllCheckBoxAsNeededDeduction() {
            var totalCheckboxes = $("#<%=RadGrid_WageDeductionList.ClientID%> input[id*='chkSelectD']:checkbox").size();

            var checkedCheckboxes = $("#<%=RadGrid_WageDeductionList.ClientID%> input[id*='chkSelectD']:checkbox:checked").size();

            if (totalCheckboxes == checkedCheckboxes) {

                $("#<%=RadGrid_WageDeductionList.ClientID %> input[id*='chkAllD']:checkbox").prop('checked', true);//.each(function () { this.checked = true; });
            }
            else {
                $("#<%=RadGrid_WageDeductionList.ClientID %> input[id*='chkAllD']:checkbox").prop('checked', false);//.attr('checked', false);
            }
        }
        function BindClickEventForGridCheckBoxDeduction() {
            $("#<%=RadGrid_WageDeductionList.ClientID%> input[id*='chkSelectD']:checkbox").unbind('click').bind('click', function () {
                CheckUncheckAllCheckBoxAsNeededDeduction();
            });

            $("#<%=RadGrid_WageDeductionList.ClientID%> input[id*='chkAllD']:checkbox").unbind('click').bind('click', function () {
                if ($(this).is(':checked')) {
                    $("#<%=RadGrid_WageDeductionList.ClientID%> input[id*='chkSelectD']:checkbox").prop('checked', true);
                }
                else {
                    $("#<%=RadGrid_WageDeductionList.ClientID%> input[id*='chkSelectD']:checkbox").prop('checked', false);
                }

            });
        }

        function CloseRadWindowGroup() {
            var wnd = $find('<%=RadWindowProjectGroup.ClientID %>');
            wnd.Close();
        }

        function OpenRadWindowProjectGroup() {
            var locID = $('#<%=hdnLocID.ClientID%>').val();
            if (locID != null && locID != "" && locID != "0") {
                var groupID = $('#<%=ddlProjectGroup.ClientID%>').val();
                if (groupID == "0") {
                    $('#<%=txtPopupGroupName.ClientID%>').val("");
                    $('#<%=hdnGroupUpdateMode.ClientID%>').val("0"); // Addnew mode

                    var wnd = $find('<%=RadWindowProjectGroup.ClientID %>');
                    wnd.set_title("Add Group");
                    wnd.Show();
                }
                else {
                    $('#<%=hdnGroupUpdateMode.ClientID%>').val("1"); // Edit mode
                    var groupName = $('#<%=ddlProjectGroup.ClientID%> option:selected').text();

                    $('#<%=txtPopupGroupName.ClientID%>').val(groupName);

                    var wnd = $find('<%=RadWindowProjectGroup.ClientID %>');
                    wnd.set_title("Edit Group");
                    wnd.Show();
                }
            }
            else {
                // Show error message
                noty({ text: 'Please select a location before creating group!', dismissQueue: true, type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: true });
            }
            Materialize.updateTextFields();
        }

        function OpenRadWindowProjectGroup_BK() {
            //$('#<%=txtPopupGroupName.ClientID%>').val(""); 
            var wnd = $find('<%=RadWindowProjectGroup.ClientID %>');
            wnd.set_title("Group Name");
            wnd.Show();
        }

        function CloseRadWindowCloseDate() {
            var wnd = $find('<%=RadWindowCloseDate.ClientID %>');
            wnd.Close();
        }

        function OpenRadWindowCloseDate() {
            var value = $('#<%=txtClosedDate.ClientID%>').val();
            if (value == "") {
                var date = new Date();
                var dateStr = (date.getMonth() + 1) + '/' + date.getDate() + '/' +  date.getFullYear();
                $('#<%=txtClosedDate.ClientID%>').val(dateStr);
            }

            var wnd = $find('<%=RadWindowCloseDate.ClientID %>');
            wnd.set_title("Project Closed Date");
            wnd.Show();
            Materialize.updateTextFields();
        }

        function HideME() {
            $("#DivEqup").hide();
        }

        function SelectRowsEq1() {
            // debugger
            var Name = document.getElementById("<%=txtGroupEquips.ClientID %>");
            var div = document.getElementById('eqtag');
            div.innerHTML = '';
            Name.value = '';

            var grid = $find("<%=RadgvEquip.ClientID %>");
            var masterTable = grid.get_masterTableView();
            if (masterTable != null) {
                for (var i = 0; i < masterTable.get_dataItems().length; i++) {
                    var gridItemElement = masterTable.get_dataItems()[i].findElement("chkSelect");
                    var lblUnit = masterTable.get_dataItems()[i].findElement("lblUnit");
                    var lblID = masterTable.get_dataItems()[i].findElement("lblID");
                    if (gridItemElement.checked) {
                        if (Name.value != '') {
                            Name.value = Name.value + ', ' + lblUnit.innerHTML;
                        }
                        else {
                            Name.value = lblUnit.innerHTML;
                        }

                        var tag = "<div class='chip' style='width:auto !important;padding-left:5px !important;padding-right:5px !important ;margin-left:2px !important ;margin-right:2px !important ;margin-top:3px !important ;'><a href='addequipment.aspx?uid=" + lblID.innerHTML + "' target='_blank' style='color:white'>" + lblUnit.innerHTML + "</a></div>";

                        div.innerHTML += tag;
                    }
                }
            }
        }

        function EqCheckBOX(checked) {
            var grid = $find("<%=RadgvEquip.ClientID %>");
            var masterTable = grid.get_masterTableView();
            if (masterTable != null) {
                for (var i = 0; i < masterTable.get_dataItems().length; i++) {
                    var gridItemElement = masterTable.get_dataItems()[i].findElement("chkSelect");
                    var lblUnit = masterTable.get_dataItems()[i].findElement("lblUnit");
                    gridItemElement.checked = checked;
                }
            }
        }

        function ValidateExport() {
            var RefIDs = "";
            $("#<%= RadGrid_CollectionNotes.ClientID %>").find('tr:not(:first,:last)').each(function () {
                var $tr = $(this);
                if ($tr.find('input[type="checkbox"]').prop("checked") == true) {
                    var val = $tr.find('input[id*=hdnProjectNoteID]').val();
                    RefIDs = RefIDs + val + ",";
                }
            });
            if (RefIDs != "") {
                return true;
            } else {
                noty({
                    text: 'Please select note',
                    type: 'warning',
                    layout: 'topCenter',
                    closeOnSelfClick: false,
                    timeout: 4000,
                    theme: 'noty_theme_default',
                    closable: true
                });
                return false;
            }
        }

        function OpenCollectionPopNew() {
            var RefIDs = "";
            $("#<%= RadGrid_CollectionNotes.ClientID %>").find('tr:not(:first,:last)').each(function () {
                var $tr = $(this);
                if ($tr.find('input[type="checkbox"]').prop("checked") == true) {
                    var val = $tr.find('input[id*=hdnProjectNoteID]').val();
                    RefIDs = RefIDs + val + ",";
                }
            });
            var projectID = '<%= Request.QueryString["uid"] != null ? Request.QueryString["uid"].ToString() : "" %>';
            var emailSubject = "#" + projectID + " - " + $("#<%=txtREPdesc.ClientID%>").val() + " - " + $("#<%=txtLocation.ClientID%>").val();

            if (RefIDs != "" && projectID != "") {
                var strUrl = "ProjectNotePopup.aspx?uid=" + projectID + "&subject=" + escape(emailSubject) + "&ls=" + RefIDs;
                var oWnd = radopen(strUrl, "<%=CollectionPopWindow.ClientID%>"); //Pass parameter using URL 

                oWnd.Title = "Send mail";
                oWnd.setSize(1000, 700);
                oWnd.minimize();
                oWnd.maximize();
                oWnd.restore();
                oWnd.center();
                oWnd.show();
            } else {
                if (projectID != "") {
                    noty({
                        text: 'Please select note',
                        type: 'warning',
                        layout: 'topCenter',
                        closeOnSelfClick: false,
                        timeout: 4000,
                        theme: 'noty_theme_default',
                        closable: true
                    });
                } else {
                    noty({
                        text: 'There is an error on getting project info',
                        type: 'warning',
                        layout: 'topCenter',
                        closeOnSelfClick: false,
                        timeout: 4000,
                        theme: 'noty_theme_default',
                        closable: true
                    });
                }
            }

        }
    </script>
    <script type="text/javascript">
        $(document).ready(function () {

            var MilestonesPermission = document.getElementById('<%= hdngvMilestonesViewPermission.ClientID%>').value;

            var BOMPermission = document.getElementById('<%= hdngvBOMViewPermission.ClientID%>').value;

            if (MilestonesPermission == 'N') {
                $('#gvMilestonesDIV').css({ 'display': 'none' });
            }
            if (BOMPermission == 'N') {
                $('#gvBOMDIV').css({ 'display': 'none' });
            }
            fillBillingCode();

        });

    </script>
    <script type="text/javascript">
        function LoadDocuments(e) {
            window.onbeforeunload = null;
            __doPostBack('lnkbLoadDoc', '');
        }
        function ShowDocument() {
            $("#documentpage").attr("src", "addProjectDocument.aspx?uid=" + $("#<%=hdnprojectID.ClientID%>").val() + "&HideMaster=true");
        }

    </script>
    <style>
        [id$='PageSizeComboBox'] {
            width: 5.1em !important;
        }
    .section-ttle {
        padding-top:20px;
    }
        .rmTemplate {
            padding: 0 10px 0 10px !important;
        }

            .rmTemplate .rmContent label {
                padding: 0 10px 0 10px !important;
            }

        .InvoicelistTooltip {
            background: #000 none repeat scroll 0 0;
            filter: alpha(opacity=80);
            -moz-opacity: 0.80;
            opacity: 0.80;
            border-radius: 0px !important;
            color: #fff;
            display: none;
            padding: 10px;
            position: absolute;
            width: 300px;
            z-index: 1000;
            margin-top: 120px;
        }

        #overlay {
            position: fixed; /* Sit on top of the page content */
            display: none; /* Hidden by default */
            width: 100%; /* Full width (cover the whole page) */
            height: 100%; /* Full height (cover the whole page) */
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.5); /* Black background with opacity */
            z-index: 1000000; /* Specify a stack order in case you're using a different order for other elements */
            cursor: pointer; /* Add a pointer on hover */
        }

        .labelButton {
            padding: 5px 10px 5px 10px;
            font-size: 0.9em;
            float: left;
            line-height: 19px !important;
            border-radius: 3px;
            background-color: #1C5FB1 !important;
            color: #fff !important;
            margin: 3px -9px;
            cursor: pointer;
        }

        .preview {
            padding: 0 10px 0 10px;
        }
    </style>
    <style>
        div.rgHeaderWrapper {
            overflow: visible !important;
        }

        .RadGrid .rgGroupHeaderText {
            float: left !important;
        }

        .RadGrid .rgRow > td, .RadGrid .rgAltRow > td, .RadGrid .rgEditRow > td, .RadGrid .rgFooter > td, .RadGrid .rgGroupHeader > td {
            text-align: left !important;
        }

        .MatPart {
            background-color: #FFFFC2 !important;
        }

        .qtyRequired {
            background-color: #FFFFC2 !important;
        }

        .LabPart {
            background-color: #ADD8E6 !important;
        }

        .TotalExt {
            background-color: #98FB98 !important;
        }

        .fixHeader thead {
            display: table;
            width: 1385px;
        }

            .fixHeader thead tr {
                display: table;
                table-layout: fixed;
                width: 100%;
            }

        .fixHeader tbody {
            display: block;
            height: 400px;
            overflow-y: auto;
            overflow-x: hidden;
            width: 1400px;
        }

            .fixHeader tbody tr {
                display: table;
                table-layout: fixed;
                width: 100%;
            }

        #overlay {
            position: fixed; /* Sit on top of the page content */
            display: none; /* Hidden by default */
            width: 100%; /* Full width (cover the whole page) */
            height: 100%; /* Full height (cover the whole page) */
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.5); /* Black background with opacity */
            z-index: 1000000; /* Specify a stack order in case you're using a different order for other elements */
            cursor: pointer; /* Add a pointer on hover */
        }
        /**/
        .ModalPopupBG {
            background-color: black;
            filter: alpha(opacity=50);
            opacity: 0.7;
        }

        .highlight {
            background-color: Yellow;
        }

        .highlighted {
            background-color: Yellow;
        }

        .textBoxCCS {
            background: none;
            border: none;
        }

        .ui-autocomplete {
            max-height: 300px;
            overflow-y: auto; /* prevent horizontal scrollbar */
            overflow-x: hidden; /* add padding to account for vertical scrollbar */
            z-index: 100000 !important;
        }

        .EmailBody {
            margin-left: 95px;
        }

        .new_popupCSS {
            top: 50% !important;
            background: #fff;
            max-width: 825px;
            width: 100%;
            left: 50% !important;
            transform: translate(-50%, -50%) !important;
            height: auto;
            max-height: 620px !important;
            border-radius: 6px 6px 0px 0px;
            box-shadow: 0 19px 38px rgba(0,0,0,0.2), 0 15px 12px rgba(0,0,0,0.2);
        }

        .pnlPopCss {
            width: 300px !important;
        }

        .new_popupCSS .title_bar_popup {
            background: #1c5fb1;
            color: #fff;
            padding: 5px 15px;
            border-radius: 6px 6px 0px 0px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .title_bar_popup .rwIcon:before {
            content: "\e137";
            margin: 0;
            width: 1em;
            height: 1em;
            vertical-align: middle;
            font: 2em/1 "WebComponentsIcons";
            display: inline-block;
            padding-right: 40px;
            vertical-align: middle;
        }

        .title_bar_popup .rwCommandButton:before {
            content: "\e11b";
            margin: auto;
            padding: 0;
            display: inline-block;
            font: 16px/1 "WebComponentsIcons";
            text-align: center;
            vertical-align: top;
        }

        .title_bar_popup .rwCommandButton {
            padding: 2px;
            border: 1px solid transparent;
            border-radius: 2px;
            line-height: 1;
            display: inline-block;
            text-decoration: none;
            vertical-align: top;
        }

        .new_popupCSS #content {
            min-height: auto !important;
        }

        [id$='gvMilestones_GridData'] {
            height: auto !important;
        }

            [id$='gvBOM_GridData'] .rgAltRow > td, [id$='gvBOM_GridData'] .rgRow > td, [id$='gvMilestones_GridData'] .rgAltRow > td, [id$='gvMilestones_GridData'] .rgRow > td {
                background-color: transparent !important;
            }

        .selected {
            width: 100% !important;
            background-color: gray !important;
            -webkit-transition: all 0.1s ease;
            -moz-transition: all 0.1s ease;
            -o-transition: all 0.1s ease;
            transition: all 0.1s ease;
        }

        .gridHeaderCustom {
            height: auto !important;
            max-height: 450px;
            overflow: hidden;
        }

        .RadGrid_Popup > div > div.rgDataDiv {
            height: 450px !important;
        }

        .hidden {
            visibility: hidden;
        }

        .headerCollection .rwTitleWrapper {
            padding: 0 !important;
            font-size: 1.42857em;
            font-family: inherit;
            line-height: 1em;
            color: #fff;
            text-transform: capitalize;
        }

        .headerCollection .rwTitleBar {
            background-color: #1c5fb1 !important;
            padding: 5px;
        }

        .iframeCss body {
            background-color: none !important;
        }

        .certified-checkbox .css-label {
            margin-left: 0 !important;
        }

        [id*=RadGrid_CustomHeader_GridData].rgDataDiv {
            height: 300px !important;
            max-height: 600px;
            overflow-y: scroll;
        }

        .chipUsers {
            width: auto !important;
            padding-left: 5px !important;
            padding-right: 5px !important;
            margin-left: 2px !important;
            margin-right: 2px !important;
            margin-top: 3px !important;
        }

        .chipUserRoles {
            background-color: #2bab54 !important;
            width: auto !important;
            padding-left: 5px !important;
            padding-right: 5px !important;
            margin-left: 2px !important;
            margin-right: 2px !important;
            margin-top: 3px !important;
        }

        .chip > label {
            font-size: 13px;
            font-weight: normal;
            color: #fff;
            line-height: 24px;
        }
        /* The container */
        .cusCheckContainer {
            display: block;
            position: relative;
            padding-left: 22px;
            /* margin-bottom: 12px; */
            cursor: pointer;
            font-size: 15px;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

            /* Hide the browser's default checkbox */
            .cusCheckContainer input {
                position: absolute;
                opacity: 0;
                cursor: pointer;
                height: 0;
                width: 0;
            }

        /* Create a custom checkbox */
        .checkmark {
            position: absolute;
            top: 4px;
            left: 0;
            height: 15px;
            width: 15px;
            border-radius: 3px;
            background-color: black;
        }

        /* On mouse-over, add a grey background color */
        .cusCheckContainer:hover input ~ .checkmark {
            background-color: black;
        }

        /* When the checkbox is checked, add a blue background */
        .cusCheckContainer input:checked ~ .checkmark {
            background-color: black;
        }

        /* Create the checkmark/indicator (hidden when not checked) */
        .checkmark:after {
            content: "";
            position: absolute;
            display: none;
        }

        /* Show the checkmark when checked */
        .cusCheckContainer input:checked ~ .checkmark:after {
            display: block;
        }

        /* Style the checkmark/indicator */
        .cusCheckContainer .checkmark:after {
            left: 5px;
            top: 1px;
            width: 6px;
            height: 10px;
            border: solid white;
            border-width: 0 2px 2px 0;
            -webkit-transform: rotate(45deg);
            -ms-transform: rotate(45deg);
            transform: rotate(45deg);
        }

        .textarea-border1 {
            border: 1px solid #9e9e9e !important;
            border-radius: 6px !important;
            position: relative !important;
            z-index: 2 !important;
            background-color: #fff !important;
            max-height: none !important;
            resize: vertical !important;
        }

        .BomGrid > .rgDataDiv {
            /*height: auto !important;
            max-height: 400px;*/
        }

        [id*=RadGrid_Estimate_GridData].rgDataDiv {
            height: 345px !important;
            max-height: 600px;
            overflow-y: scroll;
        }
    </style>
    <script type="text/javascript">
        function ShowRestoreGridSettingsButton() {
            document.getElementById("<%=lbSaveGridSettings.ClientID %>").style.display = "none";
            document.getElementById("<%=lbRestoreGridSettings.ClientID %>").style.display = "block";
        }
        //////////////// Confirm Mail Send to worker ///////////////////
        function notyConfirm(ticid) {
            noty({
                dismissQueue: true,
                layout: 'topCenter',
                theme: 'noty_theme_default',
                animateOpen: { height: 'toggle' },
                animateClose: { height: 'toggle' },
                easing: 'swing',
                text: 'Do you want to send text message to worker?',
                type: 'alert',
                speed: 500,
                timeout: false,
                closeButton: false,
                closeOnSelfClick: true,
                closeOnSelfOver: false,
                force: false,
                onShow: false,
                onShown: false,
                onClose: false,
                onClosed: false,
                buttons: [
                    {
                        type: 'btn btn-primary', text: 'Ok', click: function ($noty) {
                            $noty.close();
                            window.open("mailticket.aspx?id=" + ticid + "&c=0", "_blank");
                        }
                    },
                    {
                        type: 'btn btn-danger', text: 'Cancel', click: function ($noty) {
                            $noty.close();
                        }
                    }
                ],
                modal: true,
                template: '<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',
                cssPrefix: 'noty_',
                custom:
                {
                    container: null
                }
            });
        }
        function CheckSingleCheckbox(ob) {
            var grid = ob.parentNode.parentNode.parentNode;
            var inputs = grid.getElementsByTagName("input");
            for (var i = 0; i < inputs.length; i++) {
                if (inputs[i].type == "checkbox") {
                    if (ob.checked && inputs[i] != ob && inputs[i].checked && inputs[i].getAttribute('tabindex') == 19) {
                        inputs[i].checked = false;
                    }
                }
            }
        }
        function AddTicketClick(hyperlink) {
            var id = document.getElementById('<%= hdnAddeTicket.ClientID%>').value;
            if (id == "Y") {
                $('#liSaveticket').slideToggle('fast');
                $('#divAddTicket').toggle();
                $('#divEquip').css("display", 'none');
                $("#divCat").css("display", 'none');
                $("#divCatSearch").css("display", 'none');
                return true;
            } else {
                noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
                return false;
            }
        }
        function EditTicketClick(hyperlink) {
            var id = document.getElementById('<%= hdnEditeTicket.ClientID%>').value;
            var viewid = document.getElementById('<%= hdnviewTicket.ClientID%>').value;
            if (id == "Y" || viewid == "Y") { return true; } else {
                noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
                return false;
            }
        }
        function DeleteTicketClick(hyperlink) {
            var id = document.getElementById('<%= hdnDeleteTicket.ClientID%>').value;
            if (id == "Y") {
                return DeleteAlert();
            } else {
                noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
                return false;
            }
        }



        ///-Contact permission
        function AddContactClick(hyperlink) {
            var IsAdd = document.getElementById('<%= hdnAddeContact.ClientID%>').value;
            if (IsAdd == "Y") {
                return true;
            } else {
                noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
                return false;
            }
        }
        function EditContactClick(hyperlink) {
            var IsEdit = document.getElementById('<%= hdnEditeContact.ClientID%>').value;
            if (IsEdit == "Y") {
                return true;
            } else {
                noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
                return false;
            }
        }
        function AddPlannerClick(hyperlink) {
            $('#divAddPlanner').slideToggle('fast');
            return true;
        }
        ////////////-----------------Permission
        function ReloadPage() {
            return false;
        }
        function cancel() {
            window.parent.document.getElementById('btnCancel').click();
        }
        $(document).ready(function () {
            $("#<%=txtAmount.ClientID%>").focusin(function () {
                $(this).data('val', $(this).val());
            }).on('change', function () {
                var prev = $(this).data('val');
                var current = $(this).val();
                if (!confirm('This will change the maximum or quote amount on the project. Do you want to proceed?')) {
                    $(this).val(prev);
                    $("#<%=txtAmount.ClientID%>").focus();
                        return false;
                    }
                });
            //$('input.timepicker').timepicker({
            //    dropdown: false
            //});
            //$('input.timepicker').on('click', function () {
            //    if ($('input.timepicker').val() == "") {
            //        $('input.timepicker').timepicker('setTime', new Date());
            //        $(this).select();
            //    }
            //    else { $(this).select(); }
            //});
            //$('input.timepicker').on('focus', function () {
            //    $(this).select();
            //});
        });

        function selectDefaultPostingMethod(postingMethod, Acct) {
            if ($('#<%= chkProgressBilling.ClientID %>')[0].checked) {
                setSelectedPostingMethod($('#<%= ddlPostingMethod.ClientID %>')[0], postingMethod);
                HideShowOnPostingTypeChange(2);
                var dtaaa = new dtaa();
                dtaaa.prefixText = 'Retainage Receivable';
                $.ajax({
                    type: "POST",
                    contentType: "application/json; charset=utf-8",
                    url: "AccountAutoFill.asmx/GetAccountName",
                    data: JSON.stringify({ prefixText: Acct, con: '' }),
                    dataType: "json",
                    async: true,
                    success: function (data) {
                        for (var i = 0; i < $.parseJSON(data.d).length; i++) {
                            if ($.parseJSON(data.d)[i].label == Acct) {
                                $("#<%=txtRetainageReceivable.ClientID%>").val($.parseJSON(data.d)[i].label);
                                $("#<%=hdnRetainageReceivable.ClientID%>").val($.parseJSON(data.d)[i].value);
                                Materialize.updateTextFields();
                            }
                        }
                    },
                    error: function (result) {
                        alert("Due to unexpected errors we were unable to load services");
                    }
                });
            }
        }

        function setSelectedPostingMethod(control, val) {
            for (var i = 0; i < control.options.length; i++) {
                if (control.options[i].innerHTML == val) {
                    control.options[i].selected = true;
                    return;
                }
            }
        }
        function HideShowOnPostingTypeChange(opt) {
            if (opt == 1 || opt == 2) {

                //Change Unrecognized Expense on BILLING Tab base on Expense GL on FINANCE Tab
                $("#<%=txtUnrecognizedExpense.ClientID%>").val(document.getElementById('ctl00_ContentPlaceHolder1_uc_InvExpGL_txtGLAcct').value);
                $("#<%=hdnUnrecognizedExpense.ClientID%>").val(document.getElementById('ctl00_ContentPlaceHolder1_uc_InvExpGL_hdnAcctID').value);

                //Change Unrecognized Revenue on BILLING Tab base on Billing Code on FINANCE Tab
                $("#<%=txtUnrecognizedRevenue.ClientID%>").val($("#<%=txtInvService.ClientID%>").val());
                $("#<%=hdnUnrecognizedRevenue.ClientID%>").val($("#<%=hdnInvServiceID.ClientID%>").val());

                $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                    var $tr = $(this);
                    $tr.find('select[id*=ddlBillingCode]').val($("#<%=hdnInvServiceID.ClientID%>").val());
                });

                if (typeof (Materialize) != 'undefined' && typeof (Materialize.updateTextFields) == 'function') {
                    Materialize.updateTextFields();
                }
                $('.hideShowOnPostingType').show();
            }
            else {
                $('.hideShowOnPostingType').hide();
            }
        }
    </script>
    <script type="text/javascript">  
        var specialKeys = new Array();
        specialKeys.push(8); //Backspace  
        function numericOnly(elementRef) {
            var keyCodeEntered = (event.which) ? event.which : (window.event.keyCode) ? window.event.keyCode : -1;
            if ((keyCodeEntered >= 48) && (keyCodeEntered <= 57)) {
                return true;
            }
            // '.' decimal point...  
            else if (keyCodeEntered == 46) {
                // Allow only 1 decimal point ('.')...  
                if ((elementRef.value) && (elementRef.value.indexOf('.') >= 0))
                    return false;
                else
                    return true;
            }
            return false;
        }
    </script>
    <script type="text/javascript">
        var changes = 0;
        $(document).on("change", ":input[type!='file']", function () {
            changes = 1;
        });
        window.onbeforeunload = function () {
            if (!window.btn_clicked) {
                if (window.postback != false) {
                    if (changes == 1) {
                        return 'Changes not saved.';
                    }
                }
            }
        };
        function divExpandCollapse(divname) {
            //debugger;
            var div = document.getElementById(divname);
            var img = document.getElementById('img' + divname);
            if (div.style.display == "none") {
                div.style.display = "inline";
                img.src = "images/icons/minus.gif";
            } else {
                div.style.display = "none";
                img.src = "images/icons/plus.gif";
            }
        }
        function WarningTemplate() {
            noty({
                text: 'The BOM and Billing are in use and cannot be changed',
                type: 'warning',
                layout: 'topCenter',
                closeOnSelfClick: false,
                timeout: false,
                theme: 'noty_theme_default',
                closable: true
            });
        }
        ///////////// Custom validator function for customer auto search  ////////////////////
        function ChkCustomer(sender, args) {
            var hdnCustID = document.getElementById('<%=hdnCustID.ClientID%>');
            if (hdnCustID.value == '') {
                args.IsValid = false;
            }
        }
        function isInt(value) {
            var x = parseFloat(value);
            return !isNaN(value) && (x | 0) === x;
        }
        ///////////// Custom validator function for location auto search  ////////////////////
        function ChkLocation(sender, args) {
            var hdnLocId = document.getElementById('<%=hdnLocID.ClientID%>');
            if (hdnLocId.value == '') {
                args.IsValid = false;
            }
        }

        function getSelectionStart(o) {
            if (o.createTextRange) {
                var r = document.selection.createRange().duplicate()
                r.moveEnd('character', o.value.length)
                if (r.text == '') return o.value.length
                return o.value.dtxtScrapFactor = 0;
            }
        }
        function showDecimalVal(obj) {
            if (!isNaN(parseFloat(document.getElementById(obj.id).value.toString().replace(/[\$\(\),]/g, '')))) {
                document.getElementById(obj.id).value = parseFloat(document.getElementById(obj.id).value.toString().replace(/[\$\(\),]/g, '')).toLocaleString("en-US", { minimumFractionDigits: 2 })
            }
        }
        function showDecimalVal_WithMinus(obj) {
            if (!isNaN(parseFloat(document.getElementById(obj.id).value.toString().replace(/[\$\(\),]/g, '')))) {
                document.getElementById(obj.id).value = parseFloat(document.getElementById(obj.id).value.toString().replace(/[\$\(\),]/g, '')).toLocaleString("en-US", { minimumFractionDigits: 2 });
            }
        }
        function ConvertDigit(obj) {

            if (!isNaN(parseFloat(document.getElementById(obj.id).value))) {
                //document.getElementById(obj.id).value = parseFloat(document.getElementById(obj.id).value).toFixed(2);
                document.getElementById(obj.id).value = parseFloat(document.getElementById(obj.id).value).toFixed(2);
            }
        }
        function convertNumber(obj) {
            var expression = /[\(\)]/g;

            if (obj.match(expression))     /// check is parentheses exists (negative value)
            {
                return parseFloat(obj.replace(/[\$\(\),]/g, '')) * (-1);
            }
            else {
                return parseFloat(obj.replace(/[\$\(\),]/g, ''));
            }

        }
        function showDecimalVal_WithCurrencySigns(obj) {
            var amt = convertNumber($(obj).val().replace("$", ''))
            amt = parseFloat(amt)

            var amtval = cleanUpCurrency('$' + amt.toLocaleString("en-US", { minimumFractionDigits: 2 }))
            $(obj).val(amtval)
        }
        function calBudgetExt(obj) {
            //debugger;
            var txt = $(obj).attr('id');
            var valQtyReq = 0;
            var valBudgetExt = 0;
            var valScrapFact = 0;
            var txtScrapFactor = 0;
            var objId = document.getElementById(txt);
            var valLabExt = 0;
            var isQtyReq = txt.search("txtQtyReq");
            if (isQtyReq == -1) {
                //on txtBudgetUnit textbox change   
                var txtBudgetUnit = (document.getElementById(txt).value).toString().replace(/[,]/g, '');
                if (isInt(txtBudgetUnit) == true) {
                    document.getElementById(txt).value = parseFloat(txtBudgetUnit).toFixed(2);
                    txtBudgetUnit = document.getElementById(txt).value;
                    document.getElementById(txt).value = parseFloat(txtBudgetUnit).toLocaleString("en-US", { minimumFractionDigits: 2 })
                }
                var txtQtyReq = (document.getElementById(txt.replace('txtBudgetUnit', 'txtQtyReq')).value).toString().replace(/[\$\(\),]/g, '')
                var ddlBType = document.getElementById(txt.replace('txtBudgetUnit', 'ddlBType')).value;
                var lblMatExt = document.getElementById(txt.replace('txtBudgetUnit', 'lblMatExt'));
                var hdnMatExt = document.getElementById(txt.replace('txtBudgetUnit', 'hdnMatExt'));
                var lblLabExt = document.getElementById(txt.replace('txtBudgetUnit', 'lblLabExt'))
                valLabExt = $(lblLabExt).text().toString()
                var lblTotalExt = document.getElementById(txt.replace('txtBudgetUnit', 'lblTotalExt'))
            }
            else {
                //on txtQtyReq textbox change
                var txtQtyReq = (document.getElementById(txt).value).toString().replace(/[,]/g, '');
                if (isInt(txtQtyReq) == true) {
                    document.getElementById(txt).value = parseFloat(txtQtyReq).toFixed(2);
                    txtQtyReq = parseFloat(document.getElementById(txt).value)
                    document.getElementById(txt).value = txtQtyReq.toLocaleString("en-US", { minimumFractionDigits: 2 })
                }
                var txtBudgetUnit = (document.getElementById(txt.replace('txtQtyReq', 'txtBudgetUnit')).value).toString().replace(/[\$\(\),]/g, '')
                var ddlBType = document.getElementById(txt.replace('txtQtyReq', 'ddlBType')).value;
                var lblMatExt = document.getElementById(txt.replace('txtQtyReq', 'lblMatExt'));
                var hdnMatExt = document.getElementById(txt.replace('txtQtyReq', 'hdnMatExt'));
                var lblLabExt = document.getElementById(txt.replace('txtQtyReq', 'lblLabExt'))
                valLabExt = $(lblLabExt).text().toString()
                var lblTotalExt = document.getElementById(txt.replace('txtQtyReq', 'lblTotalExt'))
            }
            valBudgetExt = parseFloat(txtQtyReq) * parseFloat(txtBudgetUnit);
            if (!isNaN(valBudgetExt)) {
                valBudgetExt = valBudgetExt.toFixed(2);
                $(lblMatExt).text(parseFloat(valBudgetExt).toLocaleString("en-US", { minimumFractionDigits: 2 }))
                $(hdnMatExt).val(valBudgetExt.toString())
                if (isNaN(valLabExt) || valLabExt == "") {
                    valLabExt = 0;
                }
                var total = parseFloat(valBudgetExt) + parseFloat(valLabExt);
                $(lblTotalExt).text(total.toLocaleString("en-US", { minimumFractionDigits: 2 }))
            }
        }
        function calLabExt(obj) {
            var txt = $(obj).attr('id');
            var valHours = 0;
            var valRate = 0;
            var valLabExt = 0;
            var valMatExt = 0;
            var objId = document.getElementById(obj.id);
            var isRate = txt.search("txtLabRate");
            var isHours = txt.search("txtHours");
            if (isRate != -1) {
                //on txtLabRate textbox change   
                var txtLabRate = document.getElementById(txt).value.toString().replace(/[\$\(\),]/g, '');
                if (isInt(txtLabRate) == true) {
                    document.getElementById(txt).value = parseFloat(txtLabRate).toLocaleString("en-US", { minimumFractionDigits: 2 })
                    txtLabRate = document.getElementById(txt).value.toString().replace(/[\$\(\),]/g, '');
                }
                var txtHours = document.getElementById(txt.replace('txtLabRate', 'txtHours')).value.toString().replace(/[\$\(\),]/g, '');
                var lblLabExt = document.getElementById(txt.replace('txtLabRate', 'lblLabExt'));
                var lblTotalExt = document.getElementById(txt.replace('txtLabRate', 'lblTotalExt'))
                var lblMatExt = document.getElementById(txt.replace('txtLabRate', 'lblMatExt'))
                valMatExt = $(lblMatExt).text().toString().replace(/[\$\(\),]/g, '');
            }
            else if (isHours != -1) {
                //on txtHours textbox change
                var txtHours = document.getElementById(txt).value;
                if (isInt(txtHours) == true) {
                    document.getElementById(txt).value = parseFloat(txtHours).toLocaleString("en-US", { minimumFractionDigits: 2 })
                    txtHours = document.getElementById(txt).value;
                }
                var txtLabRate = document.getElementById(txt.replace('txtHours', 'txtLabRate')).value.toString().replace(/[\$\(\),]/g, '');
                var lblLabExt = document.getElementById(txt.replace('txtHours', 'lblLabExt'));
                var lblTotalExt = document.getElementById(txt.replace('txtHours', 'lblTotalExt'))
                var lblMatExt = document.getElementById(txt.replace('txtHours', 'lblMatExt'))
                valMatExt = $(lblMatExt).text().toString().replace(/[\$\(\),]/g, '');
            }
            valLabExt = (parseFloat(txtHours.replace(/,/g, '')) * parseFloat(txtLabRate.replace(/,/g, '')));
            if (!isNaN(valLabExt)) {
                valLabExt = parseFloat(valLabExt)
                $(lblLabExt).text(valLabExt.toLocaleString("en-US", { minimumFractionDigits: 2 }))
                if (isNaN(valMatExt) || valMatExt == "") {
                    valMatExt = 0;
                }
                var total = parseFloat(valMatExt) + parseFloat(valLabExt.toString().replace(/,/g, ''));
                $(lblTotalExt).text(total.toLocaleString("en-US", { minimumFractionDigits: 2 }))
            }
        }
        function cleanUpCurrency(s) {
            var expression = '-';
            //Check if it is in the proper format
            if (s.match(expression)) {
                //It matched - strip out - and append parentheses 
                return s.replace("$-", "\($") + ")";
            }
            else {
                return s;
            }
        }
        function CalculateRevTotal() {
            var tRev = 0;
            $("#<%=gvMilestones.ClientID %>").find('tbody tr').each(function () {
                var $tr = $(this);
                if ($tr.find('input[id*=txtAmount]').attr('id') != "" && typeof $tr.find('input[id*=txtAmount]').attr('id') != 'undefined') {
                    var amt = $tr.find('input[id*=txtAmount]').val().replace(/[\$\(\),]/g, '');
                    if (!isNaN(parseFloat(amt))) {
                        tRev += parseFloat(amt);
                    }
                }
            });
            $('.totalrev').html(cleanUpCurrency("$" + parseFloat(tRev).toLocaleString("en-US", { minimumFractionDigits: 2 })));
        }
        function GetNumberFromStringFormated(strNum) {
            strNum = strNum.replace(/[\$,]/g, '');
            if (strNum.indexOf('(') == 0) {
                strNum = strNum.replace(/[\(\),]/g, '');
                strNum = '-' + strNum;
            }
            return strNum;
        }
        function CalBillingAmount(obj, type) {
            var id = $(obj).attr('id');
            if (type == "1") {
                // Quantity
                var txtAmountId = id.replace('txtQuantity', 'txtAmount');
                var txtPriceId = id.replace('txtQuantity', 'txtPrice');
                var quan = parseFloat(GetNumberFromStringFormated($("#" + id).val()));
                var price = parseFloat(GetNumberFromStringFormated($("#" + txtPriceId).val()));
                var amount = parseFloat(GetNumberFromStringFormated($("#" + txtAmountId).val()));
                if (isNaN(quan) && !isNaN(price) && price != 0 && !isNaN(amount)) {
                    quan = amount / price;
                } else if (!isNaN(quan) && !isNaN(price)) {
                    amount = quan * price;
                } else if (!isNaN(quan) && quan != 0 && isNaN(price) && !isNaN(amount)) {
                    price = amount / quan;
                }

                if (!isNaN(quan)) {
                    $("#" + id).val(quan.toFixed(2));
                }

                if (!isNaN(amount)) {
                    $("#" + txtAmountId).val(amount.toLocaleString("en-US", { minimumFractionDigits: 2 }));
                }

                if (!isNaN(price)) {
                    $("#" + txtPriceId).val(price.toLocaleString("en-US", { minimumFractionDigits: 2 }));
                }
            }

            // Price
            else if (type == "2") {
                var txtAmountId = id.replace('txtPrice', 'txtAmount');
                var txtQuantityId = id.replace('txtPrice', 'txtQuantity');
                var quan = parseFloat(GetNumberFromStringFormated($("#" + txtQuantityId).val()));
                var price = parseFloat(GetNumberFromStringFormated($("#" + id).val()));
                var amount = parseFloat(GetNumberFromStringFormated($("#" + txtAmountId).val()));

                if (isNaN(price) && !isNaN(quan) && quan != 0 && !isNaN(amount)) {
                    price = amount / quan;

                } else if (!isNaN(price) && !isNaN(quan)) {
                    amount = quan * price;

                } else if (!isNaN(price) && price != 0 && isNaN(quan) && !isNaN(amount)) {
                    quan = amount / price;
                }

                if (!isNaN(quan)) {
                    $("#" + txtQuantityId).val(quan.toFixed(2));
                }

                if (!isNaN(amount)) {
                    $("#" + txtAmountId).val(amount.toLocaleString("en-US", { minimumFractionDigits: 2 }));
                }

                if (!isNaN(price)) {
                    $("#" + id).val(price.toLocaleString("en-US", { minimumFractionDigits: 2 }));
                }
            } else if (type == "3") {
                var txtPriceId = id.replace('txtAmount', 'txtPrice');
                var txtQuantityId = id.replace('txtAmount', 'txtQuantity');
                var quan = parseFloat(GetNumberFromStringFormated($("#" + txtQuantityId).val()));
                var price = parseFloat(GetNumberFromStringFormated($("#" + txtPriceId).val()));
                var amount = parseFloat(GetNumberFromStringFormated($("#" + id).val()));
                if (isNaN(amount) && !isNaN(quan) && !isNaN(price)) {
                    amount = quan * price;
                } else if (!isNaN(amount) && isNaN(quan) && !isNaN(price) && price != 0) {
                    quan = amount / price;
                } else if (!isNaN(amount) && !isNaN(quan) && quan != 0) {
                    price = amount / quan;
                } else if (!isNaN(amount) && amount != 0 && !isNaN(quan) && quan == 0) {
                    quan = 1;
                    price = amount;
                }

                if (!isNaN(quan)) {
                    $("#" + txtQuantityId).val(quan.toFixed(2));
                }

                if (!isNaN(amount)) {
                    $("#" + id).val(amount.toLocaleString("en-US", { minimumFractionDigits: 2 }));
                }

                if (!isNaN(price)) {
                    $("#" + txtPriceId).val(price.toLocaleString("en-US", { minimumFractionDigits: 2 }));
                }
            }
        }

        function DisableControls() {
            $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                var $tr = $(this);
                $tr.find('input[class*=DisableControls]').attr("readonly", true);
                $tr.find('input[class*=DisableControls]').focus(function () {
                    var $inp = $('input:text');
                    var nxtIdx = $inp.index(this) + 1;
                    if (this.id.indexOf("txtScheduledValues") > -1)
                        nxtIdx += 1;
                    $(":input:text:eq(" + nxtIdx + ")").focus().select();
                });
            });
        }
        var tAmt = 0;
        function CalculateContractAmountTotal() {
            tAmt = 0;
            $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                var $tr = $(this);
                var col = $tr.find('input[id*=txtContractAmount]');
                if (col.attr('id') != "" && typeof col.attr('id') != 'undefined') {
                    var amt = col.val().replace(/[\$\(\),]/g, '');
                    if (!isNaN(parseFloat(amt))) {
                        tAmt += parseFloat(amt);
                    }
                    else
                        $tr.find('input[id*=txtContractAmount]').val(parseFloat(0).toFixed(2));
                }
            });
            $('.totalContractAmount').html(cleanUpCurrency("$" + parseFloat(tAmt).toLocaleString("en-US", { minimumFractionDigits: 2 })));
        }
        var _firstCall = 1;

        function CalculateChangeOrderTotal() {
            tAmt = 0;
            $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                var $tr = $(this);
                var col = $tr.find('input[id*=txtChangeOrder]');
                var amt = 0;
                var amt2 = 0;
                if (col.attr('id') != "" && typeof col.attr('id') != 'undefined') {
                    amt = col.val().replace(/[\$\(\),]/g, '');
                    if (!isNaN(parseFloat(amt))) {
                        tAmt += parseFloat(amt);
                    }
                    else
                        $tr.find('input[id*=txtChangeOrder]').val(parseFloat(0).toFixed(2));

                    if (setTimeout(function () { $tr.find('input').is(":focus") }, 100) || _firstCall == 1) {
                        // calculare Scheduled Values
                        var col2 = $tr.find('input[id*=txtContractAmount]');
                        if (col2.attr('id') != "" && typeof col2.attr('id') != 'undefined') {
                            amt2 = col2.val().replace(/[\$\(\),]/g, '');
                        }
                        if (isNaN(parseFloat(amt))) amt = 0;
                        if (isNaN(parseFloat(amt2))) amt2 = 0;
                        $tr.find('input[id*=txtScheduledValues]').val(parseFloat((parseFloat(amt) + parseFloat(amt2))).toFixed(2));
                    }
                }
            });
            $('.totalChangeOrder').html(cleanUpCurrency("$" + parseFloat(tAmt).toLocaleString("en-US", { minimumFractionDigits: 2 })));
            CalculateScheduledValuesTotal();
        }
        function updateRetainageDefault() {
            var txtRetainagePercentage = document.getElementById("<%=txtRetainagePercentage.ClientID%>");


            $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                var $tr = $(this);
                var $tr = $(this);
                var txtRetainagePer = $tr.find('input[id*=txtRetainagePer]');
                txtRetainagePer.val(parseFloat($(txtRetainagePercentage).val()).toFixed(2));
            });
        }
        function CalculateScheduledValuesTotal() {
            tAmt = 0;
            $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                var $tr = $(this);
                var col = $tr.find('input[id*=txtScheduledValues]');
                if (col.attr('id') != "" && typeof col.attr('id') != 'undefined') {
                    var amt = col.val().replace(/[\$\(\),]/g, '');
                    if (!isNaN(parseFloat(amt))) {
                        tAmt += parseFloat(amt);
                    }
                    else
                        $tr.find('input[id*=txtScheduledValues]').val(parseFloat(0).toFixed(2));
                }
            });
            $('.totalScheduledValues').html(cleanUpCurrency("$" + parseFloat(tAmt).toLocaleString("en-US", { minimumFractionDigits: 2 })));
            CalculateTotalCompletedAndStoredTotal();
        }
        function CalculatePreviousBilledTotal() {
            tAmt = 0;
            $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                var $tr = $(this);
                var col = $tr.find('input[id*=txtPreviousBilled]');
                if (col.attr('id') != "" && typeof col.attr('id') != 'undefined') {
                    var amt = col.val().replace(/[\$\(\),]/g, '');
                    if (!isNaN(parseFloat(amt))) {
                        tAmt += parseFloat(amt);
                    }
                    else
                        $tr.find('input[id*=txtPreviousBilled]').val(parseFloat(0).toFixed(2));
                    if (setTimeout(function () { $tr.find('input').is(":focus") }, 100) || _firstCall == 1) {
                        // calculare Total Completed and Stored Start
                        var amt2 = 0;
                        var col2 = $tr.find('input[id*=txtPresentlyStored]');
                        if (col2.attr('id') != "" && typeof col2.attr('id') != 'undefined') {
                            amt2 = col2.val().replace(/[\$\(\),]/g, '');
                        }
                        var amt3 = 0;
                        var col3 = $tr.find('input[id*=txtCompletedThisPeriod]');
                        if (col3.attr('id') != "" && typeof col3.attr('id') != 'undefined') {
                            amt3 = col3.val().replace(/[\$\(\),]/g, '');
                        }
                        var amt4 = 0;
                        var col4 = $tr.find('input[id*=txtRetainageCumAmount]');
                        if (col4.attr('id') != "" && typeof col4.attr('id') != 'undefined') {
                            amt4 = col4.val().replace(/[\$\(\),]/g, '');
                        }
                        var totalCompSto = 0;
                        if (!isNaN(parseFloat(amt))) { totalCompSto += parseFloat(amt); }
                        if (!isNaN(parseFloat(amt2))) { totalCompSto += parseFloat(amt2); }
                        if (!isNaN(parseFloat(amt3))) { totalCompSto += parseFloat(amt3); }

                        $tr.find('input[id*=txtTotalCompletedAndStored]').val(parseFloat(totalCompSto).toFixed(2));
                        // calculare Total Completed and Stored END
                    }
                }
            });
            $('.totalPreviousBilled').html(cleanUpCurrency("$" + parseFloat(tAmt).toLocaleString("en-US", { minimumFractionDigits: 2 })));
            CalculateTotalCompletedAndStoredTotal();
        }
        function CalculatCompletedThisPeriodTotal() {
            tAmt = 0;
            tAmt = 0;
            $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                var $tr = $(this);
                var col = $tr.find('input[id*=txtCompletedThisPeriod]');
                if (col.attr('id') != "" && typeof col.attr('id') != 'undefined') {
                    var amt = col.val().replace(/[\$\(\),]/g, '');
                    if (!isNaN(parseFloat(amt))) {
                        tAmt += parseFloat(amt);

                    }
                    else
                        $tr.find('input[id*=txtCompletedThisPeriod]').val(parseFloat(0).toFixed(2));
                    if (setTimeout(function () { $tr.find('input').is(":focus") }, 100) || _firstCall == 1) {
                        // calculare Scheduled Values Start
                        var amt2 = 0;
                        var col2 = $tr.find('input[id*=txtPresentlyStored]');
                        if (col2.attr('id') != "" && typeof col2.attr('id') != 'undefined') {
                            amt2 = col2.val().replace(/[\$\(\),]/g, '');
                        }
                        var col3 = $tr.find('input[id*=txtPreviousBilled]');
                        if (col3.attr('id') != "" && typeof col3.attr('id') != 'undefined') {
                            amt3 = col3.val().replace(/[\$\(\),]/g, '');
                        }
                        var amt4 = 0;
                        var col4 = $tr.find('input[id*=txtRetainageCumAmount]');
                        if (col4.attr('id') != "" && typeof col4.attr('id') != 'undefined') {
                            amt4 = col4.val().replace(/[\$\(\),]/g, '');
                        }
                        var totalCompSto = 0;
                        if (!isNaN(parseFloat(amt))) { totalCompSto += parseFloat(amt); }
                        if (!isNaN(parseFloat(amt2))) { totalCompSto += parseFloat(amt2); }
                        if (!isNaN(parseFloat(amt3))) { totalCompSto += parseFloat(amt3); }

                        $tr.find('input[id*=txtTotalCompletedAndStored]').val(parseFloat(totalCompSto).toFixed(2));
                        // calculare Scheduled Values END
                        // calculate Pre Complete total Start && 
                        var amt5 = 0;
                        var col5 = $tr.find('input[id*=txtScheduledValues]');
                        if (col5.attr('id') != "" && typeof col5.attr('id') != 'undefined') {
                            amt5 = col5.val().replace(/[\$\(\),]/g, '');
                        }
                        var totalPerComplete = 0;
                        if (!isNaN(parseFloat(amt)) && !isNaN(parseFloat(amt5))) {
                            if (parseFloat(amt5) != 0) {
                                totalPerComplete = parseFloat(amt) / parseFloat(amt5);
                            }
                        }
                        $tr.find('input[id*=txtPerComplete]').val(parseFloat(totalPerComplete * 100).toFixed(2));
                        // calculare Pre Complete total END
                    }
                }
            });
            $('.totalCompletedThisPeriod').html(cleanUpCurrency("$" + parseFloat(tAmt).toLocaleString("en-US", { minimumFractionDigits: 2 })));
            CalculateTotalCompletedAndStoredTotal();
        }
        function CalculatPresentlyStoredTotal() {
            tAmt = 0;
            $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                var $tr = $(this);
                var col = $tr.find('input[id*=txtPresentlyStored]');
                if (col.attr('id') != "" && typeof col.attr('id') != 'undefined') {
                    var amt = col.val().replace(/[\$\(\),]/g, '');
                    if (!isNaN(parseFloat(amt))) {
                        tAmt += parseFloat(amt);
                    }
                    else {
                        $tr.find('input[id*=txtPresentlyStored]').val(parseFloat(0).toFixed(2));
                    }
                    if (setTimeout(function () { $tr.find('input').is(":focus") }, 100) || _firstCall == 1) {
                        // calculare Scheduled Values Start
                        var amt2 = 0;
                        var col2 = $tr.find('input[id*=txtCompletedThisPeriod]');
                        if (col2.attr('id') != "" && typeof col2.attr('id') != 'undefined') {
                            amt2 = col2.val().replace(/[\$\(\),]/g, '');
                        }
                        var amt3 = 0;
                        var col3 = $tr.find('input[id*=txtPreviousBilled]');
                        if (col3.attr('id') != "" && typeof col3.attr('id') != 'undefined') {
                            amt3 = col3.val().replace(/[\$\(\),]/g, '');
                        }
                        var amt4 = 0;
                        var col4 = $tr.find('input[id*=txtRetainageCumAmount]');
                        if (col4.attr('id') != "" && typeof col4.attr('id') != 'undefined') {
                            amt4 = col4.val().replace(/[\$\(\),]/g, '');
                        }
                        var totalCompSto = 0;
                        if (!isNaN(parseFloat(amt))) { totalCompSto += parseFloat(amt); }
                        if (!isNaN(parseFloat(amt2))) { totalCompSto += parseFloat(amt2); }
                        if (!isNaN(parseFloat(amt3))) { totalCompSto += parseFloat(amt3); }

                        $tr.find('input[id*=txtTotalCompletedAndStored]').val(parseFloat(totalCompSto).toFixed(2));
                        // calculare Scheduled Values END
                    }
                }
            });
            $('.totalPresentlyStored').html(cleanUpCurrency("$" + parseFloat(tAmt).toLocaleString("en-US", { minimumFractionDigits: 2 })));
            CalculateTotalCompletedAndStoredTotal();
        }
        function CalculateTotalCompletedAndStoredTotal() {
            tAmt = 0;
            $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                var $tr = $(this);
                var col = $tr.find('input[id*=txtTotalCompletedAndStored]');
                if (col.attr('id') != "" && typeof col.attr('id') != 'undefined') {
                    var amt = col.val().replace(/[\$\(\),]/g, '');
                    if (!isNaN(parseFloat(amt))) {
                        tAmt += parseFloat(amt);
                    }
                    else
                        $tr.find('input[id*=txtTotalCompletedAndStored]').val(parseFloat(0).toFixed(2));
                    if (setTimeout(function () { $tr.find('input').is(":focus") }, 100) || _firstCall == 1) {
                        var amt2 = 0;
                        var col2 = $tr.find('input[id*=txtScheduledValues]');
                        if (col2.attr('id') != "" && typeof col2.attr('id') != 'undefined') {
                            amt2 = col2.val().replace(/[\$\(\),]/g, '');
                        }
                        // Calculate Balance to Finish Start
                        var amt4 = 0;
                        var col4 = $tr.find('input[id*=txtRetainageCumAmount]');
                        if (col4.attr('id') != "" && typeof col4.attr('id') != 'undefined') {
                            amt4 = col4.val().replace(/[\$\(\),]/g, '');
                        }
                        var totalBalanceToFinsh = 0;
                        if (!isNaN(parseFloat(amt)) && !isNaN(parseFloat(amt2))) {
                            // totalBalanceToFinsh = parseFloat(amt2) - (parseFloat(amt) - parseFloat(amt4));
                            totalBalanceToFinsh = parseFloat(amt2) - parseFloat(amt);
                        }
                        $tr.find('input[id*=txtBalanceToFinsh]').val(parseFloat(totalBalanceToFinsh).toFixed(2));
                        // Calculate Balance to Finish End
                        // Calculate Total Billed Start
                        var amt3 = 0;
                        var col3 = $tr.find('input[id*=txtRetainageAmount]');
                        if (col3.attr('id') != "" && typeof col3.attr('id') != 'undefined') {
                            amt3 = col3.val().replace(/[\$\(\),]/g, '');
                        }

                        var totalBilled = 0;
                        if (!isNaN(parseFloat(amt)) && !isNaN(parseFloat(amt3))) {
                            totalBilled = (parseFloat(amt) - parseFloat(amt3)) - parseFloat(amt4);
                        }
                        $tr.find('input[id*=txtTotalBilled]').val(parseFloat(totalBilled).toFixed(2));
                        // Calculate Balance to Finish End
                    }
                }
            });
            $('.totalTotalCompletedAndStored').html(cleanUpCurrency("$" + parseFloat(tAmt).toLocaleString("en-US", { minimumFractionDigits: 2 })));
            //CalculatePerCompleteTotal();
            CalculateBalanceToFinshTotal();
            CalculateTotalBilledTotal();
            CalculateGridAmount();
        }
        function CalculatePerCompleteTotal() {
            //debugger
            var tAmt_1 = 0;
            var tAmt_2 = 0;
            var tAmt_3 = 0;
            var tAmt_4 = 0;
            var tAmt_5 = 0;
            $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                var $tr = $(this);
                var col = $tr.find('input[id*=txtPerComplete]');
                if (col.attr('id') != "" && typeof col.attr('id') != 'undefined') {
                    var amt = col.val().replace(/[\$\(\),]/g, '');
                    if (isNaN(parseFloat(amt))) {
                        $tr.find('input[id*=txtPerComplete]').val(parseFloat(0).toFixed(2));
                    }
                    //if (setTimeout(function () { $tr.find('input').is(":focus") }, 100) && parseFloat(amt) > 0) {
                    if (setTimeout(function () { $tr.find('input').is(":focus") }, 100)) {
                        var amt2 = 0;
                        var col2 = $tr.find('input[id*=txtScheduledValues]');
                        if (col2.attr('id') != "" && typeof col2.attr('id') != 'undefined') {
                            amt2 = col2.val().replace(/[\$\(\),]/g, '');
                        }
                        var amt3 = 0;
                        var col3 = $tr.find('input[id*=txtPreviousBilled]');
                        if (col3.attr('id') != "" && typeof col3.attr('id') != 'undefined') {
                            amt3 = col3.val().replace(/[\$\(\),]/g, '');
                        }
                        var CompletedThisPeriod = 0;
                        if (!isNaN(parseFloat(amt)) && !isNaN(parseFloat(amt2))) {
                            if (parseFloat(amt2) > 0) {
                                CompletedThisPeriod = (parseFloat(amt) * parseFloat(amt2)) / 100;
                            }
                        }

                        $tr.find('input[id*=txtCompletedThisPeriod]').val(parseFloat(CompletedThisPeriod).toFixed(2));
                        // CompletedAndStored
                        var amt4 = 0;
                        var col4 = $tr.find('input[id*=txtPresentlyStored]');
                        if (col4.attr('id') != "" && typeof col4.attr('id') != 'undefined') {
                            amt4 = col4.val().replace(/[\$\(\),]/g, '');
                        }
                        var TotalCompletedAndStored = 0;
                        if (!isNaN(parseFloat(amt3)) && !isNaN(parseFloat(CompletedThisPeriod))) {
                            TotalCompletedAndStored = parseFloat(CompletedThisPeriod) + parseFloat(amt3);
                        }
                        $tr.find('input[id*=txtTotalCompletedAndStored]').val(parseFloat(TotalCompletedAndStored).toFixed(2));
                        // Calculate Bill To Finish
                        var amt4 = 0;
                        var col4 = $tr.find('input[id*=txtRetainageCumAmount]');
                        if (col4.attr('id') != "" && typeof col4.attr('id') != 'undefined') {
                            amt4 = col4.val().replace(/[\$\(\),]/g, '');
                        }
                        var totalBalanceToFinsh = 0;
                        if (!isNaN(parseFloat(TotalCompletedAndStored)) && !isNaN(parseFloat(amt2))) {
                            totalBalanceToFinsh = parseFloat(amt2) - parseFloat(TotalCompletedAndStored);
                        }
                        $tr.find('input[id*=txtBalanceToFinsh]').val(parseFloat(totalBalanceToFinsh).toFixed(2));
                        // Calculate Total Billed
                        var amt5 = 0;
                        var col5 = $tr.find('input[id*=txtRetainagePer]');
                        if (col5.attr('id') != "" && typeof col5.attr('id') != 'undefined') {
                            amt5 = col5.val().replace(/[\$\(\),]/g, '');
                        }
                        //Test
                        var RetainageAmount = 0;
                        // if (!isNaN(parseFloat(CompletedThisPeriod)) && !isNaN(parseFloat(amt5)) && parseFloat(amt5) > 0) {
                        if (!isNaN(parseFloat(CompletedThisPeriod)) && !isNaN(parseFloat(amt5)) && parseFloat(amt5) != 0) {
                            RetainageAmount = (parseFloat(CompletedThisPeriod) * parseFloat(amt5)) / 100;
                        }
                        $tr.find('input[id*=txtRetainageAmount]').val(parseFloat(RetainageAmount).toFixed(2));
                        var totalBilled = 0;
                        if (!isNaN(parseFloat(TotalCompletedAndStored)) && !isNaN(parseFloat(RetainageAmount))) {
                            totalBilled = (parseFloat(TotalCompletedAndStored) - parseFloat(RetainageAmount));
                        }
                        $tr.find('input[id*=txtTotalBilled]').val(parseFloat(totalBilled).toFixed(2));
                    }
                }
                var col_1 = $tr.find('input[id*=txtCompletedThisPeriod]');
                if (col_1.attr('id') != "" && typeof col_1.attr('id') != 'undefined') {
                    var amt_1 = col_1.val().replace(/[\$\(\),]/g, '');
                    if (!isNaN(parseFloat(amt_1))) {
                        tAmt_1 += parseFloat(amt_1);
                    }
                }
                var col_2 = $tr.find('input[id*=txtTotalCompletedAndStored]');
                if (col_2.attr('id') != "" && typeof col_2.attr('id') != 'undefined') {
                    var amt_2 = col_2.val().replace(/[\$\(\),]/g, '');
                    if (!isNaN(parseFloat(amt_2))) {
                        tAmt_2 += parseFloat(amt_2);
                    }
                }
                var col_3 = $tr.find('input[id*=txtBalanceToFinsh]');
                if (col_3.attr('id') != "" && typeof col_3.attr('id') != 'undefined') {
                    var amt_3 = col_3.val().replace(/[\$\(\),]/g, '');
                    if (!isNaN(parseFloat(amt_3))) {
                        tAmt_3 += parseFloat(amt_3);
                    }
                }
                var col_4 = $tr.find('input[id*=txtRetainageAmount]');
                if (col_4.attr('id') != "" && typeof col_4.attr('id') != 'undefined') {
                    var amt_4 = col_4.val().replace(/[\$\(\),]/g, '');
                    if (!isNaN(parseFloat(amt_4))) {
                        tAmt_4 += parseFloat(amt_4);
                    }
                }
                var col_5 = $tr.find('input[id*=txtTotalBilled]');
                if (col_5.attr('id') != "" && typeof col_5.attr('id') != 'undefined') {
                    var amt_5 = col_5.val().replace(/[\$\(\),]/g, '');
                    if (!isNaN(parseFloat(amt_5))) {
                        tAmt_5 += parseFloat(amt_5);
                    }
                }
            });
            $('.totalCompletedThisPeriod').html(cleanUpCurrency("$" + parseFloat(tAmt_1).toLocaleString("en-US", { minimumFractionDigits: 2 })));
            $('.totalTotalCompletedAndStored').html(cleanUpCurrency("$" + parseFloat(tAmt_2).toLocaleString("en-US", { minimumFractionDigits: 2 })));
            $('.totalBalanceToFinsh').html(cleanUpCurrency("$" + parseFloat(tAmt_3).toLocaleString("en-US", { minimumFractionDigits: 2 })));
            $('.totalRetainageAmount').html(cleanUpCurrency("$" + parseFloat(tAmt_4).toLocaleString("en-US", { minimumFractionDigits: 2 })));
            $('.totalTotalBilled').html(cleanUpCurrency("$" + parseFloat(tAmt_5).toLocaleString("en-US", { minimumFractionDigits: 2 })));
            this.event.preventDefault();
        }
        function CalculatCompletedThisPeriodTotal_OnlyFromPer() {
            tAmt = 0;
            $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                var $tr = $(this);
                var col = $tr.find('input[id*=txtCompletedThisPeriod]');
                if (col.attr('id') != "" && typeof col.attr('id') != 'undefined') {
                    var amt = col.val().replace(/[\$\(\),]/g, '');
                    if (!isNaN(parseFloat(amt))) {
                        tAmt += parseFloat(amt);
                    }
                    else
                        $tr.find('input[id*=txtCompletedThisPeriod]').val(parseFloat(0).toFixed(2));
                    if (setTimeout(function () { $tr.find('input').is(":focus") }, 100) || _firstCall == 1) {
                        // calculare Scheduled Values Start
                        var amt2 = 0;
                        var col2 = $tr.find('input[id*=txtPresentlyStored]');
                        if (col2.attr('id') != "" && typeof col2.attr('id') != 'undefined') {
                            amt2 = col2.val().replace(/[\$\(\),]/g, '');
                        }
                        var amt3 = 0;
                        var col3 = $tr.find('input[id*=txtPreviousBilled]');
                        if (col3.attr('id') != "" && typeof col3.attr('id') != 'undefined') {
                            amt3 = col3.val().replace(/[\$\(\),]/g, '');
                        }
                        var amt4 = 0;
                        var col4 = $tr.find('input[id*=txtRetainageCumAmount]');
                        if (col4.attr('id') != "" && typeof col4.attr('id') != 'undefined') {
                            amt4 = col4.val().replace(/[\$\(\),]/g, '');
                        }
                        var totalCompSto = 0;
                        if (!isNaN(parseFloat(amt))) { totalCompSto += parseFloat(amt); }
                        if (!isNaN(parseFloat(amt2))) { totalCompSto += parseFloat(amt2); }
                        if (!isNaN(parseFloat(amt3))) { totalCompSto += parseFloat(amt3); }
                        //if (!isNaN(parseFloat(amt4))) { totalCompSto += parseFloat(amt4); }
                        $tr.find('input[id*=txtTotalCompletedAndStored]').val(parseFloat(totalCompSto).toFixed(2));
                        // calculare Scheduled Values END
                    }
                }
            });
            $('.totalCompletedThisPeriod').html(cleanUpCurrency("$" + parseFloat(tAmt).toLocaleString("en-US", { minimumFractionDigits: 2 })));
            CalculateTotalCompletedAndStoredTotal_OnlyFromPer();
        }
        function CalculateTotalCompletedAndStoredTotal_OnlyFromPer() {
            tAmt = 0;
            $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                var $tr = $(this);
                var col = $tr.find('input[id*=txtTotalCompletedAndStored]');
                if (col.attr('id') != "" && typeof col.attr('id') != 'undefined') {
                    var amt = col.val().replace(/[\$\(\),]/g, '');
                    if (!isNaN(parseFloat(amt))) {
                        tAmt += parseFloat(amt);
                    }
                    else
                        $tr.find('input[id*=txtTotalCompletedAndStored]').val(parseFloat(0).toFixed(2));
                    if (setTimeout(function () { $tr.find('input').is(":focus") }, 100) || _firstCall == 1) {
                        // calculate Pre Complete total Start && 
                        var amt2 = 0;
                        var col2 = $tr.find('input[id*=txtScheduledValues]');
                        if (col2.attr('id') != "" && typeof col2.attr('id') != 'undefined') {
                            amt2 = col2.val().replace(/[\$\(\),]/g, '');
                        }
                        // calculare Pre Complete total END
                        // Calculate Balance to Finish Start
                        var amt4 = 0;
                        var col4 = $tr.find('input[id*=txtRetainageCumAmount]');
                        if (col4.attr('id') != "" && typeof col4.attr('id') != 'undefined') {
                            amt4 = col4.val().replace(/[\$\(\),]/g, '');
                        }
                        var totalBalanceToFinsh = 0;
                        if (!isNaN(parseFloat(amt)) && !isNaN(parseFloat(amt2))) {
                            totalBalanceToFinsh = parseFloat(amt2) - parseFloat(amt);
                        }
                        $tr.find('input[id*=txtBalanceToFinsh]').val(parseFloat(totalBalanceToFinsh).toFixed(2));
                        // Calculate Balance to Finish End
                        // Calculate Total Billed Start
                        var amt3 = 0;
                        var col3 = $tr.find('input[id*=txtRetainageAmount]');
                        if (col3.attr('id') != "" && typeof col3.attr('id') != 'undefined') {
                            amt3 = col3.val().replace(/[\$\(\),]/g, '');
                        }

                        var totalBilled = 0;
                        if (!isNaN(parseFloat(amt)) && !isNaN(parseFloat(amt3))) {
                            totalBilled = (parseFloat(amt) - parseFloat(amt3)) - parseFloat(amt4);
                        }
                        $tr.find('input[id*=txtTotalBilled]').val(parseFloat(totalBilled).toFixed(2));
                        // Calculate Balance to Finish End
                    }
                }
            });
            $('.totalTotalCompletedAndStored').html(cleanUpCurrency("$" + parseFloat(tAmt).toLocaleString("en-US", { minimumFractionDigits: 2 })));
            CalculateBalanceToFinshTotal();
            CalculateTotalBilledTotal();
        }
        function CalculateBalanceToFinshTotal() {
            tAmt = 0;
            $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                var $tr = $(this);
                var col = $tr.find('input[id*=txtBalanceToFinsh]');
                if (col.attr('id') != "" && typeof col.attr('id') != 'undefined') {
                    var amt = col.val().replace(/[\$\(\),]/g, '');
                    if (!isNaN(parseFloat(amt))) {
                        tAmt += parseFloat(amt);
                    }
                    else
                        $tr.find('input[id*=txtBalanceToFinsh]').val(parseFloat(0).toFixed(2));
                }
            });
            $('.totalBalanceToFinsh').html(cleanUpCurrency("$" + parseFloat(tAmt).toLocaleString("en-US", { minimumFractionDigits: 2 })));
        }
        function CalculateRetainagePerTotal() {
            tAmt = 0;
            $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                var $tr = $(this);
                var col = $tr.find('input[id*=txtRetainagePer]');
                var txtScheduledValues = $tr.find('input[id*=txtScheduledValues]');
                var txtPreviousBilled = $tr.find('input[id*=txtPreviousBilled]');
                var amountBill = 0;
                if (txtScheduledValues.val() != undefined && txtPreviousBilled.val() != undefined) {
                    amountBill = parseFloat(txtScheduledValues.val().replace(",", "")) - parseFloat(txtPreviousBilled.val().replace(",", ""));
                }


                if (col.attr('id') != "" && typeof col.attr('id') != 'undefined') {
                    var tetst = document.getElementById(col.attr('id')).value;

                    var amt = col.val().replace(/[\$\(\),]/g, '');
                    if (amountBill == 0) {
                        amt = 0;
                    }
                    if (!isNaN(parseFloat(amt))) {
                        tAmt += parseFloat(amt);
                    }
                    else
                        $tr.find('input[id*=txtRetainagePer]').val(parseFloat(0).toFixed(2));
                    if (setTimeout(function () { $tr.find('input').is(":focus") }, 100) || _firstCall == 1) {
                        // Calculate Retainage Amount Start
                        var amt1 = 0;
                        var totalTotalBilled = 0;
                        var col1 = $tr.find('input[id*=txtCompletedThisPeriod]');
                        if (col1.attr('id') != "" && typeof col1.attr('id') != 'undefined') {
                            amt1 = col1.val().replace(/[\$\(\),]/g, '');
                        }
                        var amt3 = 0;
                        var col3 = $tr.find('input[id*=txtTotalCompletedAndStored]');
                        if (col3.attr('id') != "" && typeof col3.attr('id') != 'undefined') {
                            amt3 = col3.val().replace(/[\$\(\),]/g, '');
                        }
                        var amt4 = 0;
                        var col4 = $tr.find('input[id*=txtRetainageCumAmount]');
                        if (col4.attr('id') != "" && typeof col4.attr('id') != 'undefined') {
                            amt4 = col4.val().replace(/[\$\(\),]/g, '');
                        }
                        var amt5 = 0;
                        var col5 = $tr.find('input[id*=hdnRetainageAmount]');
                        if (col5.attr('id') != "" && typeof col5.attr('id') != 'undefined') {
                            amt5 = col5.val().replace(/[\$\(\),]/g, '');
                        }

                        if (!isNaN(parseFloat(amt)) && !isNaN(parseFloat(amt1))) {
                            if (!isNaN(parseFloat(amt)) && parseFloat(amt) == 0 && parseFloat(amt5) != 0) {
                                $tr.find('input[id*=txtRetainageAmount]').val(parseFloat(amt5).toFixed(2));
                            } else {
                                $tr.find('input[id*=txtRetainageAmount]').val((parseFloat(parseFloat(amt1) * (parseFloat(amt) / 100.0)).toFixed(2)));

                            }

                            // calculate Total Billed Start
                            var totalTotalBilled = (parseFloat(parseFloat(amt3) - parseFloat(amt1) * (parseFloat(amt) / 100.0)));
                            $tr.find('input[id*=txtTotalBilled]').val(parseFloat(totalTotalBilled).toFixed(2));
                            // calculare Total Billed END
                        }
                        // Calculate Retainage Amount End
                    }
                }
            });
            $('.totalRetainagePer').html(cleanUpCurrency(parseFloat(tAmt).toLocaleString("en-US", { minimumFractionDigits: 2 })));
            CalculateRetainageAmountTotal();
        }
        function CalculateRetainageAmountTotal() {
            //debugger
            tAmt = 0;
            $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                var $tr = $(this);
                var col = $tr.find('input[id*=txtRetainageAmount]');
                if (col.attr('id') != "" && typeof col.attr('id') != 'undefined') {
                    var amt = col.val().replace(/[\$\(\),]/g, '');
                    if (!isNaN(parseFloat(amt))) {
                        tAmt += parseFloat(amt);
                    }
                    else
                        $tr.find('input[id*=txtRetainageAmount]').val(parseFloat(0).toFixed(2));
                }
                if (setTimeout(function () { $tr.find('input').is(":focus") }, 100) || _firstCall == 1) {
                    // calculate Total Billed Start
                    var amt2 = 0;
                    var col2 = $tr.find('input[id*=txtTotalCompletedAndStored]');
                    if (col2.attr('id') != "" && typeof col2.attr('id') != 'undefined') {
                        amt2 = col2.val().replace(/[\$\(\),]/g, '');
                    }
                    var amt4 = 0;
                    var col4 = $tr.find('input[id*=txtRetainageCumAmount]');
                    if (col4.attr('id') != "" && typeof col4.attr('id') != 'undefined') {
                        amt4 = col4.val().replace(/[\$\(\),]/g, '');
                    }
                    var totalTotalBilled = 0;
                    if (!isNaN(parseFloat(amt)) && !isNaN(parseFloat(amt2))) {
                        totalTotalBilled = (parseFloat(amt2) - parseFloat(amt)) - parseFloat(amt4);
                    }
                    $tr.find('input[id*=txtTotalBilled]').val(parseFloat(totalTotalBilled).toFixed(2));
                    // calculare Total Billed END

                    var amt3 = 0;
                    var col3 = $tr.find('input[id*=txtCompletedThisPeriod]');
                    if (col3.attr('id') != "" && typeof col3.attr('id') != 'undefined') {
                        amt3 = col3.val().replace(/[\$\(\),]/g, '');
                    }
                    var RetainagePer = 0;
                    if (amt3 == 0) {
                        RetainagePer = 0;
                    } else {
                        if (!isNaN(parseFloat(amt3)) && !isNaN(parseFloat(amt)) && parseFloat(amt) != 0) {
                            RetainagePer = (parseFloat(amt) * 100.00) / parseFloat(amt3)
                        } else {
                            RetainagePer = 0;
                        }
                    }

                    //Test
                    // if (!isNaN(parseFloat(amt3)) && !isNaN(parseFloat(amt)) && parseFloat(amt) > 0)

                    $tr.find('input[id*=txtRetainagePer]').val(parseFloat(RetainagePer).toFixed(2));

                }
            });
            $('.totalRetainageAmount').html(cleanUpCurrency("$" + parseFloat(tAmt).toLocaleString("en-US", { minimumFractionDigits: 2 })));
            CalculateTotalBilledTotal();
            CalculateGridAmount();
        }
        function CalculateTotalBilledTotal() {
            tAmt = 0;
            $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                var $tr = $(this);
                var col = $tr.find('input[id*=txtTotalBilled]');
                if (col.attr('id') != "" && typeof col.attr('id') != 'undefined') {
                    var amt = col.val().replace(/[\$\(\),]/g, '');
                    if (!isNaN(parseFloat(amt))) {
                        tAmt += parseFloat(amt);
                    }
                    else
                        $tr.find('input[id*=txtTotalBilled]').val(parseFloat(0).toFixed(2));
                }
            });
            $('.totalTotalBilled').html(cleanUpCurrency("$" + parseFloat(tAmt).toLocaleString("en-US", { minimumFractionDigits: 2 })));
            // Calculate Sum of Retaunage Amnount
            tAmt = 0;
            $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                var $tr = $(this);
                var col = $tr.find('input[id*=txtRetainageAmount]');
                if (col.attr('id') != "" && typeof col.attr('id') != 'undefined') {
                    var amt = col.val().replace(/[\$\(\),]/g, '');
                    if (!isNaN(parseFloat(amt))) {
                        tAmt += parseFloat(amt);
                    }
                    else
                        $tr.find('input[id*=txtRetainageAmount]').val(parseFloat(0).toFixed(2));
                }
            });
            $('.totalRetainageAmount').html(cleanUpCurrency("$" + parseFloat(tAmt).toLocaleString("en-US", { minimumFractionDigits: 2 })));
        }
        function CalculateRetainageCumAmountTotal() {
            //debugger
            tAmt = 0;
            $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                var $tr = $(this);
                var col = $tr.find('input[id*=txtRetainageCumAmount]');
                if (col.attr('id') != "" && typeof col.attr('id') != 'undefined') {
                    var amt = col.val().replace(/[\$\(\),]/g, '');
                    if (!isNaN(parseFloat(amt))) {
                        tAmt += parseFloat(amt);
                    }
                    else
                        $tr.find('input[id*=txtRetainageCumAmount]').val(parseFloat(0).toFixed(2));
                }
            });
            $('.totalRetainageCumAmount').html(cleanUpCurrency("$" + parseFloat(tAmt).toLocaleString("en-US", { minimumFractionDigits: 2 })));
        }
        function validateBillingCode() {
            var flag = true;
            $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                var $tr = $(this);
                var ddlBillingCode = $tr.find('select[id*=ddlBillingCode]');
                var txtRetainageAmount = $tr.find('input[id*=txtRetainageAmount]');
                var txtCompletedThisPeriod = $tr.find('input[id*=txtCompletedThisPeriod]');
                if (txtRetainageAmount.attr('id') != "" && typeof txtRetainageAmount.attr('id') != 'undefined') {
                    var amt1 = txtRetainageAmount.val().replace(/[\$\(\),]/g, '');
                    var amt2 = txtCompletedThisPeriod.val().replace(/[\$\(\),]/g, '');
                    if (amt1 != 0 || amt2 != 0) {
                        var obj = ddlBillingCode.val();
                        if (obj == 0) {
                            flag = false;

                        }
                    }
                }
            });
            if (flag == false) {
                noty({
                    text: 'This project is missing codes under the Billing tab in the project screen',
                    type: 'warning',
                    layout: 'topCenter',
                    closeOnSelfClick: false,
                    timeout: false,
                    theme: 'noty_theme_default',
                    closable: true
                });
            } else {
                //Validate %Comp
                var flag = true;
                $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                    var $tr = $(this);
                    var txtPerComplete = $tr.find('input[id*=txtPerComplete]');
                    var txtBilled = $tr.find('input[id*=txtBilled]');
                    if (txtPerComplete.attr('id') != "" && typeof txtPerComplete.attr('id') != 'undefined') {
                        var amt1 = txtPerComplete.val().replace(/[\$\(\),]/g, '');
                        var amt2 = txtBilled.val().replace(/[\$\(\),]/g, '');

                        if (amt1 != 0 && (parseFloat(amt1) + parseFloat(amt2)) > 100) {
                            flag = false;
                        }
                    }
                });
                if (flag == false) {
                    noty({
                        text: 'Total Billed cannot be greater than Contract Amount',
                        type: 'warning',
                        layout: 'topCenter',
                        closeOnSelfClick: false,
                        timeout: false,
                        theme: 'noty_theme_default',
                        closable: true
                    });
                }
            }
            return flag;
        }
        function TotalCal() {
            DisableControls();
            CalculateContractAmountTotal();
            CalculateChangeOrderTotal();
            CalculateScheduledValuesTotal();
            CalculatePreviousBilledTotal();
            CalculatPresentlyStoredTotal();
            CalculateTotalCompletedAndStoredTotal();
            //CalculatePerCompleteTotal();
            CalculateBalanceToFinshTotal();
            CalculateRetainagePerTotal();
            CalculateRetainageAmountTotal();
            CalculateTotalBilledTotal();
            CalculatCompletedThisPeriodTotal();
            CalculateRetainageCumAmountTotal();
        }
        function HideShowOnBillingTypeChange(value) {
            if (value == "0") {
                $('#txtAmount').val("");
                $('.hideShowOnBillingType').hide();
            }
            else
                $('.hideShowOnBillingType').show();
        }
        function MoveTab() {
            $('#tbpnlDetails').css({ display: "none" });
            $('#ul_Billing li:nth-child(2) a').click();
            Materialize.updateTextFields();

        }
        function MoveToThirdTab() {

            $('#tbpnMilestone').css({ display: "block" });
            $("#ctl00_ContentPlaceHolder1_liaccrdMilestone:nth-child(1)").find('a:first').addClass("active");
            $('#tbpnlDetails').css({ display: "none" });
            $('#tbpnlProgressBilling').css({ display: "block" });
            $('#ul_Billing li:nth-child(3) a').click();


        }
        function ShowHideGenerateInvoice() {
            document.getElementById('button_template').style.display = 'Block';
            document.getElementById('button_PreviewandEmail').style.display = 'None';
            if (document.getElementById('<%=btnGenerateReport.ClientID %>') != null) {
                document.getElementById('<%=btnGenerateReport.ClientID %>').style.visibility = "visible";
            }
            if (document.getElementById('<%=btnOpenEmail.ClientID %>') != null) {
                document.getElementById('<%=btnOpenEmail.ClientID %>').style.visibility = "hidden";
            }


        }
        function ShowHidePreviewInvoice() {
            document.getElementById('button_template').style.display = 'None';
            document.getElementById('button_PreviewandEmail').style.display = 'Block';
            if (document.getElementById('<%=btnGenerateReport.ClientID %>') != null) {
                document.getElementById('<%=btnGenerateReport.ClientID %>').style.visibility = "hidden";
            }
            if (document.getElementById('<%=btnOpenEmail.ClientID %>') != null) {
                document.getElementById('<%=btnOpenEmail.ClientID %>').style.visibility = "visible";
            }

        }
        function HiddenDetailTab() {
            $('#tbpnlDetails').css({ display: "none" });
        }
        function ShowProgressBilling() {

            $('#tbpnlDetails').css({ display: "none" });
            $('#ul_Billing li:nth-child(3) a').click();
        }
        function dtaa() {
            this.InvoiceID = null;
        }
        function ValidateStatusUpdate() {

        }
        function ConfirmStatusUpdate(opt) {
            var checkedCheckboxes = $("#<%=gvProgressBilling.ClientID%> input[id*='chkSelect']:checkbox");
            if (checkedCheckboxes.length > 0) {
                var i = checkedCheckboxes.length - 1;
                var id = checkedCheckboxes[i].id;
                var periodDate = new Date(document.getElementById(id.replace('chkSelect', 'hdGRPeriodDate')).value);
                var invoiceDate = new Date(document.getElementById(id.replace('chkSelect', 'hdGRBillingDate')).value);

                var periodStartDate = new Date($('#<%=hdnPeriodStartDate.ClientID%>').val());
                var periodEndDate = new Date($('#<%=hdnPeriodEndDate.ClientID%>').val());
                if (periodStartDate <= periodDate && periodDate <= periodEndDate) {
                    if (invoiceDate < periodDate) {
                        var periodConfirm = confirm('The Invoice date is less than the period date. Are you sure you want to proceed?');
                        if (periodConfirm == true) {
                            if (confirm('Are you sure you want to update status ?')) {
                                $(opt).attr('oldIndex', opt.selectedIndex);
                                document.getElementById("<%=lnkUpdateStatus.ClientID %>").click();
                            }
                            else {
                                opt.value = $(opt).attr('oldIndex');

                                document.getElementById("<%=lnkCancelUpdateStatus.ClientID %>").click();
                            }
                        }
                        else {
                            return false;
                        }
                    }
                    else {
                        if (confirm('Are you sure you want to update status ?')) {
                            $(opt).attr('oldIndex', opt.selectedIndex);
                            document.getElementById("<%=lnkUpdateStatus.ClientID %>").click();
                        }
                        else {
                            opt.value = $(opt).attr('oldIndex');

                            document.getElementById("<%=lnkCancelUpdateStatus.ClientID %>").click();
                        }
                    }
                }
                else {
                    noty({
                        text: 'The invoice cannot be created for a closed period. Please revise the invoice date before proceeding.',
                        type: 'warning',
                        layout: 'topCenter',
                        closeOnSelfClick: false,
                        timeout: 4000,
                        theme: 'noty_theme_default',
                        closable: true
                    });
                    return false;
                }
            }
        }
        function ConfirmDelete(status) {
            if (status == 0) {
                if (confirm('Are you sure you want to delete record?')) {
                    document.getElementById('<%= lnkDeleteWIP.ClientID%>').click();
                }
                else {
                    return false;
                }
            } else {
                noty({
                    text: 'This invoice is paid and cannot be deleted.', type: 'warning', layout: 'topCenter',
                    closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true
                });
                return false;
            }

        }
        ////////////////// Confirm Document Upload ////////////////////
        function ConfirmUpload(value) {
            var filename;
            var fullPath = value;
            if (fullPath) {
                var startIndex = (fullPath.indexOf('\\') >= 0 ? fullPath.lastIndexOf('\\') : fullPath.lastIndexOf('/'));
                filename = fullPath.substring(startIndex);
                if (filename.indexOf('\\') === 0 || filename.indexOf('/') === 0) {
                    filename = filename.substring(1);
                }
            }
            window.onbeforeunload = null;
            if (confirm('Upload ' + filename + '?')) { document.getElementById('<%= lnkUploadDoc.ClientID %>').click(); }
            else { document.getElementById('<%= lnkPostback.ClientID %>').click(); }
        }
        ///-Document permission
        function AddPOClick(hyperlink) {
            var IsAdd = document.getElementById('<%= hdnAddeDocument.ClientID%>').value;
            if (IsAdd == "Y") {
                ConfirmUpload(hyperlink.value);
            } else {
                noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
            }
        }
        $(document).ready(function () {
            InitializeGrids('<%=gvBOM.ClientID%>');
        });
        function isNumberKey(evt, txt) {
            var charCode = (evt.which) ? evt.which : event.keyCode
            if (charCode > 31 && (charCode < 48 || charCode > 57))
                return false;
            return true;
        }
        (function ($) {
            $.extend({
                toDictionary: function (query) {
                    var parms = {};
                    var items = query.split("&");
                    for (var i = 0; i < items.length; i++) {
                        var values = items[i].split("=");
                        var key1 = decodeURIComponent(values.shift().replace(/\+/g, '%20'));
                        var key = key1.split('$')[key1.split('$').length - 1];
                        var value = values.join("=")
                        parms[key] = decodeURIComponent(value.replace(/\+/g, '%20'));
                    }
                    return (parms);
                }
            })
        })(jQuery);
        (function ($) {
            $.fn.serializeFormJSON = function () {
                var o = [];
                $(this).find('tbody tr').each(function () {
                    var elements = $(this).find('input, textarea, select')
                    if (elements.size() > 0) {
                        var serialized = $(this).find('input, textarea, select').serialize();
                        var item = $.toDictionary(serialized);
                        o.push(item);
                    }
                });
                return o;
            };
        })(jQuery);
        (function ($) {
            $.fn.serializeCustomJSON = function () {
                var o = [];
                $(".custom").each(function () {
                    //debugger
                    if ($(this).length) {
                        var serialized = $(this).serialize();
                        if (serialized == '') {
                            serialized = $(this).find('input, textarea, select').serialize();
                        }
                        var item = $.toDictionary(serialized);
                        o.push(item);
                    }
                });
                return o;
            };
        })(jQuery);
        function InitializeGrids(Gridview) {
            //debugger
            var custom = $(".custom");
            $("input", custom).each(function () {
                $(this).blur();
            });
            $("#" + Gridview).on('click', 'a.addButton', function () {
                var $tr = $(this).closest('table').find('tr').eq(1);
                var $clone = $tr.clone();
                $clone.find('input:text').val('');
                $clone.insertAfter($tr.closest('table').find('tr').eq($tr.closest('table').find('tr').length - 2));
            });
            var rowone = $("#" + Gridview).find('tr').eq(1);
            $("input", rowone).each(function () {
                $(this).blur();
            });
        }
        function DelRow(Gridview) {

            //debugger
            if ($("#" + Gridview).find('input[type="checkbox"]:checked').length == 0) {
                alert('Please select items to delete.');
                return;
            }

            var con = confirm('Are you sure you want to delete the items?');
            if (con == true) {
                $("#" + Gridview).find('tr').each(function () {
                    var $tr = $(this);
                    $tr.find('input[type="checkbox"]:checked').each(function () {
                        if ($("#" + Gridview).find('tr').length > 3) {
                            $(this).closest('tr').remove();
                        }
                        else {
                            $(this).closest('tr').find('input:text').val('');
                        }
                    });
                });


            }
        }


        function removeLine(Gridview) {
            $("#" + Gridview).find('tr').each(function () {
                var $tr = $(this);
                $tr.find('input[type="checkbox"]:checked').each(function () {
                    if ($("#" + Gridview).find('tr').length > 3) {
                        $(this).closest('tr').remove();
                    }
                    else {
                        $(this).closest('tr').find('input:text').val('');
                    }
                });
            });
        }
        function NumericValid(e) {
            if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 110, 190]) !== -1 ||
                // Allow: Ctrl+A
                (e.keyCode == 65 && e.ctrlKey === true) ||
                // Allow: home, end, left, right
                (e.keyCode >= 35 && e.keyCode <= 39)) {
                // let it happen, don't do anything
                return;
            }
            // Ensure that it is a number and stop the keypress
            if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
                e.preventDefault();
            }
        }
        function itemJSON() {
              // debugger
               <%-- var rawData = $('#<%=gvBOM.ClientID%>').serializeFormJSON();
                var formData = JSON.stringify(rawData);--%>
               <%-- $('#<%=hdnItemJSON.ClientID%>').val(formData);--%>
            var rawDataTeam = $('#<%=gvTeamItems.ClientID%>').serializeFormJSON();
            var formDataTeam = JSON.stringify(rawDataTeam);
            $('#<%=hdnItemTeamJSON.ClientID%>').val(formDataTeam);
            var rawMileData = $('#<%=gvMilestones.ClientID%>').serializeFormJSON();
            var formMileData = JSON.stringify(rawMileData);
            $('#<%=hdnMilestone.ClientID%>').val(formMileData);
            //  debugger
            //var rawCustomData = $(".custom").serializeCustomJSON();
            var rawCustomData = $('#<%=RadGrid_CustomHeader.ClientID%>').serializeFormJSON();
            var formCustomData = JSON.stringify(rawCustomData);
            $('#<%=hdnCustomJSON.ClientID%>').val(formCustomData);
        }
        function getCustomVal() {
            //debugger
            //var rawCustomData = $(".custom").serializeCustomJSON();
            var rawCustomData = $('#<%=RadGrid_CustomHeader.ClientID%>').serializeFormJSON();
            var formCustomData = JSON.stringify(rawCustomData);
            $('#<%=hdnCustomJSON.ClientID%>').val(formCustomData);
        }
        function Calculate(Gridview) {
            var tquan = 0;
            var tunit = 0;
            var ttotal = 0;
            $("#" + Gridview).find('tbody tr').each(function () {
                var $tr = $(this);
                var quan = $tr.find('input[id*=txtActual]').val();
                var unit = $tr.find('input[id*=txtBudget]').val();
                var total = 0;
                if (!isNaN(parseFloat(quan))) {
                    tquan += parseFloat(quan);
                }
                if (!isNaN(parseFloat(unit))) {
                    tunit += parseFloat(unit);
                }
                if (!isNaN(parseFloat(quan))) {
                    if (!isNaN(parseFloat(unit))) {
                        total = ((parseFloat(unit) - parseFloat(quan)) / parseFloat(quan)) * 100;
                        ttotal += parseFloat(total);
                    }
                }
                $tr.find('input[id*=txtPercent]').val(total.toFixed(2));
            });
            var $footer = $("#" + Gridview).find('tr').eq($("#" + Gridview).find('tr').length - 1)
            $footer.find('input[id*=txtTPercent]').val(ttotal.toFixed(2));
            $footer.find('input[id*=txtTActual]').val(tquan.toFixed(2));
            $footer.find('input[id*=txtTBudget]').val(tunit.toFixed(2));
        }
        function CheckAdd(Gridview) {
            var gv;
            if (Gridview.includes('gvBOM')) {
                gv = $("#<%= gvBOM.ClientID%>");
                var BOMper = document.getElementById('<%= hdnBOMPermission.ClientID%>').value;
                if (BOMper.length >= 1) {
                    var BOMvalues = BOMper.substr(0, 1);
                    var BOMEditvalues = BOMper.substr(1, 1);
                    if (BOMvalues == "N" || BOMEditvalues == "N") {
                        noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
                        return false;
                    }
                }
                itemJSON();

            }
            else {
                gv = $("#<%= gvMilestones.ClientID%>");
                var Milesper = document.getElementById('<%= hdnMilestonesPermission.ClientID%>').value;
                if (Milesper.length >= 1) {
                    var Milesvalues = Milesper.substr(0, 1);
                    var MilesEditvalues = Milesper.substr(1, 1);
                    if (Milesvalues == "N" || MilesEditvalues == "N") {
                        noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
                        return false;
                    }
                }
                itemJSON();
            }
        }

        function CheckAddBomGrid(sender, args) {
            var BOMper = document.getElementById('<%= hdnBOMPermission.ClientID%>').value;

            if (BOMper.length >= 1) {
                var BOMvalues = BOMper.substr(0, 1);
                var BOMEditvalues = BOMper.substr(1, 1);
                if (BOMvalues === "N" || BOMEditvalues === "N") {
                    noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
                    return false;
                }
            }
            itemJSON();
        }

        function CheckAddMilGrid(sender, args) {
            var Milesper = document.getElementById('<%= hdnMilestonesPermission.ClientID%>').value;
            if (Milesper.length >= 1) {
                var Milesvalues = Milesper.substr(0, 1);
                var MilesEditvalues = Milesper.substr(1, 1);
                if (Milesvalues == "N" || MilesEditvalues == "N") {
                    noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
                    return false;
                }
            }
            itemJSON();
        }
        function CheckDelete(Gridview) {
            debugger
            var isTrue = true;
            var gv;
            if (Gridview.includes('gvBOM')) {
                gv = $("#<%= gvBOM.ClientID%>");
                var BOMper = document.getElementById('<%= hdnBOMPermission.ClientID%>').value;
                if (BOMper.length >= 3) {
                    noty
                    var BOMvalues = BOMper.substr(2, 1);
                    var BOMEditvalues = BOMper.substr(1, 1);
                    if (BOMvalues == "N" || BOMEditvalues == "N") {
                        noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
                        isTrue = false;
                        return false;
                    }
                }
            }
            else {
                gv = $("#<%= gvMilestones.ClientID%>");
                var Milesper = document.getElementById('<%= hdnMilestonesPermission.ClientID%>').value;
                if (Milesper.length >= 3) {
                    var Milesvalues = Milesper.substr(2, 1);
                    var mileEditvalues = Milesper.substr(1, 1);
                    if (Milesvalues == "N" || mileEditvalues == "N") {
                        noty({ text: 'You do not have permission!', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
                        isTrue = false;
                        return false;
                    }
                }
            }
            if (isTrue) {
                var len = gv.find('tr').find('input[type="checkbox"]:checked').length;
                if (gv.find('input[type="checkbox"]:checked').length == 0) {
                    noty({
                        text: 'Please select items to delete.',
                        dismissQueue: true,
                        type: 'warning',
                        layout: 'topCenter',
                        closeOnSelfClick: true,
                        timeout: 5000,
                        theme: 'noty_theme_default',
                        closable: false
                    });
                    return false;
                }
                else if (gv.find('input[type="checkbox"]:checked').length > 0) {
                    if (Gridview.includes('gvBOM')) {
                        var gvBomDataRow = $("[id$='gvBOM_GridData'] tbody tr");


                        var r = confirm('Do you really want to delete this job item ?');
                        if (r === true) {

                            return true;
                        }
                        else {
                            return false;
                        }
                    }
                    else if (Gridview.includes('gvMilestones')) {
                        var gvMileStoneDataRow = $("[id$='gvMilestones_GridData'] tbody tr");

                        //Check item already used
                        var allowRemove = false;
                        gvMileStoneDataRow.each(function () {
                            var checkbox = $(this).find("[id$='chkSelect']");
                            var isused = $(this).find("[id$='hdnIsUsed']");
                            if (checkbox.is(":checked") === true) {
                                //debugger
                                //if (isused.val() != "0") {
                                //    allowRemove = true
                                //}
                            }
                        });
                        if (allowRemove == true) {
                            noty({
                                text: 'Selected job item is in use, it cannot be deleted!',
                                dismissQueue: true,
                                type: 'warning',
                                layout: 'topCenter',
                                closeOnSelfClick: true,
                                timeout: 5000,
                                theme: 'noty_theme_default',
                                closable: false
                            });
                            return false;
                        } else {
                            var checkConfirmMile = confirm('Do you really want to delete this item ?');
                            if (checkConfirmMile === true) {
                                gvMileStoneDataRow.each(function () {
                                    var checkbox = $(this).find("[id$='chkSelect']");
                                    var isused = $(this).find("[id$='hdnIsUsed']");
                                    if (checkbox.is(":checked") === true) {
                                        //if (isused.val() == "0") {
                                        //    $(this).remove();
                                        //    CalculateRevTotal();
                                        //}

                                    }
                                });
                                itemJSON();
                                return true;

                            }
                            else {
                                return false;
                            }
                        }


                    }
                }
            }
        }
        function isDecimalKey(el, evt) {
            var charCode = (evt.which) ? evt.which : event.keyCode;
            if (charCode == 45) {
                return true;
            }
            var number = el.value.split('.');
            if (charCode != 46 && charCode > 31 && (charCode < 48 || charCode > 57)) {
                return false;
            }
            if (number.length > 1 && charCode == 46) {
                return false;
            }
            var caratPos = getSelectionStart(el);
            var dotPos = el.value.indexOf(".");
            if (caratPos > dotPos && dotPos > -1 && (number[1].length > 1)) {
                return false;
            }
            return true;
        }
        function getSelectionStart(o) {
            if (o.createTextRange) {
                var r = document.selection.createRange().duplicate()
                r.moveEnd('character', o.value.length)
                if (r.text == '') return o.value.length
                return o.value.lastIndexOf(r.text)
            } else return o.selectionStart
        }
        function ConvertDigit(obj) {
            if (!isNaN(parseFloat(document.getElementById(obj.id).value))) {
                document.getElementById(obj.id).value = parseFloat(document.getElementById(obj.id).value).toFixed(2);
            }
        }
        function ValidateWIP() {
            var invoiceDate = new Date($("#<%=txtBillingDate.ClientID%>").val());
            var periodDate = new Date($("#<%=txtPeriodDate.ClientID%>").val());
            var periodStartDate = new Date($('#<%=hdnPeriodStartDate.ClientID%>').val());
            var periodEndDate = new Date($('#<%=hdnPeriodEndDate.ClientID%>').val());
            if (periodStartDate <= periodDate && periodDate <= periodEndDate) {
                if (invoiceDate < periodDate) {
                    var periodConfirm = confirm('The Invoice date is less than the period date. Are you sure you want to proceed?');
                    if (periodConfirm == true) {
                        return true;
                    }
                    else {
                        return false;
                    }
                }
            }
            else {
                noty({
                    text: 'The invoice cannot be created for a closed period. Please revise the invoice date before proceeding.',
                    type: 'warning',
                    layout: 'topCenter',
                    closeOnSelfClick: false,
                    timeout: 4000,
                    theme: 'noty_theme_default',
                    closable: true
                });
                return false;
            }
        }

        function ConfirmGCAdd() {
            var value = $("#<%=hdnprojectID.ClientID%>").val();
            if (value != "0") {
                var validationBillingCode = ValidateInActiveBillingCode();
                if (validationBillingCode == false) {
                    return false;
                }
            }

            var validation = ValidBomMileStone();
            if (validation == false) {
                return false;
            }
            var ret = true;
            var hdnGCNameupdate = $('#<%= hdnGCNameupdate.ClientID%>');
            var txtName = $('#<%= txtName.ClientID%>');
            if (hdnGCNameupdate.val().trim() == '1') {
                ret = confirm(txtName.val() + ' will be created as a new General Contractor. Do you want to continue?');
            }
            if (ret) {
                //Confirm for Home owner
                var hdnHONameupdate = $('#<%= hdnHONameupdate.ClientID%>');
                var hotxtname = $('#<%= hotxtname.ClientID%>');
                if (hdnHONameupdate.val().trim() == '1') {
                    ret = confirm(hotxtname.val() + ' will be created as a new Homeowner. Do you want to continue?');
                }
            }

            var LaborWageRequired = document.getElementById('<%= txtPrevilWage.ClientID%>').value;

            if (LaborWageRequired == '') {
                noty({ text: 'Labor Wage Required for Job Costing', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });

                $("#ctl00_ContentPlaceHolder1_liaccrdFinance a").trigger("click");

                return false;
            }


            var ExpenseGL = document.getElementById('ctl00_ContentPlaceHolder1_uc_InvExpGL_txtGLAcct').value;

            if (ExpenseGL == '') {
                noty({ text: 'Expense GL Required', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });

                $("#ctl00_ContentPlaceHolder1_liaccrdFinance a").trigger("click");

                return false;
            }

            var InterestGL = document.getElementById('ctl00_ContentPlaceHolder1_uc_InterestGL_txtGLAcct').value;

            if (InterestGL == '') {
                noty({ text: 'Interest GL Required', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });

                $("#ctl00_ContentPlaceHolder1_liaccrdFinance a").trigger("click");

                return false;
            }


            var ddlSCTYE = $("[id*=ddlContractType1]");

            //var selectedText = ddlSCTYE.find("option:selected").text();

            var selectedValue = ddlSCTYE.val();

            //alert(selectedValue);

            if (selectedValue == '0') {
                noty({ text: 'Service Type Required', type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
                return false;
            }
            return ret;
        }
        function billing() {
            this.prefixText = null;
            this.con = null;
            this.custID = null;
        }
        function ValidateInActiveBillingCode() {
            var validation = true;
            var dtaaa = new billing();
            dtaaa.prefixText = $("#<%=txtInvService.ClientID%>").val();
            $.ajax({
                type: "POST",
                contentType: "application/json; charset=utf-8",
                url: "AccountAutoFill.asmx/GetInvService",
                data: JSON.stringify(dtaaa),
                dataType: "json",
                async: false,
                success: function (data) {
                    var _resp = $.parseJSON(data.d);
                    if (_resp.length == 1 && _resp[0].label === "No Record Found!") {
                        noty({
                            text: 'The Billing code is inactive. Please revise the Billing code before proceeding.',
                            type: 'warning',
                            layout: 'topCenter',
                            closeOnSelfClick: false,
                            timeout: 4000,
                            theme: 'noty_theme_default',
                            closable: false,
                            dismissQueue: true
                        });
                        validation = false;
                    }
                    else {
                        var ret = false;
                        for (var i = 0; i < _resp.length; i++) {
                            var projectBillingCodeID = $("#<%=hdnInvServiceID.ClientID%>").val();
                            if (_resp[i].ID == projectBillingCodeID) {
                                ret = true;
                                break;
                            }
                        }
                        if (ret == false) {
                            noty({
                                text: 'The Billing code is inactive. Please revise the Billing code before proceeding.',
                                type: 'warning',
                                layout: 'topCenter',
                                closeOnSelfClick: false,
                                timeout: 4000,
                                theme: 'noty_theme_default',
                                closable: false,
                                dismissQueue: true
                            });
                            validation = false;
                        }
                    }
                },
                error: function (result) {
                    alert("Due to unexpected errors we were unable to load services");
                }
            });
            return validation;
        }
        function CheckHold(clickedid) {
            var msg = "";
            if (clickedid.firstChild.checked == false)
                msg = "Are you sure you want to change ticket status?";
            else
                msg = "Are you sure you want to keep the ticket on hold?";
            var box = confirm(msg);
            if (box == true) {
                return true;
            }
            else {
                if (clickedid.firstChild.checked == true)
                    clickedid.firstChild.checked = false;
                else
                    clickedid.firstChild.checked = true;
                return false;
            }
        }
        function WorkersMenu(box) {
            box.blur();
            $("#divCat").css("width", $(box).outerWidth() + "px");
            $("#divCat").toggle();
            $("#divCatSearch").css("width", $(box).outerWidth() + "px");
            $("#divCatSearch").toggle();
            return false;
        }

        function SelectCodeByCategory(categorylist) {
            var category = $(categorylist).val();
            $('#tblCodesList > tbody  > tr').not(':first').each(function () {
                var cat = $(this).find('input[type="hidden"]').val();
                if (cat.toLocaleLowerCase() != category.toLocaleLowerCase() && category != 'ALL')
                    $(this).hide();
                else
                    $(this).show();
            });
        }
        function checkedHidden(checkbox) {
            $(checkbox).closest('tr').find($("input[id*='hdnChecked']")).val("1");
        }
        function DeleteAlert() {
            var gvOpenCalls = document.getElementById('<%= gvTickets.ClientID %>');
            var result = false;
            var ids = "";
            var count = 0;
            $('input:checkbox[id$=chkSelect]:checked', gvOpenCalls).each(function (index, item) {
                var id = $(this).parent().parent().find('span[id$=lblTicketId]');
                ids += '# ' + id.text() + ',';
                count++;
            });
            if (ids.length > 0) {
                ids = ids.substring(0, ids.length - 1);
                if (count > 1) {
                    result = confirm('Are you sure you want to delete tickets ' + ids + ' ?');
                }
                else {
                    result = confirm('Are you sure you want to delete ticket ' + ids + ' ?');
                }
            }

            return result;
        }

    </script>
    <style>
        .ui-autocomplete {
            max-height: 300px;
            overflow-y: auto; /* prevent horizontal scrollbar */
            overflow-x: hidden; /* add padding to account for vertical scrollbar */
            z-index: 1000 !important;
        }

        .chklist label {
            margin-left: 10px !important;
        }

        .chklist input {
            height: 12px !important;
        }

        .HighliteBlue {
            background-color: #316b9d !important;
        }

        .shadow {
            /* rgba(0, 0, 0, 0.3) rgb(90, 168, 208)*/
            -moz-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.3);
            -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.3);
            box-shadow: 0 1px 5px rgba(0, 0, 0, 0.3);
        }

        .shadowHover:hover {
            -moz-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.3);
            -webkit-box-shadow: 0 1px 5px rgba(0, 0, 0, 0.3);
            box-shadow: 0 1px 5px rgba(0, 0, 0, 0.3);
        }

        .hoverGrid {
            display: none;
            position: absolute;
            min-width: 300px;
            max-width: 800px;
            min-height: 20px;
            /*font-weight: bold;*/
            font-size: 14px;
            padding: 5px 5px 5px 5px;
            background: black;
            color: #FFF;
        }

        .transparent {
            zoom: 1;
            filter: alpha(opacity=70);
            opacity: 0.7;
        }

        .roundCorner {
            border: 1px solid #ccc;
            -moz-border-radius: 6px;
            -webkit-border-radius: 6px;
            border-radius: 6px;
        }

        #scrollbox3 {
            overflow: auto;
            width: 400px;
            height: 360px;
            padding: 0 5px;
            border: 1px solid #b7b7b7;
        }

        .track3 {
            width: 10px;
            background: rgba(0, 0, 0, 0);
            margin-right: 2px;
            border-radius: 10px;
            -webkit-transition: background 250ms linear;
            transition: background 250ms linear;
        }

            .track3:hover,
            .track3.dragging {
                background: #d9d9d9; /* Browsers without rgba support */
                background: rgba(0, 0, 0, 0.15);
            }

        .handle3 {
            width: 7px;
            right: 0;
            background: #999;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 7px;
            -webkit-transition: width 250ms;
            transition: width 250ms;
        }

        .track3:hover .handle3,
        .track3.dragging .handle3 {
            width: 10px;
        }

        .thumbnail {
            margin-bottom: 0;
            padding: 0;
        }

        .thumb {
            margin: 0;
            padding: 5px 5px 0;
        }

        .navbar {
            margin-bottom: 5px;
            border-radius: 0;
        }

        .navbar-inverse {
            /*background-color: #414040;*/
            background-color: #316b9d;
            border: none !important;
        }

        .pager {
            margin: 5px 0;
        }

            .pager a {
                background-color: #fff;
                border: 1px solid #ddd;
                border-radius: 15px;
                display: inline-block;
                padding: 5px 14px;
            }

            .pager span {
                padding: 5px;
            }

            .pager .title {
                text-align: center;
                font-weight: bold;
                color: #fff;
                line-height: 32px;
            }

        .gallery span {
            display: inline-block;
            text-align: center;
            width: 100%;
            word-wrap: break-word;
        }

        .img-responsive {
            max-height: 100px;
            /*width: 50px;*/
            border-width: 0px;
            margin: 0 auto;
            text-align: left;
        }

        .pull-leftslider {
            float: left !important;
            /*width: 50%;*/
            cursor: pointer;
        }

        .dropdown-menu table {
            height: 50px;
            width: 50px;
        }
    </style>
    <script type="text/javascript">
        $(document).ready(function () {

            $('a[href^="#accrd"]').on('click', function (e) {
                e.preventDefault();
                var target = this.hash;
                var $target = $(target);
                if ($(target).hasClass('active') || target == "") {
                }
                else {
                    $(target).click();
                }
                $('html, body').stop().animate({
                    'scrollTop': $target.offset().top - 125
                }, 900, 'swing');
            });
            //Dropify Basic
            $('.dropify').dropify();
            // Used events
            var drEvent = $('.dropify-event').dropify();
            drEvent.on('dropify.beforeClear', function (event, element) {
                return confirm("Do you really want to delete \"" + element.filename + "\" ?");
            });
            drEvent.on('dropify.afterClear', function (event, element) {
                alert('File deleted');
            });
            var picker = new Pikaday(
                {
                    field: document.getElementById('datepicker'),
                    firstDay: 0,
                    format: 'MM/DD/YYYY',
                    minDate: new Date(2000, 1, 1),
                    maxDate: new Date(2020, 12, 31),
                    yearRange: [2000, 2020]
                });
            var picker = new Pikaday(
                {
                    field: document.getElementById('datepicker2'),
                    firstDay: 0,
                    format: 'MM/DD/YYYY',
                    minDate: new Date(2000, 1, 1),
                    maxDate: new Date(2020, 12, 31),
                    yearRange: [2000, 2020]
                });
            $(window).scroll(function () {
                if ($(window).scrollTop() >= 0) {
                    $('#divButtons').addClass('fixed-header');
                }
                if ($(window).scrollTop() <= 0) {
                    $('#divButtons').removeClass('fixed-header');
                }
            });
            debugger
            $("#<%=ddlJobStatus.ClientID%>").change(function () {
                var ddlval = $('option:selected', $(this)).text();
                var JobClosePermission = document.getElementById('<%= hdnClosePermission.ClientID%>').value;
                var CompletedJObPermission = document.getElementById('<%= hdnCompletedJObPermission.ClientID%>').value;
                var JobReopenPermission = document.getElementById('<%= hdnJobReopenPermission.ClientID%>').value;
                var _hdnddlJobStatus = document.getElementById('<%= hdnddlJobStatus.ClientID%>').value;

                if (JobClosePermission == 'N') {
                    if (ddlval == 'Closed' && _hdnddlJobStatus != '1') {
                        noty({
                            text: 'You do not have permission to close project!', type: 'warning', layout: 'topCenter',
                            closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true
                        });
                        $("#<%=ddlJobStatus.ClientID%>").val(_hdnddlJobStatus);
                        return;
                    }
                }
                else {
                    if (ddlval == 'Closed') {
                        OpenRadWindowCloseDate();
                    }
                }

                if (JobReopenPermission == 'N') {
                    if (ddlval != 'Closed' && _hdnddlJobStatus == '1') {
                        noty({
                            text: 'You do not have permission to reopen project!', type: 'warning', layout: 'topCenter',
                            closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true
                        });
                        $("#<%=ddlJobStatus.ClientID%>").val(_hdnddlJobStatus);
                        return;
                    }
                }

                if (CompletedJObPermission == 'N') {
                    if (ddlval == 'Completed' && _hdnddlJobStatus != '3') {
                        noty({
                            text: 'You do not have permission to complete project!', type: 'warning', layout: 'topCenter',
                            closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true
                        });
                        $("#<%=ddlJobStatus.ClientID%>").val(_hdnddlJobStatus);
                        return;
                    }
                }
                else {
                    if (ddlval == 'Completed') {
                        OpenRadWindowCloseDate();
                    }
                }
            });
        });
    </script>
    <script>
        $(function () {
            $("#txtSchTime").timepicker({
                explicitMode: true //Set showInputs to false
            });
        });
        $(document).ready(function () {
            WorkersMenu($('#txtWorkers'));
            $('#divEquip').slideToggle();
            if ($("[id*=hdnChkMat]").val() == '' && $("[id*=hdnChkLb]").val() == '') {
                $("[id*=chkMaterial]").prop('checked', true);
                $("[id*=hdnChkMat]").val('1')
                $("[id*=chkLabor]").prop('checked', true);
                $("[id*=hdnChkLb]").val('1')
            }
            $("[id*=chkMaterial]").click(function () {
                var isChecked = $(this).is(":checked");
                //var isCheckedLb = $("[id*=chkLabor]").is(":checked");
                if ($('#<%= ddlType.ClientID%>').length) {
                    var th_qty = $("[id*=gvBOM] th:contains('Qty Required')");
                    var th_um = $("[id*=gvBOM] th:contains('U/M')");
                    var th_bgt_unit = $("[id*=gvBOM] th:contains('Budget Unit $')");
                    var th_mat_mod = $("[id*=gvBOM] th:contains('Material Mod')");
                    var th_mat_ext = $("[id*=gvBOM] th:contains('Material Ext $')");
                    var th_ven = $("[id*=gvBOM] th:contains('Vendor')");

                    th_qty.css("display", isChecked ? "" : "none");
                    th_um.css("display", isChecked ? "" : "none");
                    th_bgt_unit.css("display", isChecked ? "" : "none");
                    th_mat_mod.css("display", isChecked ? "" : "none");
                    th_mat_ext.css("display", isChecked ? "" : "none");
                    th_ven.css("display", isChecked ? "" : "none");

                    var idx_th_qty = th_qty.index() + 1;
                    var idx_th_um = th_um.index() + 1;
                    var idx_th_bgt_unit = th_bgt_unit.index() + 1;
                    var idx_th_mat_mod = th_mat_mod.index() + 1;
                    var idx_th_mat_ext = th_mat_ext.index() + 1;
                    var idx_th_ven = th_ven.index() + 1;

                    $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_qty + ")").css("display", isChecked ? "" : "none");
                    $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_um + ")").css("display", isChecked ? "" : "none");
                    $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_bgt_unit + ")").css("display", isChecked ? "" : "none");
                    $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_mat_mod + ")").css("display", isChecked ? "" : "none");
                    $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_mat_ext + ")").css("display", isChecked ? "" : "none");
                    $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_ven + ")").css("display", isChecked ? "" : "none");
                }
                if (isChecked) {
                    $("[id*=hdnChkMat]").val('1')
                }
                else {
                    $("[id*=hdnChkMat]").val('0')
                }
            });

            $("[id*=chkLabor]").click(function () {

                if ($('#<%= ddlType.ClientID%>').length) {
                    var isChecked = $(this).is(":checked");
                    //var th_labor = $("[id*=gvBOM] th:contains('Labor')");
                    var th_lb_item = $("[id*=gvBOM] th:contains('Labor Item')");
                    var th_hour = $("[id*=gvBOM] th:contains('Hours')");
                    var th_rate = $("[id*=gvBOM] th:contains('Rate')");
                    var th_mod = $("[id*=gvBOM] th:contains('Labor Mod')");
                    var th_lb_ext = $("[id*=gvBOM] th:contains('Labor Ext $')");
                    var th_lb_dt = $("[id*=gvBOM] th:contains('Date')");
                    var th_lb_price = $("[id*=gvBOM] th:contains('Labor Price $')");
                    var th_lb_markup = $("[id*=gvBOM] th:contains('Labor Markup %')");
                    var th_lb_tax = $("[id*=gvBOM] th:contains('Labor taxable')");
                    //th_labor.css("display", isChecked ? "" : "none");
                    th_lb_item.css("display", isChecked ? "" : "none");
                    th_hour.css("display", isChecked ? "" : "none");
                    th_rate.css("display", isChecked ? "" : "none");
                    th_mod.css("display", isChecked ? "" : "none");
                    th_lb_ext.css("display", isChecked ? "" : "none");
                    th_lb_dt.css("display", isChecked ? "" : "none");
                    th_lb_price.css("display", isChecked ? "" : "none");
                    th_lb_markup.css("display", isChecked ? "" : "none");
                    th_lb_tax.css("display", isChecked ? "" : "none");

                    var idx_th_lb_item = th_lb_item.index() + 1;
                    var idx_th_hour = th_hour.index() + 1;
                    var idx_th_rate = th_rate.index() + 1;
                    var idx_th_mod = th_mod.index() + 1;
                    var idx_th_lb_ext = th_lb_ext.index() + 1;
                    var idx_th_lb_dt = th_lb_dt.index() + 1;
                    var idx_th_lb_price = th_lb_price.index() + 1;
                    var idx_th_lb_markup = th_lb_markup.index() + 1;
                    var idx_th_lb_tax = th_lb_tax.index() + 1;

                    $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_lb_item + ")").css("display", isChecked ? "" : "none");
                    $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_hour + ")").css("display", isChecked ? "" : "none");
                    $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_rate + ")").css("display", isChecked ? "" : "none");
                    $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_mod + ")").css("display", isChecked ? "" : "none");
                    $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_lb_ext + ")").css("display", isChecked ? "" : "none");
                    $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_lb_dt + ")").css("display", isChecked ? "" : "none");
                    $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_lb_price + ")").css("display", isChecked ? "" : "none");
                    $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_lb_markup + ")").css("display", isChecked ? "" : "none");
                    $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_lb_tax + ")").css("display", isChecked ? "" : "none");
                }
                if (isChecked) {
                    $("[id*=hdnChkLb]").val('1')
                }
                else {
                    $("[id*=hdnChkLb]").val('0')
                }
            });
        });
        function funMaterialLabor() {
            if ($('#<%= ddlType.ClientID%>').length) {
                var isChecked = $("[id*=chkMaterial]").is(":checked");
                var isCheckedLb = $("[id*=chkLabor]").is(":checked");
                var th_qty = $("[id*=gvBOM] th:contains('Qty Required')");
                var th_um = $("[id*=gvBOM] th:contains('U/M')");
                var th_bgt_unit = $("[id*=gvBOM] th:contains('Budget Unit $')");
                var th_mat_mod = $("[id*=gvBOM] th:contains('Material Mod')");
                var th_mat_ext = $("[id*=gvBOM] th:contains('Material Ext $')");
                var th_ven = $("[id*=gvBOM] th:contains('Vendor')");
                th_qty.css("display", isChecked ? "" : "none");
                th_um.css("display", isChecked ? "" : "none");
                th_bgt_unit.css("display", isChecked ? "" : "none");
                th_mat_mod.css("display", isChecked ? "" : "none");
                th_mat_ext.css("display", isChecked ? "" : "none");
                th_ven.css("display", isChecked ? "" : "none");
                var th_lb_item = $("[id*=gvBOM] th:contains('Labor Item')");
                var th_hour = $("[id*=gvBOM] th:contains('Hours')");
                var th_rate = $("[id*=gvBOM] th:contains('Rate')");
                var th_mod = $("[id*=gvBOM] th:contains('Labor Mod')");
                var th_lb_ext = $("[id*=gvBOM] th:contains('Labor Ext $')");
                var th_lb_dt = $("[id*=gvBOM] th:contains('Date')");
                var th_lb_price = $("[id*=gvBOM] th:contains('Labor Price $')");
                var th_lb_markup = $("[id*=gvBOM] th:contains('Labor Markup %')");
                var th_lb_tax = $("[id*=gvBOM] th:contains('Labor taxable')");
                th_lb_item.css("display", isCheckedLb ? "" : "none");
                th_hour.css("display", isCheckedLb ? "" : "none");
                th_rate.css("display", isCheckedLb ? "" : "none");
                th_mod.css("display", isCheckedLb ? "" : "none");
                th_lb_ext.css("display", isCheckedLb ? "" : "none");
                th_lb_dt.css("display", isCheckedLb ? "" : "none");
                th_lb_price.css("display", isCheckedLb ? "" : "none");
                th_lb_markup.css("display", isCheckedLb ? "" : "none");
                th_lb_tax.css("display", isCheckedLb ? "" : "none");

                var idx_th_qty = th_qty.index() + 1;
                var idx_th_um = th_um.index() + 1;
                var idx_th_bgt_unit = th_bgt_unit.index() + 1;
                var idx_th_mat_mod = th_mat_mod.index() + 1;
                var idx_th_mat_ext = th_mat_ext.index() + 1;
                var idx_th_ven = th_ven.index() + 1;
                var idx_th_lb_item = th_lb_item.index() + 1;
                var idx_th_hour = th_hour.index() + 1;
                var idx_th_rate = th_rate.index() + 1;
                var idx_th_mod = th_mod.index() + 1;
                var idx_th_lb_ext = th_lb_ext.index() + 1;
                var idx_th_lb_dt = th_lb_dt.index() + 1;
                var idx_th_lb_price = th_lb_price.index() + 1;
                var idx_th_lb_markup = th_lb_markup.index() + 1;
                var idx_th_lb_tax = th_lb_tax.index() + 1;

                $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_qty + ")").css("display", isChecked ? "" : "none");
                $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_um + ")").css("display", isChecked ? "" : "none");
                $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_bgt_unit + ")").css("display", isChecked ? "" : "none");
                $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_mat_mod + ")").css("display", isChecked ? "" : "none");
                $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_mat_ext + ")").css("display", isChecked ? "" : "none");
                $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_ven + ")").css("display", isChecked ? "" : "none");
                $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_lb_item + ")").css("display", isCheckedLb ? "" : "none");
                $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_hour + ")").css("display", isCheckedLb ? "" : "none");
                $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_rate + ")").css("display", isCheckedLb ? "" : "none");
                $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_mod + ")").css("display", isCheckedLb ? "" : "none");
                $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_lb_ext + ")").css("display", isCheckedLb ? "" : "none");
                $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_lb_dt + ")").css("display", isCheckedLb ? "" : "none");
                $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_lb_price + ")").css("display", isCheckedLb ? "" : "none");
                $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_lb_markup + ")").css("display", isCheckedLb ? "" : "none");
                $("[id*=gvBOM]").find("table td:nth-child(" + idx_th_lb_tax + ")").css("display", isCheckedLb ? "" : "none");
            }
            if (isChecked) {
                $("[id*=hdnChkMat]").val('1')
            }
            else {
                $("[id*=hdnChkMat]").val('0')
            }
            if (isCheckedLb) {
                $("[id*=hdnChkLb]").val('1')
            }
            else {
                $("[id*=hdnChkLb]").val('0')
            }
        }
        function ValidBomMileStone() {
            var validation_check = false;
            var validation_message = "";
            if ($('#<%= ddlType.ClientID%>').length) {
                $("[id$='gvBOM_GridData']").find('tbody tr').not('.rgNoRecords').each(function () {
                    var $tr = $(this);
                    var txtCode = $tr.find('input[id*=txtCode]').val();
                    var ddlBType = $tr.find("[id$='ddlBType']").val();
                    var txtMatItem = $tr.find("[id$='txtMatItem']").val();
                    var txtQtyReq = $tr.find('input[id*=txtQtyReq]').val();
                    var txtUM = $tr.find("[id$='txtUM']").val();
                    var txtBudgetUnit = $tr.find("[id$='txtBudgetUnit']").val();
                    var txtMatMod = $tr.find("[id$='txtMatMod']").val();
                    var txtScope = $tr.find('input[id*=txtScope]').val();


                    if (parseInt(ddlBType) < 1 || txtScope === "") {
                        if (parseInt(ddlBType) >= 1 || txtScope !== "" ||
                            (txtCode !== "" && txtCode !== undefined) || (txtMatItem.length !== 0 && txtMatItem !== undefined) || (txtQtyReq !== "0.00" && txtQtyReq !== undefined) ||
                            (txtUM !== "" && txtUM !== undefined) || (txtBudgetUnit !== "0.00" && txtBudgetUnit !== undefined) || (txtMatMod !== "0.00" && txtMatMod !== undefined)
                        ) {

                            if (parseInt(ddlBType) < 1) {
                                validation_check = true;
                                validation_message = "BOM type cannot be empty<br>";
                                return false;
                            }
                            if (txtScope === "" || txtScope === undefined) {
                                validation_check = true;
                                validation_message = "BOM description cannot be empty<br>";
                                return false;
                            }
                        }
                    }
                });
            }
            $("[id$='gvMilestones_GridData']").find('tbody tr').not('.rgNoRecords').each(function () {
                var $tr = $(this);
                var txtCode = $tr.find('input[id*=txtCode]').val();
                var txtAmount = $tr.find('input[id*=txtAmount]').val();
                var txtStype = $tr.find('input[id*=txtSType]').val();
                var txtMilesName = $tr.find('input[id*=txtMilesName]').val();
                var txtRequiredBy = $tr.find('input[id*=txtRequiredBy]').val();
                var txtScope = $tr.find('input[id*=txtScope]').val();
                if (txtAmount === "") { txtAmount = "0.00"; }

                if (txtAmount !== "0.00" || txtStype !== "" || txtRequiredBy !== "" || txtScope !== "" || txtMilesName !== "" || txtCode !== "") {
                    if (txtScope == "" || txtMilesName == "" || txtCode == "") {
                        validation_check = true;
                        if (txtScope === "") {
                            validation_message = validation_message + " Billing  description cannot be empty";
                        } else {
                            if (txtMilesName == "") {
                                validation_message = validation_message + "Billing name cannot be empty";
                            } else {
                                if (txtCode == "") {
                                    validation_message = validation_message + "Billing code cannot be empty";
                                }
                            }
                        }
                        return false;
                    }
                }


            });
            if (validation_check === false) {
                return true;
            }
            else {
                noty({ text: validation_message, type: 'warning', layout: 'topCenter', closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true });
                return false;
            }
        }
        $(function () {
        });
    </script>
    <script type="text/javascript">
        //Bom part
        function RowContextMenu(sender, eventArgs) {
            var menu = $find("<%=RadMenuBomGrid.ClientID %>");
            var evt = eventArgs.get_domEvent();

            //if (evt.target.tagName === "INPUT" || evt.target.tagName === "A") {
            //    return;
            //}

            var index = eventArgs.get_itemIndexHierarchical();
            $("[id$='radGridClickedRowIndex']").val(index);

            sender.get_masterTableView().selectItem(sender.get_masterTableView().get_dataItems()[index].get_element(), true);

            menu.show(evt);

            evt.cancelBubble = true;
            evt.returnValue = false;

            if (evt.stopPropagation) {
                evt.stopPropagation();
                evt.preventDefault();
            }
        }

        //Milestones part
        function RowContextMenuMilesonteGrid(sender, eventArgs) {
            var menu = $find("<%=RadMenuMilGrid.ClientID %>");
            var evt = eventArgs.get_domEvent();

            //if (evt.target.tagName === "INPUT" || evt.target.tagName === "A") {
            //    return;
            //}

            var index = eventArgs.get_itemIndexHierarchical();
            $("[id$='radMilGridClickedRowIndex']").val(index);

            sender.get_masterTableView().selectItem(sender.get_masterTableView().get_dataItems()[index].get_element(), true);

            menu.show(evt);

            evt.cancelBubble = true;
            evt.returnValue = false;

            if (evt.stopPropagation) {
                evt.stopPropagation();
                evt.preventDefault();
            }
        }

        function OnClientClick() {
            if ($('#<%= ddlType.ClientID%>').length) {
                var grid = $find("<%=gvBOM.ClientID %>");
                var masterTable = grid.get_masterTableView();
                masterTable.fireCommand("AddProject", "");
            }


        }
        //function select all checkbox
        function selectAllCheckbox(control, text) {
            var chkSelectAll = $(control);
            var grid = chkSelectAll.closest(".BomGrid");
            if (text === 'BomItem' || text === 'MilItem') {
                var chkbItem = grid.find(".chkSelect input");
                chkbItem.prop('checked', $("[id$='chkSelectAll']").is(':checked'));
            }

        }
        //====================================================================
        function BindClickEventForGridCheckBox() {
            $("#<%=RadGrid_Emails.ClientID%> input[id*='chkSelect']:checkbox").unbind('click').bind('click', function () {
                CheckUncheckAllCheckBoxAsNeeded();
            });

            $("#<%=RadGrid_Emails.ClientID%> input[id*='chkTask']:checkbox").unbind('click').bind('click', function () {
                OnCheck_TaskCheckBox('<%=RadGrid_Emails.ClientID%>');
            });

            $("#<%=RadGrid_Emails.ClientID%> input[id*='chkAll']:checkbox").unbind('click').bind('click', function () {
                if ($(this).is(':checked')) {
                    $("#<%=RadGrid_Emails.ClientID%> input[id*='chkSelect']:checkbox").prop('checked', true);
                }
                else {
                    $("#<%=RadGrid_Emails.ClientID%> input[id*='chkSelect']:checkbox").prop('checked', false);
                }
                CheckEmailsCheckBox('<%=RadGrid_Emails.ClientID%>');
            });

            UpdatedivDisplayTeamMember('<%=RadGrid_CustomAttributesGeneral.ClientID%>');
            UpdatedivDisplayTeamMember('<%=RadGrid_CustomAttriEquip.ClientID%>');
            UpdatedivDisplayTeamMember('<%=RadGrid_CustomAttributesGC.ClientID%>');
            UpdatedivDisplayTeamMember('<%=RadGrid_CustomAttrNotes.ClientID%>');
            UpdatedivDisplayTeamMember('<%=RadGrid_CustomFinanceBill.ClientID%>');
            UpdatedivDisplayTeamMember('<%=RadGrid_CustomFinanceGeneral.ClientID%>');
            UpdatedivDisplayTeamMember('<%=RadGrid_CustomFinceBudget.ClientID%>');
            UpdatedivDisplayTeamMember('<%=RadGrid_CustomHeader.ClientID%>');
            UpdatedivDisplayTeamMember('<%=RadGrid_CustomTicketList.ClientID%>');

            UpdatedivDisplayTeamMember('<%=RadGrid_CustomBOM.ClientID%>');
            UpdatedivDisplayTeamMember('<%=RadGrid_CustomHomeownerInfor.ClientID%>');
            UpdatedivDisplayTeamMember('<%=RadGrid_CustomMilestone.ClientID%>');
            UpdatedivDisplayTeamMember('<%=RadGrid_CustomTask.ClientID%>');

            var line = $("#<%= hdnLineOpenned.ClientID%>").val();
            if (line != null && line != '') {
                var hdnMembersID = $(".txtMembers_" + line).attr("id").replace("txtMembers", "hdnMembers");
                var teamMembers = $("#" + hdnMembersID).val();

                // Update selected for grid
                if (teamMembers != null && teamMembers != "") {
                    var teamArr = teamMembers.toString().split(';');
                    // trim value of teamArr
                    $.each(teamArr, function (index, value) {
                        teamArr[index] = value.trim();
                    });

                    $("#<%=RadGrid_Emails.ClientID%> input[id*='chkSelect']:checkbox").each(function (index) {
                        var userId = $(this).closest('tr').find('td:eq(0)').find('span').html();
                        var taskCheckID = this.id.replace("chkSelect", "chkTask");
                        var intUserType = userId.split('_')[0];

                        if (teamArr.indexOf(userId) >= 0) {
                            $(this).prop('checked', true);
                            if (intUserType == 0 || intUserType == 1 || intUserType == 6 || intUserType == 7) {
                                $("#" + taskCheckID).prop('disabled', false);
                            }
                            else {
                                $("#" + taskCheckID).prop('disabled', true);
                            }
                        } else {
                            $(this).prop('checked', false);
                            $("#" + taskCheckID).prop('disabled', true);
                        }
                    });
                } else {
                    $("#<%=RadGrid_Emails.ClientID%> input[id*='chkSelect']:checkbox").prop('checked', false);
                }
            }
        }

        function UpdatedivDisplayTeamMember(clientGridId) {
            var txtMembers = $("#" + clientGridId + " input[id*='txtMembers']");
            $.each(txtMembers, function (index, item) {
                var txtId = $(item).attr("id");
                var div = document.getElementById(txtId.replace("txtMembers", "cusLabelTag"));
                var hdnMembersID = txtId.replace("txtMembers", "hdnMembers");
                var hdnMembersValue = $("#" + hdnMembersID).val();
                div.innerHTML = '';
                var disTeamMembers = $(item).val();
                // Update selected for grid
                if (disTeamMembers != null && disTeamMembers != "") {
                    var teamArr = disTeamMembers.toString().split(';');
                    var teamKeyArr = hdnMembersValue.toString().split(';');
                    // trim value of teamArr
                    $.each(teamArr, function (index, value) {
                        teamArr[index] = value.trim();
                    });

                    if (teamArr != null && teamArr.length > 0) {
                        for (var i = 0; i < teamArr.length; i++) {
                            var tempTeamKeyArr = teamKeyArr[i].toString().split('_');
                            var tag = "";
                            if (teamKeyArr[i].indexOf('6') == 0) {
                                if (tempTeamKeyArr.length == 3 && tempTeamKeyArr[2] == "1")
                                    //tag = "<div class='chip chipUserRoles'><input type='checkbox' checked='checked' disabled style='margin-right: 5px;'/><label>" + teamArr[i] + "</label></div>";
                                    tag = "<div class='chip chipUserRoles'><label  class='cusCheckContainer'>" + teamArr[i] + "<input type='checkbox' checked='checked' disabled><span class='checkmark'></span></label></div>";
                                else
                                    tag = "<div class='chip chipUserRoles'><label  class='cusCheckContainer'>" + teamArr[i] + "<input type='checkbox' disabled><span class='checkmark'></span></label></div>";
                                //tag = "<div class='chip chipUserRoles'><input type='checkbox' disabled  style='margin-right: 5px;' /><label>" + teamArr[i] + "</label></div>";
                                div.innerHTML += tag;
                            } else if (teamKeyArr[i].indexOf('7') == 0) {
                                if (tempTeamKeyArr.length >= 3) {
                                    // && tempTeamKeyArr[2] == "1"
                                    var tempTitle = tempTeamKeyArr[tempTeamKeyArr.length - 2];
                                    if (tempTeamKeyArr[tempTeamKeyArr.length - 1] == "1" && tempTitle.charAt(tempTitle.length - 1) == "|") {
                                        tag = "<div class='chip chipUserRoles'><label  class='cusCheckContainer'>" + teamArr[i] + "<input type='checkbox' checked='checked' disabled><span class='checkmark'></span></label></div>";
                                        //tag = "<div class='chip chipUserRoles'><input type='checkbox' checked='checked' disabled style='margin-right: 5px;'/><label>" + teamArr[i] + "</label></div>";
                                    } else {
                                        tag = "<div class='chip chipUserRoles'><label  class='cusCheckContainer'>" + teamArr[i] + "<input type='checkbox' disabled><span class='checkmark'></span></label></div>";
                                        //tag = "<div class='chip chipUserRoles'><input type='checkbox' disabled  style='margin-right: 5px;' /><label>" + teamArr[i] + "</label></div>";
                                    }
                                }
                                else
                                    tag = "<div class='chip chipUserRoles'><label  class='cusCheckContainer'>" + teamArr[i] + "<input type='checkbox' disabled><span class='checkmark'></span></label></div>";
                                //tag = "<div class='chip chipUserRoles'><input type='checkbox' disabled  style='margin-right: 5px;' /><label>" + teamArr[i] + "</label></div>";
                                div.innerHTML += tag;
                            } else {
                                if (tempTeamKeyArr.length == 3 && (tempTeamKeyArr[0] == "0" || tempTeamKeyArr[0] == "1") && tempTeamKeyArr[2] == "1")
                                    tag = "<div class='chip chipUsers'><label  class='cusCheckContainer'>" + teamArr[i] + "<input type='checkbox' checked='checked' disabled><span class='checkmark'></span></label></div>";
                                //tag = "<div class='chip chipUsers' ><input type='checkbox' checked='checked' disabled  style='margin-right: 5px;'/><label>" + teamArr[i] + "</label></div>";
                                else
                                    tag = "<div class='chip chipUsers'><label  class='cusCheckContainer'>" + teamArr[i] + "<input type='checkbox' disabled><span class='checkmark'></span></label></div>";
                                //tag = "<div class='chip chipUsers' ><input type='checkbox' disabled  style='margin-right: 5px;'/><label>" + teamArr[i] + "</label></div>";
                                div.innerHTML += tag;
                            }
                        }
                    }
                }
            });
        }

        function CloseTeamMemberWindow() {
            var line = $("#<%= hdnLineOpenned.ClientID%>").val();
            if (line != null && line != '') {
                var hdnMembersValue = $("#<%= hdnOrgMemberKey.ClientID%>").val();
                var txtMembersValue = $("#<%= hdnOrgMemberDisp.ClientID%>").val();

                var txtMembersID = $(".txtMembers_" + line).attr("id");
                $("#" + txtMembersID).val(txtMembersValue);
                var hdnMembersID = txtMembersID.replace("txtMembers", "hdnMembers");
                $("#" + hdnMembersID).val(hdnMembersValue);

                var div = document.getElementById(txtMembersID.replace("txtMembers", "cusLabelTag"));
                div.innerHTML = '';
                var disTeamMembers = txtMembersValue;
                // Update selected for grid
                if (disTeamMembers != null && disTeamMembers != "") {
                    var teamArr = disTeamMembers.toString().split(';');
                    var teamKeyArr = hdnMembersValue.toString().split(';');
                    // trim value of teamArr
                    $.each(teamArr, function (index, value) {
                        teamArr[index] = value.trim();
                    });

                    if (teamArr != null && teamArr.length > 0)
                        for (var i = 0; i < teamArr.length; i++) {
                            var tempTeamKeyArr = teamKeyArr[i].toString().split('_');
                            var tag = "";
                            if (teamKeyArr[i].indexOf('6') == 0) {
                                if (tempTeamKeyArr.length == 3 && tempTeamKeyArr[2] == "1")
                                    tag = "<div class='chip chipUserRoles'><label  class='cusCheckContainer'>" + teamArr[i] + "<input type='checkbox' checked='checked' disabled><span class='checkmark'></span></label></div>";
                                //tag = "<div class='chip chipUserRoles'><input type='checkbox' checked='checked' disabled style='margin-right: 5px;'/><label>" + teamArr[i] + "</label></div>";
                                else
                                    tag = "<div class='chip chipUserRoles'><label  class='cusCheckContainer'>" + teamArr[i] + "<input type='checkbox' disabled><span class='checkmark'></span></label></div>";
                                //tag = "<div class='chip chipUserRoles'><input type='checkbox' disabled  style='margin-right: 5px;' /><label>" + teamArr[i] + "</label></div>";
                                div.innerHTML += tag;
                            } else if (teamKeyArr[i].indexOf('7') == 0) {
                                if (tempTeamKeyArr.length >= 3) {
                                    // && tempTeamKeyArr[2] == "1"
                                    var tempTitle = tempTeamKeyArr[tempTeamKeyArr.length - 2];
                                    if (tempTeamKeyArr[tempTeamKeyArr.length - 1] == "1" && tempTitle.charAt(tempTitle.length - 1) == "|") {
                                        tag = "<div class='chip chipUserRoles'><label  class='cusCheckContainer'>" + teamArr[i] + "<input type='checkbox' checked='checked' disabled><span class='checkmark'></span></label></div>";
                                        //tag = "<div class='chip chipUserRoles'><input type='checkbox' checked='checked' disabled style='margin-right: 5px;'/><label>" + teamArr[i] + "</label></div>";
                                    } else {
                                        tag = "<div class='chip chipUserRoles'><label  class='cusCheckContainer'>" + teamArr[i] + "<input type='checkbox' disabled><span class='checkmark'></span></label></div>";
                                        //tag = "<div class='chip chipUserRoles'><input type='checkbox' disabled  style='margin-right: 5px;' /><label>" + teamArr[i] + "</label></div>";
                                    }
                                }
                                else
                                    tag = "<div class='chip chipUserRoles'><label  class='cusCheckContainer'>" + teamArr[i] + "<input type='checkbox' disabled><span class='checkmark'></span></label></div>";
                                //tag = "<div class='chip chipUserRoles'><input type='checkbox' disabled  style='margin-right: 5px;' /><label>" + teamArr[i] + "</label></div>";
                                div.innerHTML += tag;
                            } else {
                                if (tempTeamKeyArr.length == 3 && (tempTeamKeyArr[0] == "0" || tempTeamKeyArr[0] == "1") && tempTeamKeyArr[2] == "1")
                                    tag = "<div class='chip chipUsers'><label  class='cusCheckContainer'>" + teamArr[i] + "<input type='checkbox' checked='checked' disabled><span class='checkmark'></span></label></div>";
                                //tag = "<div class='chip chipUsers' ><input type='checkbox' checked='checked' disabled  style='margin-right: 5px;'/><label>" + teamArr[i] + "</label></div>";
                                else
                                    tag = "<div class='chip chipUsers'><label  class='cusCheckContainer'>" + teamArr[i] + "<input type='checkbox' disabled><span class='checkmark'></span></label></div>";
                                //tag = "<div class='chip chipUsers' ><input type='checkbox' disabled  style='margin-right: 5px;'/><label>" + teamArr[i] + "</label></div>";
                                div.innerHTML += tag;
                            }
                        }
                }
            }
            var wnd = $find('<%=TeamMembersWindow.ClientID %>');
            wnd.Close();
        }

        function ShowTeamMemberWindow(txtTeamMember) {
            var line = $(txtTeamMember).closest('tr').find('td:eq(0) > span.customline').text();
            var txtTeamMembersId = $(txtTeamMember).attr("id");
            var hdnTeamMembersId = txtTeamMembersId.replace("cusLabelTag", "hdnMembers");
            var teamMembers = $("#" + hdnTeamMembersId).val();
            var txtCustomLabelId = txtTeamMembersId.replace("cusLabelTag", "lblCustom");
            var txtCustomLabelVal = $("#" + txtCustomLabelId).text();
            var txtTeamMemberDispId = txtTeamMembersId.replace("cusLabelTag", "txtMembers");
            var txtTeamMemberDispVal = $("#" + txtTeamMemberDispId).val();

            $('#<%= hdnLineOpenned.ClientID%>').val(line);
            $('#<%= hdnOrgMemberKey.ClientID%>').val(teamMembers);
            $('#<%= hdnOrgMemberDisp.ClientID%>').val(txtTeamMemberDispVal);

            $("#<%=RadGrid_Emails.ClientID%> input[id*='chkSelect']:checkbox").unbind('click').bind('click', function () {
                CheckUncheckAllCheckBoxAsNeeded();
            });

            $("#<%=RadGrid_Emails.ClientID%> input[id*='chkTask']:checkbox").unbind('click').bind('click', function () {
                OnCheck_TaskCheckBox('<%=RadGrid_Emails.ClientID%>');
            });

            $("#<%=RadGrid_Emails.ClientID%> input[id*='chkAll']:checkbox").unbind('click').bind('click', function () {
                if ($(this).is(':checked')) {
                    $("#<%=RadGrid_Emails.ClientID%> input[id*='chkSelect']:checkbox").prop('checked', true);
                }
                else {
                    $("#<%=RadGrid_Emails.ClientID%> input[id*='chkSelect']:checkbox").prop('checked', false);
                }
                CheckEmailsCheckBox('<%=RadGrid_Emails.ClientID%>');
            });

            // Update selected for grid
            if (teamMembers != null && teamMembers != "") {
                var teamArr = teamMembers.toString().split(';');
                var teamArrWithTask = teamMembers.toString().split(';');
                // trim value of teamArr
                $.each(teamArr, function (index, value) {
                    var temp = value.trim().split('_');

                    if (temp.length == 3) {
                        temp.splice(2, 1);
                        teamArr[index] = temp.join("_");
                    } else {
                        teamArr[index] = value.trim();
                    }
                });

                $("#<%=RadGrid_Emails.ClientID%> input[id*='chkSelect']:checkbox").each(function (index) {
                    var userId = $(this).closest('tr').find('td:eq(0)').find('span').html();
                    var taskCheckID = this.id.replace("chkSelect", "chkTask");
                    var intUserType = userId.split('_')[0];

                    var idx = teamArr.indexOf(userId);
                    if (idx >= 0) {
                        $(this).prop('checked', true);
                        var memberkeywithTask = teamArrWithTask[idx].split('_');
                        if (memberkeywithTask.length == 3 && memberkeywithTask[2] == 1) {
                            $("#" + taskCheckID).prop('checked', true);
                        } else {
                            $("#" + taskCheckID).prop('checked', false);
                        }

                        if (intUserType == 0 || intUserType == 1 || intUserType == 6 || intUserType == 7) {
                            $("#" + taskCheckID).prop('disabled', false);
                        }
                        else {
                            $("#" + taskCheckID).prop('disabled', true);
                        }
                    } else {
                        $(this).prop('checked', false);
                        $("#" + taskCheckID).prop('disabled', true);
                        $("#" + taskCheckID).prop('checked', false);
                    }
                });
            } else {
                $("#<%=RadGrid_Emails.ClientID%> input[id*='chkSelect']:checkbox").prop('checked', false);
            }

            var wnd = $find('<%=TeamMembersWindow.ClientID %>');
            wnd.set_title("Team Member: " + txtCustomLabelVal);
            wnd.Show();
        }

        function CheckEmailsCheckBox(gridview) {
            var line = $("#<%= hdnLineOpenned.ClientID%>").val();
            var hdnMembersID = $(".txtMembers_" + line).attr("id").replace("txtMembers", "hdnMembers");
            var hdnMembersValue = $("#<%= hdnOrgMemberKey.ClientID%>").val();
            var txtMembersValue = $("#<%= hdnOrgMemberDisp.ClientID%>").val();

            var tempArrayKey = [];
            tempArrayKey.length = 0;
            var tempArrayDisplay = [];
            tempArrayDisplay.length = 0;

            $("#" + gridview + " input[id*='chkSelect']:checkbox").each(function (index) {
                var tempMemberKey = $(this).closest('tr').find('td:eq(0)').find('span').html().trim();
                var teamMemberDisp = $(this).closest('tr').find('td:eq(1)').find('span').html().trim();
                if (teamMemberDisp == "")
                    teamMemberDisp = $(this).closest('tr').find('td:eq(2)').find('span').html().trim();

                var intUserType = tempMemberKey.split('_')[0];

                var temp = tempMemberKey.trim().split('_');
                if (temp.length == 3) {
                    temp.splice(2, 1);
                }

                var taskCheckID = this.id.replace("chkSelect", "chkTask");
                if ($(this).is(":checked")) {
                    if (intUserType == 0 || intUserType == 1 || intUserType == 6 || intUserType == 7) {
                        $("#" + taskCheckID).prop('disabled', false);
                    }
                    else {
                        $("#" + taskCheckID).prop('disabled', true);
                    }
                    if (jQuery.inArray(tempMemberKey, tempArrayKey) < 0) {
                        if ($("#" + taskCheckID).is(":checked")) {
                            temp.push(1);
                        } else {
                            temp.push(0);
                        }
                        tempMemberKey = temp.join("_")
                        tempArrayKey.push(tempMemberKey);
                        tempArrayDisplay.push(teamMemberDisp);
                    }
                } else {
                    if (jQuery.inArray(tempMemberKey, tempArrayKey) >= 0) {
                        tempArrayKey = jQuery.grep(tempArrayKey, function (value) {
                            return value != tempMemberKey;
                        });
                        tempArrayDisplay = jQuery.grep(tempArrayDisplay, function (value) {
                            return value != teamMemberDisp;
                        });
                    }
                    $("#" + taskCheckID).prop('checked', false);
                    $("#" + taskCheckID).prop('disabled', true);
                }
            });

            $("#<%= hdnOrgMemberKey.ClientID%>").val(tempArrayKey.join(";"));
            $("#<%= hdnOrgMemberDisp.ClientID%>").val(tempArrayDisplay.join(";"));
        }

        function CheckUncheckAllCheckBoxAsNeeded() {
            var totalCheckboxes = $("#<%=RadGrid_Emails.ClientID%> input[id*='chkSelect']:checkbox").size();

            var checkedCheckboxes = $("#<%=RadGrid_Emails.ClientID%> input[id*='chkSelect']:checkbox:checked").size();

            if (totalCheckboxes == checkedCheckboxes) {

                $("#<%=RadGrid_Emails.ClientID %> input[id*='chkAll']:checkbox").prop('checked', true);//.each(function () { this.checked = true; });
            }
            else {
                $("#<%=RadGrid_Emails.ClientID %> input[id*='chkAll']:checkbox").prop('checked', false);//.attr('checked', false);
            }

            if ($('#<%=RadGrid_Emails.ClientID%>').length > 0) {
                CheckEmailsCheckBox('<%=RadGrid_Emails.ClientID%>');
            }
        }

        function OnCheck_TaskCheckBox(gridview) {
            var line = $("#<%= hdnLineOpenned.ClientID%>").val();
            var hdnMembersID = $(".txtMembers_" + line).attr("id").replace("txtMembers", "hdnMembers");
            var hdnMembersValue = $("#<%= hdnOrgMemberKey.ClientID%>").val();

            var tempArrayKey = [];
            tempArrayKey.length = 0;
            $("#" + gridview + " input[id*='chkSelect']:checkbox").each(function (index) {
                var tempMemberKey = $(this).closest('tr').find('td:eq(0)').find('span').html().trim();

                var temp = tempMemberKey.trim().split('_');
                if (temp.length == 3) {
                    temp.splice(2, 1);
                }

                var taskCheckID = this.id.replace("chkSelect", "chkTask");

                if ($(this).is(":checked")) {
                    if (jQuery.inArray(tempMemberKey, tempArrayKey) < 0) {
                        if ($("#" + taskCheckID).is(":checked")) {
                            temp.push(1);
                        } else {
                            temp.push(0);
                        }
                        tempMemberKey = temp.join("_")
                        tempArrayKey.push(tempMemberKey);
                    }
                } else {
                    if (jQuery.inArray(tempMemberKey, tempArrayKey) >= 0) {
                        tempArrayKey = jQuery.grep(tempArrayKey, function (value) {
                            return value != tempMemberKey;
                        });
                    }
                }
            });

            $("#<%= hdnOrgMemberKey.ClientID%>").val(tempArrayKey.join(";"));
        }
        //===========================================================
        function LoadLogs() {
            if (document.getElementById('<%= hdnLoadLogs.ClientID%>').value == "0") {
                document.getElementById('<%= lnkLoadLogs.ClientID%>').click();
            }
        }

        var currentLoadingPanel = null;
        var currentUpdatedControl = null;

        function requestStart_New(sender, args) {
            currentLoadingPanel = $find("<%= RadAjaxLoadingPanel_gvTickets.ClientID%>");
            if (args.get_eventTarget() == "<%= ddlComp.UniqueID %>") {
                currentUpdatedControl = "<%= gvTickets.ClientID %>";
                currentLoadingPanel.show(currentUpdatedControl);
            }
            if (args.get_eventTarget() == "<%= ddlStatus.UniqueID %>") {
                currentUpdatedControl = "<%= gvTickets.ClientID %>";
                currentLoadingPanel.show(currentUpdatedControl);
            }

            if (args.get_eventTarget() == "<%= lnkTicketpostback.UniqueID %>") {
                currentUpdatedControl = "<%= gvTickets.ClientID %>";
                currentLoadingPanel.show(currentUpdatedControl);
            }
        }

        function responseEnd_New() {
            if (currentLoadingPanel != null) {
                currentLoadingPanel.hide(currentUpdatedControl);
            }
            currentUpdatedControl = null;
            currentLoadingPanel = null;
        }


        function LoadTicket() {
            if (document.getElementById('<%= hdnloadticket.ClientID%>').value == "0") {
                document.getElementById('<%= lnkTicketpostback.ClientID%>').click();
            }
        }


        function chkChangeOrder_onchange(control) {
            var chkChangeOrder = $(control).find("input[type='checkbox']")[0];
            var value = chkChangeOrder.checked;

            var currentDate = new Date();
            var periodStartDate = new Date($('#<%=hdnPeriodStartDate.ClientID%>').val());
            var periodEndDate = new Date($('#<%=hdnPeriodEndDate.ClientID%>').val());
            if (currentDate < periodStartDate || currentDate > periodEndDate) {
                noty({
                    text: 'These month/year period is closed out. We should not be able to change the change order.',
                    type: 'warning',
                    layout: 'topCenter',
                    closeOnSelfClick: false,
                    timeout: 50000,
                    theme: 'noty_theme_default',
                    closable: true
                });

                chkChangeOrder.checked = !value;

                return false;
            }

            if (chkChangeOrder != null) {
                var hdnChangeOrderChk = chkChangeOrder.id.replace("chkChangeOrder", "hdnChangeOrderChk");
                $("#" + hdnChangeOrderChk).val($(chkChangeOrder).prop("checked"));
            }
        }
    </script>

</asp:Content>

<asp:Content ID="Content2" ContentPlaceHolderID="ContentPlaceHolder1" runat="Server">
    <script type="text/javascript">
        Sys.Application.add_init(appl_init);

        function appl_init() {
            var pgRegMgr = Sys.WebForms.PageRequestManager.getInstance();
            pgRegMgr.add_beginRequest(BlockUI);
            pgRegMgr.add_endRequest(UnblockUI);
        }

        function BlockUI(sender, args) {
            document.getElementById("overlay").style.display = "block";
        }
        function UnblockUI(sender, args) {
            document.getElementById("overlay").style.display = "none";
        }

    </script>
    <div id="overlay">
        <img src="images/wheel.GIF" alt="Be patient..." style="position: fixed; margin-top: 25%; margin-left: 50%;" />
    </div>

    <telerik:RadAjaxManager ID="RadAjaxManager1" runat="server">
        <AjaxSettings>
            <telerik:AjaxSetting AjaxControlID="btnReverse">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="RadAjaxReversePanel" LoadingPanelID="RadAjaxLoadingPanel_Reverse" />
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="lnkProgressBillingNo">
                <UpdatedControls>
                    <%--<telerik:AjaxUpdatedControl ControlID="hdnTxtBillingDate
                        "></telerik:AjaxUpdatedControl>--%>
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="lnktargeted">
                <UpdatedControls>

                    <telerik:AjaxUpdatedControl ControlID="RadAjaxPanelForRadGvlstRelatedTickets" />
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="lnktargeted1">
                <UpdatedControls>

                    <telerik:AjaxUpdatedControl ControlID="RadAjaxPanelForRadGvlstRelatedTickets" />
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="lnkSaveTicket">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="gvTickets"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="ddlComp">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="gvTickets"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="ddlStatus">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="gvTickets"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="lnkjobticketSearch">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="gvTickets" LoadingPanelID="RadAjaxLoadingPanel_gvTickets"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>


            <telerik:AjaxSetting AjaxControlID="lnkDeleteTicket">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="gvTickets" LoadingPanelID="RadAjaxLoadingPanel_gvTickets"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>

            <telerik:AjaxSetting AjaxControlID="lnkTicketpostback">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="hdnloadticket"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvTickets"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="lnkLoadAP_ARInvoices">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="hdnLoadAP_ARInvoices"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvAPInvoices"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvInvoice"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>

            <telerik:AjaxSetting AjaxControlID="lnkloadgvBudget">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="hdnLoadgvBudget"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvBudget"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>

            <telerik:AjaxSetting AjaxControlID="ddlInvoiceStatus">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="gvInvoice"></telerik:AjaxUpdatedControl>

                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="gvInvoice">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="gvInvoice"></telerik:AjaxUpdatedControl>

                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="lnkSearch">
                <UpdatedControls>

                    <telerik:AjaxUpdatedControl ControlID="gvAPInvoices"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvInvoice"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvBudget"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvTickets"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="txtfromDate"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="txtToDate"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvBOM"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="rtEquips"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvExpenses"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="RadGrid_gvLogs"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="txtfromDate"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="txtToDate"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvBudgetGrid"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="hdnLoadLogs"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="hdnloadbomtab"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="hdnLoadgvBudget"></telerik:AjaxUpdatedControl>

                    <telerik:AjaxUpdatedControl ControlID="hdnloadequipment"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="hdnloadticket"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="hdnLoadAP_ARInvoices"></telerik:AjaxUpdatedControl>




                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="lnkLoadLogs">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="hdnLoadLogs" />
                    <telerik:AjaxUpdatedControl ControlID="RadGrid_gvLogs"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="lnkSaveNote">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="RadGrid_gvLogs"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="lnkSetTH">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="gvBOM"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvBudget"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>

            <telerik:AjaxSetting AjaxControlID="lnkAddGroupName">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="RadWindowGroup"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>

            <telerik:AjaxSetting AjaxControlID="lnkPopupUpdateGroup">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="RadWindowGroup"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>

            <telerik:AjaxSetting AjaxControlID="btnGenerateInvoice">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="gvWIPs"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvProgressBilling"></telerik:AjaxUpdatedControl>
                    <%-- <telerik:AjaxUpdatedControl ControlID="btnGenerateReport"></telerik:AjaxUpdatedControl>
                     <telerik:AjaxUpdatedControl ControlID="btnOpenEmail"></telerik:AjaxUpdatedControl>--%>
                    <telerik:AjaxUpdatedControl ControlID="gvBudgetGrid"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="btnGenerate">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="gvBudgetGrid"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="gvProgressBilling">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="gvWIPs"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="btnGenerateInvoice"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="btnSave"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="hdnWIPID"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="lnkSaveGridSettings"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="lnkRestoreGridSettings"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="lnkCancelUpdateStatus">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="gvWIPs"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="btnGenerateInvoice"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="btnSave"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="hdnWIPID"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="lnkSaveGridSettings"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvBudgetGrid"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="lnkRestoreGridSettings"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>

            <telerik:AjaxSetting AjaxControlID="lnkUpdateStatus">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="gvWIPs"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="btnGenerateInvoice"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="btnSave"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="hdnWIPID"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvProgressBilling"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="lnkSaveGridSettings"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="lnkRestoreGridSettings"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvBudgetGrid"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="lnkDeleteWIP">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="gvWIPs"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="btnGenerateInvoice"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="btnSave"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="hdnWIPID"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvProgressBilling"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="lnkSaveGridSettings"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="lnkRestoreGridSettings"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvBudgetGrid"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="ddlTemplate">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="chkTargetHours"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvBOM" />
                    <%--<telerik:AjaxUpdatedControl ControlID="gvMilestones" />--%>
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="lnkSaveGridSettings">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="gvProgressBilling"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="btnGenerateInvoice"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="hdnWIPID"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvWIPs"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="lnkRestoreGridSettings">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="gvProgressBilling"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="btnGenerateInvoice"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="hdnWIPID"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvWIPs"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="btnSave">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="gvWIPs"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="btnGenerateInvoice"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="btnSave"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="hdnWIPID"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvProgressBilling"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvWIPs"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="lnkSaveGridSettings"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="lnkRestoreGridSettings"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvBudgetGrid"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="lnkBillingReverse">
                <UpdatedControls>

                    <telerik:AjaxUpdatedControl ControlID="gvProgressBilling"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvWIPs"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="gvBudgetGrid"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="lnkloadbomtab">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="ddlProjectGroup"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="RadgvEquip"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>

            <telerik:AjaxSetting AjaxControlID="ddlProjectGroup">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="RadAjaxPanelRadgvEquip"></telerik:AjaxUpdatedControl>
                    <telerik:AjaxUpdatedControl ControlID="lnkAddGroupName"></telerik:AjaxUpdatedControl>
                </UpdatedControls>
            </telerik:AjaxSetting>

            <telerik:AjaxSetting AjaxControlID="lnkPopupUpdateGroup">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="ddlProjectGroup" />
                    <telerik:AjaxUpdatedControl ControlID="lnkAddGroupName" />
                    <telerik:AjaxUpdatedControl ControlID="gvBOM" />
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="btnSaveEstimate">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="divLinks" />
                    <telerik:AjaxUpdatedControl ControlID="RadGrid_EstimateProject" />
                    <telerik:AjaxUpdatedControl ControlID="RadGrid_Estimate" />
                    <telerik:AjaxUpdatedControl ControlID="divOpp" />
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="lnkWageCategorySave">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="RadGrid_WageCategory" />
                    <telerik:AjaxUpdatedControl ControlID="RadGrid_WageCategoryList" />

                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="lnkWageDeductionListSave">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="RadGrid_WageDeduction" />
                    <telerik:AjaxUpdatedControl ControlID="RadGrid_WageDeductionList" />

                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="lnkbtnRemovededcutionCategory">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="RadGrid_WageDeduction" />
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="lnkbtnRemoveWageCategory">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="RadGrid_WageCategory" />
                </UpdatedControls>
            </telerik:AjaxSetting>

            <telerik:AjaxSetting AjaxControlID="lnkSavePlanner">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="lnkDeletePlanner" />
                    <telerik:AjaxUpdatedControl ControlID="lnkAddPlanner" />
                    <telerik:AjaxUpdatedControl ControlID="PlannerInfo" />
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="lnkDeletePlanner">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="lnkSavePlanner" />
                    <telerik:AjaxUpdatedControl ControlID="lnkAddPlanner" />
                    <telerik:AjaxUpdatedControl ControlID="PlannerInfo" />
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="lnkAddPlanner">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="lnkSavePlanner" />
                    <telerik:AjaxUpdatedControl ControlID="lnkDeletePlanner" />
                    <telerik:AjaxUpdatedControl ControlID="PlannerInfo" />
                </UpdatedControls>
            </telerik:AjaxSetting>
            <telerik:AjaxSetting AjaxControlID="lnkReloadEstimates">
                <UpdatedControls>
                    <telerik:AjaxUpdatedControl ControlID="RadGrid_Estimate" />
                </UpdatedControls>
            </telerik:AjaxSetting>

        </AjaxSettings>

        <ClientEvents OnRequestStart="requestStart_New" OnResponseEnd="responseEnd_New"></ClientEvents>
    </telerik:RadAjaxManager>

    <telerik:RadAjaxLoadingPanel ID="RadAjaxLoadingPanel_gvTickets" runat="server"></telerik:RadAjaxLoadingPanel>

    <telerik:RadWindow ID="WageCategoryListWindow" Skin="Material" VisibleTitlebar="true" Behaviors="Default" CenterIfModal="true"
        Animation="FlyIn" AnimationDuration="200" RenderMode="Auto" VisibleStatusbar="false" MinWidth="450"
        runat="server" Modal="true" Width="1000" Height="630">
        <ContentTemplate>
            <div style="margin-top: 15px;">
                <div class="form-section-row">
                    <div class="RadGrid RadGrid_Material">
                        <telerik:RadCodeBlock ID="RadCodeBlock8" runat="server">
                            <script type="text/javascript">
                                function pageLoad() {
                                    var grid = $find("<%= RadGrid_WageCategoryList.ClientID %>");
                                    var columns = grid.get_masterTableView().get_columns();
                                    for (var i = 0; i < columns.length; i++) {
                                        columns[i].resizeToFit(false, true);
                                    }
                                }
                                var requestInitiator = null;
                                var selectionStart = null;

                                function requestStart(sender, args) {
                                    requestInitiator = document.activeElement.id;
                                    if (document.activeElement.tagName == "INPUT") {
                                        selectionStart = document.activeElement.selectionStart;
                                    }
                                }

                                function responseEnd(sender, args) {
                                    var element = document.getElementById(requestInitiator);
                                    if (element && element.tagName == "INPUT") {
                                        element.focus();
                                        element.selectionStart = selectionStart;
                                    }
                                }
                            </script>
                        </telerik:RadCodeBlock>

                        <telerik:RadGrid RenderMode="Auto" ID="RadGrid_WageCategoryList" AllowFilteringByColumn="true" ShowFooter="True" PageSize="1000" FilterType="CheckList"
                            OnNeedDataSource="RadGrid_WageCategoryList_NeedDataSource"
                            OnItemCreated="RadGrid_WageCategoryList_ItemCreated" OnItemEvent="RadGrid_WageCategoryList_ItemEvent"
                            PagerStyle-AlwaysVisible="true" OnPreRender="RadGrid_WageCategoryList_PreRender"
                            ShowStatusBar="true" runat="server" AllowPaging="false" AllowSorting="true" Width="100%" Height="100%" AllowCustomPaging="false">
                            <CommandItemStyle />
                            <GroupingSettings CaseSensitive="false" />
                            <ClientSettings AllowColumnsReorder="true" ReorderColumnsOnClient="true">
                                <Selecting AllowRowSelect="True"></Selecting>
                                <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                <Resizing AllowColumnResize="true" ResizeGridOnColumnResize="true"></Resizing>
                            </ClientSettings>
                            <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="True">
                                <Columns>
                                    <telerik:GridTemplateColumn AllowFiltering="false" HeaderStyle-Width="28" ShowFilterIcon="false">
                                        <ItemTemplate>
                                            <asp:Label ID="lblIDS" runat="server" Style="display: none;"><%#Eval("id")%></asp:Label>
                                            <asp:CheckBox ID="chkSelect" runat="server" />
                                        </ItemTemplate>
                                        <HeaderTemplate>
                                            <asp:CheckBox ID="chkAll" runat="server" />
                                        </HeaderTemplate>
                                        <ItemStyle Width="0px"></ItemStyle>
                                    </telerik:GridTemplateColumn>
                                    <telerik:GridTemplateColumn UniqueName="lblWageId" FilterDelay="5" DataField="ID" HeaderText="ID" SortExpression="ID" Visible="false"
                                        CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                        <ItemTemplate>
                                            <asp:Label ID="lblID" runat="server" Text='<%# Eval("id") %>'></asp:Label>
                                        </ItemTemplate>
                                    </telerik:GridTemplateColumn>
                                    <telerik:GridTemplateColumn DataField="fdesc" HeaderText="Description" UniqueName="fdesc" SortExpression="fdesc"
                                        AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                        <ItemTemplate>
                                            <asp:HyperLink ID="lblWageFdesc" runat="server" Text='<%# Eval("fdesc") %>'></asp:HyperLink>
                                        </ItemTemplate>
                                    </telerik:GridTemplateColumn>
                                    <telerik:GridBoundColumn UniqueName="lblWageField" FilterDelay="5" DataField="Fields" HeaderText="Field" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" SortExpression="Fields"
                                        ShowFilterIcon="false">
                                    </telerik:GridBoundColumn>
                                    <telerik:GridBoundColumn UniqueName="lblWageReg" FilterDelay="5" DataField="Reg" HeaderText="Reg Rate" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" SortExpression="Reg"
                                        ShowFilterIcon="false">
                                    </telerik:GridBoundColumn>
                                    <telerik:GridBoundColumn UniqueName="lblWageOT" FilterDelay="5" DataField="OT1" HeaderText="OT Rate" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" SortExpression="OT"
                                        ShowFilterIcon="false">
                                    </telerik:GridBoundColumn>
                                    <telerik:GridBoundColumn UniqueName="lblWage17" FilterDelay="5" DataField="NT" HeaderText="1.7 Rate" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" SortExpression="NT"
                                        ShowFilterIcon="false">
                                    </telerik:GridBoundColumn>
                                    <telerik:GridBoundColumn UniqueName="lblWageDT" FilterDelay="5" DataField="OT2" HeaderText="DT Rate" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" SortExpression="DT"
                                        ShowFilterIcon="false">
                                    </telerik:GridBoundColumn>
                                    <telerik:GridBoundColumn UniqueName="lblWageStatus" FilterDelay="5" DataField="sStatus" HeaderText="Status" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" SortExpression="sStatus"
                                        ShowFilterIcon="false">
                                    </telerik:GridBoundColumn>
                                    <telerik:GridBoundColumn UniqueName="lblWageCount" FilterDelay="5" DataField="Count" HeaderText="Status" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" SortExpression="Count"
                                        ShowFilterIcon="false">
                                    </telerik:GridBoundColumn>

                                </Columns>
                            </MasterTableView>
                        </telerik:RadGrid>
                    </div>
                </div>
                <div style="clear: both;"></div>
                <footer style="float: left; padding-left: 0 !important; margin-top: 0px;">
                    <div class="btnlinks">
                        <asp:LinkButton ID="lnkWageCategorySave" runat="server" CausesValidation="false" OnClick="lnkWageCategorySave_Click" OnClientClick="CloseWageCategoryModal();">Save</asp:LinkButton>
                    </div>
                </footer>
            </div>
        </ContentTemplate>
    </telerik:RadWindow>

    <telerik:RadWindow ID="WageDeductionListWindow" Skin="Material" VisibleTitlebar="true" Behaviors="Default" CenterIfModal="true"
        Animation="FlyIn" AnimationDuration="200" RenderMode="Auto" VisibleStatusbar="false" MinWidth="450"
        runat="server" Modal="true" Width="1000" Height="630">
        <ContentTemplate>
            <div style="margin-top: 15px;">
                <div class="form-section-row">



                    <div class="RadGrid RadGrid_Material">
                        <telerik:RadCodeBlock ID="RadCodeBlock9" runat="server">
                            <script type="text/javascript">
                                function pageLoad() {
                                    var grid = $find("<%= RadGrid_WageDeductionList.ClientID %>");
                                    var columns = grid.get_masterTableView().get_columns();
                                    for (var i = 0; i < columns.length; i++) {
                                        columns[i].resizeToFit(false, true);
                                    }
                                }
                                var requestInitiator = null;
                                var selectionStart = null;

                                function requestStart(sender, args) {
                                    requestInitiator = document.activeElement.id;
                                    if (document.activeElement.tagName == "INPUT") {
                                        selectionStart = document.activeElement.selectionStart;
                                    }
                                }

                                function responseEnd(sender, args) {
                                    var element = document.getElementById(requestInitiator);
                                    if (element && element.tagName == "INPUT") {
                                        element.focus();
                                        element.selectionStart = selectionStart;
                                    }
                                }
                            </script>
                        </telerik:RadCodeBlock>
                        <%--<telerik:RadAjaxPanel ID="RadAjaxPanel_WageCategoryList" runat="server" LoadingPanelID="RadAjaxLoadingPanel_WageCategoryList" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">
                        
                        
                        --%>

                        <telerik:RadGrid RenderMode="Auto" ID="RadGrid_WageDeductionList" AllowFilteringByColumn="true" ShowFooter="True" PageSize="1000" FilterType="CheckList"
                            OnNeedDataSource="RadGrid_WageDeductionList_NeedDataSource"
                            OnItemCreated="RadGrid_WageDeductionList_ItemCreated" OnItemEvent="RadGrid_WageDeductionList_ItemEvent"
                            PagerStyle-AlwaysVisible="true" OnPreRender="RadGrid_WageDeductionList_PreRender"
                            ShowStatusBar="true" runat="server" AllowPaging="false" AllowSorting="true" Width="100%" Height="100%" AllowCustomPaging="false">
                            <CommandItemStyle />
                            <GroupingSettings CaseSensitive="false" />
                            <ClientSettings AllowColumnsReorder="true" ReorderColumnsOnClient="true">
                                <Selecting AllowRowSelect="True"></Selecting>
                                <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                <Resizing AllowColumnResize="true" ResizeGridOnColumnResize="true"></Resizing>
                            </ClientSettings>
                            <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="True">
                                <Columns>
                                    <%--<telerik:GridClientSelectColumn UniqueName="chkSelect" HeaderStyle-Width="40">
                                                                                                                </telerik:GridClientSelectColumn>--%>
                                    <telerik:GridTemplateColumn AllowFiltering="false" HeaderStyle-Width="28" ShowFilterIcon="false">
                                        <ItemTemplate>
                                            <asp:Label ID="lblIDD" runat="server" Style="display: none;"><%#Eval("id")%></asp:Label>
                                            <asp:CheckBox ID="chkSelectD" runat="server" />
                                        </ItemTemplate>
                                        <HeaderTemplate>
                                            <asp:CheckBox ID="chkAllD" runat="server" />
                                        </HeaderTemplate>
                                        <ItemStyle Width="0px"></ItemStyle>
                                    </telerik:GridTemplateColumn>
                                    <telerik:GridTemplateColumn Display="false" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                        <ItemTemplate>
                                            <asp:Label ID="lblID" runat="server" Text='<%# Eval("ID") %>'></asp:Label>
                                        </ItemTemplate>
                                    </telerik:GridTemplateColumn>
                                    <telerik:GridTemplateColumn DataField="fdesc" HeaderText="Description" UniqueName="fdesc" SortExpression="fdesc"
                                        AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                        <ItemTemplate>
                                            <asp:HyperLink ID="lbldesc" runat="server" Text='<%# Eval("fdesc") %>'></asp:HyperLink>
                                        </ItemTemplate>
                                    </telerik:GridTemplateColumn>
                                    <telerik:GridTemplateColumn DataField="TypeName" HeaderText="Type" SortExpression="TypeName" UniqueName="TypeName"
                                        AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                        <ItemTemplate>
                                            <asp:Label ID="lblType" runat="server" Text='<%# Eval("TypeName") %>'></asp:Label>
                                        </ItemTemplate>
                                    </telerik:GridTemplateColumn>
                                    <telerik:GridTemplateColumn DataField="PaidBy" HeaderText="Paid By" SortExpression="PaidBy" UniqueName="PaidBy"
                                        AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                        <ItemTemplate>
                                            <asp:Label ID="lblByW" runat="server" Text='<%# Eval("PaidBy") %>'></asp:Label>
                                        </ItemTemplate>
                                    </telerik:GridTemplateColumn>
                                    <telerik:GridTemplateColumn DataField="Count" HeaderText="Count" UniqueName="Count" SortExpression="Count"
                                        AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo" ShowFilterIcon="false">
                                        <ItemTemplate>
                                            <asp:Label ID="lblName" runat="server" Text='<%# Eval("Count") %>'></asp:Label>
                                        </ItemTemplate>
                                    </telerik:GridTemplateColumn>

                                </Columns>
                            </MasterTableView>
                        </telerik:RadGrid>


                        <%--</telerik:RadAjaxPanel>--%>
                    </div>
                </div>
                <div style="clear: both;"></div>
                <footer style="float: left; padding-left: 0 !important; margin-top: 0px;">
                    <div class="btnlinks">
                        <asp:LinkButton ID="lnkWageDeductionListSave" runat="server" CausesValidation="false" OnClick="lnkWageDeductionListSave_Click" OnClientClick="CloseWageDeductionModal();">Save</asp:LinkButton>
                    </div>
                </footer>
            </div>
        </ContentTemplate>
    </telerik:RadWindow>

    <telerik:RadWindow ID="EstimateWindow" Skin="Material" VisibleTitlebar="true" Behaviors="Default" CenterIfModal="true"
        Animation="FlyIn" AnimationDuration="200" RenderMode="Auto" VisibleStatusbar="false"
        runat="server" Modal="true" Width="1050" Height="610">
        <ContentTemplate>

            <div style="margin-top: 15px;">
                <div class="form-section-row">
                    <div class="form-section">
                        <%--<div class="input-field col s12">
                                <div class="row">
                                <div class="fc-input">
                                    <asp:Label runat="server" AssociatedControlID="txtSearchOpp" ID="lblSearchOpp">Opportunity</asp:Label>
                                    <asp:TextBox ID="txtSearchOpp" CssClass="validate oppSearch" runat="server" EnableViewState="true"
                                        placeholder="Search by ID, location name, customer name" autocomplete="off"></asp:TextBox>
                                </div>
                            </div></div>--%>
                        <div class="row" id="divOpp" runat="server">
                            <label for="txtOpportunity">Opportunity</label>
                            <asp:HiddenField ID="hdnOpportunityId" runat="server" />

                            <asp:TextBox ID="txtOpportunity" runat="server" onkeyup="SetContextKey();" onblur="RefreshOnEmpty();"
                                autocomplete="off" placeholder="Search by ID, location name, customer name"></asp:TextBox>
                            <asp:AutoCompleteExtender runat="server" Enabled="True" ServicePath="CustomerAuto.asmx" TargetControlID="txtOpportunity"
                                EnableCaching="False" ServiceMethod="GetOpportunitiesForProjectLinkingNew" UseContextKey="True" MinimumPrefixLength="0"
                                CompletionListCssClass="autocomplete_completionListElement"
                                CompletionListItemCssClass="autocomplete_listItem"
                                CompletionListHighlightedItemCssClass="autocomplete_highlightedListItem"
                                CompletionListElementID="ListOpportunity"
                                OnClientItemSelected="aceOpportunity_itemSelected"
                                ID="OpportunityAutoCompleteExtender" DelimiterCharacters="" CompletionInterval="250">
                            </asp:AutoCompleteExtender>
                            <div id="ListOpportunity"></div>
                        </div>
                        <div class="row" style="margin-bottom: 0;">
                            <div class="grid_container" id="divEstimateGrid" runat="server">
                                <div class="RadGrid RadGrid_Material RadGrid RadGrid_Popup">

                                    <telerik:RadGrid RenderMode="Auto" ID="RadGrid_Estimate" AllowFilteringByColumn="true" ShowFooter="True" PageSize="5000"
                                        ShowStatusBar="true" runat="server" AllowPaging="false" AllowSorting="true" Width="100%" Height="410px" AllowMultiRowSelection="true"
                                        PagerStyle-AlwaysVisible="true"
                                        OnNeedDataSource="RadGrid_Estimate_NeedDataSource"
                                        OnPreRender="RadGrid_Estimate_PreRender"
                                        EmptyDataText="No Estimates Found...">

                                        <CommandItemStyle />
                                        <GroupingSettings CaseSensitive="false" />
                                        <ClientSettings AllowColumnsReorder="true" ReorderColumnsOnClient="true">
                                            <Selecting AllowRowSelect="True"></Selecting>

                                            <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                            <Resizing AllowColumnResize="true" ResizeGridOnColumnResize="true"></Resizing>
                                        </ClientSettings>
                                        <MasterTableView DataKeyNames="id" UseAllDataFields="true" AutoGenerateColumns="false" AllowFilteringByColumn="true" ShowFooter="false">
                                            <Columns>
                                                <telerik:GridClientSelectColumn UniqueName="chkSelect" HeaderStyle-Width="40">
                                                </telerik:GridClientSelectColumn>

                                                <telerik:GridTemplateColumn DataField="ID"
                                                    UniqueName="ID"
                                                    SortExpression="ID"
                                                    AutoPostBackOnFilter="true"
                                                    AllowFiltering="true"
                                                    DataType="System.String"
                                                    CurrentFilterFunction="Contains" HeaderText="Estimate#" HeaderStyle-Width="90" ShowFilterIcon="false">
                                                    <ItemTemplate>
                                                        <asp:HyperLink ID="lnkName" runat="server" Text='<%# Bind("ID") %>'></asp:HyperLink>
                                                        <asp:HiddenField ID="hdnEstimateID" runat="server" Value='<%# Eval("ID") %>'></asp:HiddenField>
                                                    </ItemTemplate>

                                                </telerik:GridTemplateColumn>


                                                <telerik:GridTemplateColumn DataField="fDate" SortExpression="fDate" AutoPostBackOnFilter="false" DataType="System.String"
                                                    CurrentFilterFunction="Contains" HeaderText="Date" ShowFilterIcon="false" HeaderStyle-Width="100" AllowFiltering="false"
                                                    UniqueName="fDate">
                                                    <ItemTemplate>
                                                        <asp:Label ID="lblDate" runat="server" Text='<%# (String.IsNullOrEmpty(Eval("fDate").ToString())) ? "" : Eval("fDate", "{0:M/d/yyyy}") %>'></asp:Label>
                                                    </ItemTemplate>
                                                </telerik:GridTemplateColumn>
                                                <telerik:GridBoundColumn DataField="fdesc" HeaderText="Desc" SortExpression="fdesc" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains"
                                                    ShowFilterIcon="false" HeaderStyle-Width="200">
                                                </telerik:GridBoundColumn>
                                                <telerik:GridTemplateColumn DataField="BDate" SortExpression="fDate" AutoPostBackOnFilter="false" DataType="System.String"
                                                    CurrentFilterFunction="Contains" HeaderText="Bid Close Date" ShowFilterIcon="false" HeaderStyle-Width="100" AllowFiltering="false"
                                                    UniqueName="BDate">
                                                    <ItemTemplate>
                                                        <asp:Label ID="lblBDate" runat="server" Text='<%# (String.IsNullOrEmpty(Eval("BDate").ToString())) ? "" : Eval("BDate", "{0:M/d/yyyy}") %>'></asp:Label>
                                                    </ItemTemplate>
                                                </telerik:GridTemplateColumn>

                                            </Columns>
                                        </MasterTableView>

                                    </telerik:RadGrid>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="clear: both;"></div>

                <div class="btnlinks">
                    <asp:Button runat="server" ID="btnSaveEstimate" OnClick="btnSaveEstimate_Click" Text="Save" />
                    <asp:LinkButton ID="lnkReloadEstimates" runat="server" CssClass="icon-save" Style="margin-left: 20px; display: none;" Text="Reload Estimates" OnClick="lnkReloadEstimates_Click">
                    </asp:LinkButton>
                </div>


            </div>

        </ContentTemplate>
    </telerik:RadWindow>

    <telerik:RadWindow ID="RadWindowProjectGroup" Skin="Material" VisibleTitlebar="true" Title="Project Group" Behaviors="Default" CenterIfModal="true"
        Animation="FlyIn" AnimationDuration="200" RenderMode="Auto" VisibleStatusbar="false" MinWidth="450"
        runat="server" Modal="true" Width="1000" Height="500">
        <ContentTemplate>
            <telerik:RadAjaxPanel ID="RadAjaxPanel19" runat="server">
                <div class="col s12">
                    <div class="row" id="divGroupEquipments">
                        <div class="input-field col s12" style="padding: 0px!important;">
                            <div class="row">
                                <div class="btnlinks">
                                    <asp:LinkButton ID="lnkPopupUpdateGroup" runat="server" OnClick="lnkPopupUpdateGroup_Click" CausesValidation="true" ValidationGroup="popupGroupName">Save</asp:LinkButton>
                                </div>
                            </div>
                        </div>
                        <div style="clear: both;"></div>
                        <div class="input-field col s12" style="padding: 0px!important;">
                            <div class="row">
                                <asp:RequiredFieldValidator ID="rfvGroupName"
                                    runat="server" ControlToValidate="txtPopupGroupName" Display="None" ErrorMessage="Group Name is required"
                                    ValidationGroup="popupGroupName"></asp:RequiredFieldValidator>
                                <asp:ValidatorCalloutExtender
                                    ID="vceGroupName" runat="server" Enabled="True"
                                    PopupPosition="BottomLeft" TargetControlID="rfvGroupName" />
                                <asp:TextBox ID="txtPopupGroupName" runat="server" MaxLength="150"></asp:TextBox>
                                <asp:Label runat="server" ID="Label14" AssociatedControlID="txtPopupGroupName">Group Name</asp:Label>
                            </div>
                        </div>

                        <div class="input-field col s12" style="padding: 0px!important;">
                            <div class="row">
                                <label class="drpdwn-label" style="transform: none;">Equipment</label>
                                <div class="tag-div materialize-textarea textarea-border" id="eqtag">
                                </div>
                                <div id="DivEqup" class="popup_div " style="width: 100%; z-index: 5; right: 0;">
                                    <div class="btnlinks" style="margin-bottom: 5px; float: right;">
                                        <a href="#" onclick="HideME();">Close</a>
                                    </div>
                                    <div class="grid_container">
                                        <div class="RadGrid RadGrid_Material FormGrid">
                                            <telerik:RadAjaxPanel ID="RadAjaxPanelRadgvEquip" runat="server">
                                                <telerik:RadGrid ID="RadgvEquip"
                                                    RenderMode="Auto" AllowFilteringByColumn="false" ShowFooter="false" PageSize="10"
                                                    ShowStatusBar="true" runat="server" AllowPaging="false" AllowSorting="false" Width="100%" PagerStyle-AlwaysVisible="true"
                                                    OnDataBound="RadgvEquip_DataBound"
                                                    OnNeedDataSource="RadgvEquip_NeedDataSource"
                                                    AllowCustomPaging="True">
                                                    <CommandItemStyle />
                                                    <GroupingSettings CaseSensitive="false" />
                                                    <ClientSettings AllowColumnsReorder="true" ReorderColumnsOnClient="true">
                                                        <Selecting AllowRowSelect="True"></Selecting>
                                                        <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                                        <Resizing AllowColumnResize="true" ResizeGridOnColumnResize="true"></Resizing>
                                                    </ClientSettings>
                                                    <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="false" ShowFooter="True">
                                                        <Columns>
                                                            <telerik:GridTemplateColumn DataField="id" AutoPostBackOnFilter="false" AllowFiltering="false" SortExpression="id"
                                                                CurrentFilterFunction="Contains" UniqueName="id" HeaderText="" ShowFilterIcon="false" HeaderStyle-Width="30">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblID" runat="server" Style="display: none;" Text='<%# Bind("id") %>'></asp:Label>
                                                                    <asp:CheckBox ID="chkSelect" runat="server" />
                                                                </ItemTemplate>
                                                                <HeaderTemplate>
                                                                    <asp:CheckBox ID="chkAll" runat="server" />
                                                                </HeaderTemplate>
                                                            </telerik:GridTemplateColumn>
                                                            <telerik:GridTemplateColumn DataField="unit" AutoPostBackOnFilter="true" SortExpression="unit"
                                                                CurrentFilterFunction="Contains" UniqueName="unit" HeaderText="Name" ShowFilterIcon="false" HeaderStyle-Width="150">

                                                                <ItemTemplate>
                                                                    <a href="addequipment.aspx?uid=<%# Eval("id") %>" target="_blank" style="color: white">
                                                                        <asp:Label ID="lblUnit" runat="server" Text='<%# Bind("unit") %>'></asp:Label></a>
                                                                </ItemTemplate>
                                                            </telerik:GridTemplateColumn>

                                                            <telerik:GridTemplateColumn DataField="state" AutoPostBackOnFilter="true" SortExpression="state"
                                                                CurrentFilterFunction="Contains" UniqueName="state" HeaderText="Unique#" ShowFilterIcon="false" HeaderStyle-Width="150">

                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblUID" runat="server"><%#Eval("state")%></asp:Label>
                                                                </ItemTemplate>
                                                            </telerik:GridTemplateColumn>

                                                            <telerik:GridTemplateColumn DataField="fdesc" AutoPostBackOnFilter="true" SortExpression="fdesc"
                                                                CurrentFilterFunction="Contains" UniqueName="fdesc" HeaderText="Description" ShowFilterIcon="false" HeaderStyle-Width="150">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblDesc" runat="server"><%#Eval("fdesc")%></asp:Label>
                                                                </ItemTemplate>
                                                            </telerik:GridTemplateColumn>

                                                            <telerik:GridTemplateColumn DataField="Type" AutoPostBackOnFilter="true" SortExpression="Type"
                                                                CurrentFilterFunction="Contains" UniqueName="Type" HeaderText="Type" ShowFilterIcon="false" HeaderStyle-Width="100">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblType" runat="server"><%#Eval("Type")%></asp:Label>
                                                                </ItemTemplate>
                                                            </telerik:GridTemplateColumn>

                                                            <telerik:GridTemplateColumn DataField="category" AutoPostBackOnFilter="true" SortExpression="id"
                                                                CurrentFilterFunction="Contains" UniqueName="category" HeaderText="Category" ShowFilterIcon="false" HeaderStyle-Width="150">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblcat" runat="server"><%#Eval("category")%></asp:Label>
                                                                </ItemTemplate>
                                                            </telerik:GridTemplateColumn>
                                                            <telerik:GridTemplateColumn DataField="cat" AutoPostBackOnFilter="true" AllowFiltering="false" SortExpression="cat"
                                                                CurrentFilterFunction="Contains" UniqueName="cat" HeaderText="ServiceType" ShowFilterIcon="false" HeaderStyle-Width="150">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblServiceType" runat="server"><%#Eval("cat")%></asp:Label>
                                                                </ItemTemplate>
                                                            </telerik:GridTemplateColumn>
                                                            <telerik:GridTemplateColumn DataField="Building" AutoPostBackOnFilter="true" AllowFiltering="false" SortExpression="Building"
                                                                CurrentFilterFunction="Contains" UniqueName="Building" HeaderText="Building" ShowFilterIcon="false" HeaderStyle-Width="150">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblbuilding" runat="server"><%#Eval("building")%></asp:Label>
                                                                </ItemTemplate>
                                                            </telerik:GridTemplateColumn>
                                                            <telerik:GridTemplateColumn DataField="status" AutoPostBackOnFilter="true" AllowFiltering="false" SortExpression="status"
                                                                CurrentFilterFunction="Contains" UniqueName="status" HeaderText="Status" ShowFilterIcon="false" HeaderStyle-Width="100">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblStatus" runat="server"><%# Convert.ToInt32( Eval("status")) == 0 ? "Active" : "Inactive"%></asp:Label>
                                                                </ItemTemplate>
                                                            </telerik:GridTemplateColumn>
                                                            <telerik:GridTemplateColumn DataField="shut_down" AutoPostBackOnFilter="true" AllowFiltering="false" SortExpression="shut_down"
                                                                CurrentFilterFunction="Contains" UniqueName="shut_down" HeaderText="Shut Down" ShowFilterIcon="false" HeaderStyle-Width="100">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblShutdown" runat="server"><%#Eval("shut_down")%></asp:Label>
                                                                </ItemTemplate>
                                                            </telerik:GridTemplateColumn>
                                                            <telerik:GridTemplateColumn DataField="ShutdownReason" AutoPostBackOnFilter="true" AllowFiltering="false" SortExpression="ShutdownReason"
                                                                CurrentFilterFunction="Contains" UniqueName="ShutdownReason" HeaderText="Shut Down Description" ShowFilterIcon="false" HeaderStyle-Width="100">
                                                                <ItemTemplate>
                                                                    <asp:Label ID="lblShutdownReason" runat="server"><%#Eval("ShutdownReason")%></asp:Label>
                                                                </ItemTemplate>
                                                            </telerik:GridTemplateColumn>
                                                            <telerik:GridTemplateColumn AutoPostBackOnFilter="true" AllowFiltering="false"
                                                                CurrentFilterFunction="Contains" HeaderText="%Hours" ShowFilterIcon="false" HeaderStyle-Width="100">
                                                                <ItemTemplate>
                                                                    <asp:TextBox ID="txtHours" runat="server" Width="50px" MaxLength="20"></asp:TextBox>
                                                                </ItemTemplate>
                                                                <FooterTemplate><%= RadgvEquip.VirtualItemCount  %>  Record(s) Found.   </FooterTemplate>
                                                            </telerik:GridTemplateColumn>
                                                        </Columns>
                                                        <NoRecordsTemplate>No Record Found.   </NoRecordsTemplate>
                                                    </MasterTableView>
                                                </telerik:RadGrid>
                                            </telerik:RadAjaxPanel>
                                        </div>
                                    </div>
                                </div>

                                <asp:TextBox ID="txtGroupEquips" runat="server" Style="display: none;"></asp:TextBox>
                            </div>
                        </div>


                    </div>
                </div>
            </telerik:RadAjaxPanel>
        </ContentTemplate>
    </telerik:RadWindow>

    <telerik:RadWindow ID="TeamMembersWindow" Skin="Material" VisibleTitlebar="true" Behaviors="Default" CenterIfModal="true"
        Animation="FlyIn" AnimationDuration="200" RenderMode="Auto" VisibleStatusbar="false"
        runat="server" Modal="true" Width="1050" Height="635">
        <ContentTemplate>
            <telerik:RadAjaxPanel ID="RadAjaxPanel2" runat="server">
                <div style="margin-top: 15px;">
                    <div class="form-section-row">
                        <div class="form-section">
                            <div class="row" style="margin-bottom: 0;">
                                <div class="grid_container" id="divMemberGrid" runat="server">
                                    <div class="RadGrid RadGrid_Material RadGrid RadGrid_Popup">

                                        <telerik:RadGrid RenderMode="Auto" ID="RadGrid_Emails" AllowFilteringByColumn="true" ShowFooter="false" PageSize="1000"
                                            ShowStatusBar="true" runat="server" AllowPaging="false" AllowSorting="true" PagerStyle-AlwaysVisible="true" FilterType="CheckList"
                                            AllowCustomPaging="false" Width="100%" Height="516px" OnPreRender="RadGrid_Emails_PreRender"
                                            OnNeedDataSource="RadGrid_Emails_NeedDataSource">
                                            <CommandItemStyle />
                                            <GroupingSettings CaseSensitive="false" />
                                            <ClientSettings AllowColumnsReorder="true" ReorderColumnsOnClient="true">
                                                <Selecting AllowRowSelect="True"></Selecting>

                                                <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                                <Resizing AllowColumnResize="true" ResizeGridOnColumnResize="true"></Resizing>
                                            </ClientSettings>
                                            <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="True" >
                                                <Columns>
                                                    <telerik:GridTemplateColumn AllowFiltering="false" HeaderStyle-Width="28" ShowFilterIcon="false">
                                                        <ItemTemplate>
                                                            <asp:Label ID="lblID" runat="server" Style="display: none;"><%#Eval("memberkey")%></asp:Label>
                                                            <asp:CheckBox ID="chkSelect" runat="server" />
                                                        </ItemTemplate>
                                                        <HeaderTemplate>
                                                            <asp:CheckBox ID="chkAll" runat="server" />
                                                        </HeaderTemplate>
                                                        <ItemStyle Width="0px"></ItemStyle>
                                                    </telerik:GridTemplateColumn>
                                                    <%--<telerik:GridTemplateColumn
                                                            DataField="UserID" SortExpression="UserID" AutoPostBackOnFilter="true" 
                                                            CurrentFilterFunction="Contains" DataType="System.String" HeaderText="User ID" ShowFilterIcon="false">
                                                            <ItemTemplate>
                                                                <asp:Label ID="lblID" runat="server"><%#Eval("UserID")%></asp:Label>
                                                            </ItemTemplate>
                                                        </telerik:GridTemplateColumn>--%>
                                                    <telerik:GridTemplateColumn
                                                        DataField="fUser" SortExpression="fUser" AutoPostBackOnFilter="true" DataType="System.String"
                                                        CurrentFilterFunction="Contains" HeaderText="User Name" ShowFilterIcon="false">
                                                        <ItemTemplate>
                                                            <asp:Label ID="lblUserName" runat="server"><%#Eval("fUser")%></asp:Label>
                                                        </ItemTemplate>
                                                    </telerik:GridTemplateColumn>
                                                    <telerik:GridTemplateColumn
                                                        DataField="RoleName" SortExpression="RoleName" AutoPostBackOnFilter="true" DataType="System.String"
                                                        CurrentFilterFunction="Contains" HeaderText="User Role" ShowFilterIcon="false">
                                                        <ItemTemplate>
                                                            <asp:Label ID="lblUserRole" runat="server"><%#Eval("RoleName")%></asp:Label>
                                                        </ItemTemplate>
                                                    </telerik:GridTemplateColumn>
                                                    <telerik:GridTemplateColumn SortExpression="IsTask" AllowFiltering="false" HeaderStyle-Width="100" ShowFilterIcon="false" DataField="IsTask" HeaderText="Task">
                                                        <ItemTemplate>
                                                            <asp:CheckBox ID="chkTask" Checked='<%# (Convert.ToString(Eval("IsTask")) == "1") ? true : false %>' runat="server" />
                                                        </ItemTemplate>
                                                    </telerik:GridTemplateColumn>
                                                    <%--<telerik:GridTemplateColumn 
                                                            DataField="fFirst" SortExpression="fFirst" AutoPostBackOnFilter="true" 
                                                            CurrentFilterFunction="Contains" DataType="System.String" HeaderText="First Name" ShowFilterIcon="false">
                                                            <ItemTemplate>
                                                                <asp:Label ID="lblFirstName" runat="server"><%#Eval("fFirst")%></asp:Label>
                                                            </ItemTemplate>
                                                        </telerik:GridTemplateColumn>
                                                        <telerik:GridTemplateColumn 
                                                            DataField="fLast" SortExpression="fLast" AutoPostBackOnFilter="true"
                                                            CurrentFilterFunction="Contains" DataType="System.String" HeaderText="Last Name" ShowFilterIcon="false">
                                                            <ItemTemplate>
                                                                <asp:Label ID="lblLastName" runat="server"><%#Eval("fLast")%></asp:Label>
                                                            </ItemTemplate>
                                                        </telerik:GridTemplateColumn>--%>
                                                    <telerik:GridTemplateColumn
                                                        DataField="email" SortExpression="email" AutoPostBackOnFilter="true"
                                                        CurrentFilterFunction="Contains" DataType="System.String" HeaderText="Email" ShowFilterIcon="false">
                                                        <ItemTemplate>
                                                            <asp:Label ID="lblEmail" runat="server"><%#Eval("email")%></asp:Label>
                                                        </ItemTemplate>
                                                    </telerik:GridTemplateColumn>
                                                    <telerik:GridTemplateColumn
                                                        DataField="usertype" SortExpression="usertype" AutoPostBackOnFilter="true"
                                                        CurrentFilterFunction="Contains" HeaderText="Type" ShowFilterIcon="false">
                                                        <ItemTemplate>
                                                            <asp:Label ID="lblType" runat="server"><%#Eval("usertype")%></asp:Label>
                                                        </ItemTemplate>
                                                    </telerik:GridTemplateColumn>

                                                </Columns>
                                            </MasterTableView>
                                            <FilterMenu CssClass="RadFilterMenu_CheckList">
                                            </FilterMenu>
                                        </telerik:RadGrid>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div style="clear: both;"></div>
                    <footer style="float: left; padding-left: 0 !important;">
                        <div class="btnlinks">
                            <a id="lnkPopupOK" onclick="CloseTeamMemberWindow();" style="cursor: pointer;">OK</a>
                            <%--<telerik:RadAjaxPanel runat="server" >
                                    <asp:LinkButton ID="lnkPopupOK" OnClientClick="CloseTeamMemberWindow();" runat="server">OK</asp:LinkButton>
                                </telerik:RadAjaxPanel>--%>
                        </div>
                    </footer>
                    <%--<asp:LinkButton ID="ReloadGrid" runat="server" OnClick="ReloadGrid_Click">Clear Filter</asp:LinkButton>--%>
                </div>
            </telerik:RadAjaxPanel>
        </ContentTemplate>
    </telerik:RadWindow>

    <telerik:RadWindow ID="RadWindowBOMLaborRate" Skin="Material" VisibleTitlebar="true" Behaviors="Default" CenterIfModal="true"
        Animation="FlyIn" AnimationDuration="200" RenderMode="Auto" VisibleStatusbar="false"
        runat="server" Modal="true" Width="430" Height="210">
        <ContentTemplate>
            <div style="margin-top: 15px;">
                <div class="form-section-row">
                    <div class="form-section">
                        <div class="input-field col s12">
                            <div class="row" style="margin-bottom: 5px;">

                                <asp:RequiredFieldValidator ID="rfvBOMLaborRate"
                                    runat="server" ControlToValidate="txtPopupLaborRate" Display="None" ErrorMessage="Labor Rate is required"
                                    SetFocusOnError="True" ValidationGroup="popupBOMLaborRate"></asp:RequiredFieldValidator>
                                <asp:ValidatorCalloutExtender
                                    ID="ValidatorCalloutExtender8" runat="server" Enabled="True"
                                    PopupPosition="BottomLeft" TargetControlID="rfvBOMLaborRate" />

                                <asp:TextBox ID="txtPopupLaborRate" runat="server" MaxLength="150" onkeypress="return isDecimalKey(this,event)"></asp:TextBox>
                                <label for="txtPopupLaborRate">Labor Rate</label>
                            </div>

                        </div>
                        <div class="row" style="margin-bottom: 10px;">
                            <label>This action will mass update the labor rate column where rate is not equal zero. Are you sure you want to continue?</label>
                        </div>
                    </div>
                </div>
                <div style="clear: both;"></div>
                <footer style="float: left; padding-left: 0 !important;">
                    <div class="btnlinks">
                        <asp:LinkButton ID="lnkAllLaborRate_Yes" runat="server" CausesValidation="true" ValidationGroup="popupBOMLaborRate"
                            OnClientClick="lnkAllLaborRate_Yes_ClientClick(); return false;">Yes</asp:LinkButton>
                        <asp:LinkButton ID="lnkAllLaborRate_No" runat="server" OnClientClick="lnkAllLaborRate_No_ClientClick(); return false;">No</asp:LinkButton>
                    </div>
                </footer>
            </div>
        </ContentTemplate>
    </telerik:RadWindow>

    <telerik:RadWindow ID="RadWindowBOMMaterialRate" Skin="Material" VisibleTitlebar="true" Behaviors="Default" CenterIfModal="true"
        Animation="FlyIn" AnimationDuration="200" RenderMode="Auto" VisibleStatusbar="false"
        runat="server" Modal="true" Width="430" Height="290">
        <ContentTemplate>
            <div style="margin-top: 15px;">
                <div class="form-section-row">
                    <div class="form-section">
                        <div class="input-field col s12">
                            <div class="row">
                                <label class="drpdwn-label">Type</label>
                                <div class="fc-input">
                                    <asp:DropDownList ID="ddlPopupMaterialType" CssClass="browser-default" runat="server">
                                        <asp:ListItem Value="0">Divider</asp:ListItem>
                                        <asp:ListItem Value="1">Multiplier</asp:ListItem>
                                    </asp:DropDownList>

                                </div>
                            </div>
                        </div>
                        <div class="input-field col s12">
                            <div class="row" style="margin-bottom: 5px;">
                                <asp:CompareValidator ID="CompareValidator1" runat="server" ValueToCompare="0" ControlToValidate="txtPopupMaterialRate" ErrorMessage="Invalid number"
                                    Operator="NotEqual" Type="Double" ValidationGroup="popupBOMMaterialRate" Display="None"></asp:CompareValidator>
                                <asp:RequiredFieldValidator ID="rfvBOMMaterialRate"
                                    runat="server" ControlToValidate="txtPopupMaterialRate" Display="None" ErrorMessage="Material Rate is required"
                                    SetFocusOnError="True" ValidationGroup="popupBOMMaterialRate"></asp:RequiredFieldValidator>
                                <asp:ValidatorCalloutExtender
                                    ID="ValidatorCalloutExtender2" runat="server" Enabled="True"
                                    PopupPosition="BottomLeft" TargetControlID="rfvBOMMaterialRate" />
                                <asp:ValidatorCalloutExtender
                                    ID="ValidatorCalloutExtender3" runat="server" Enabled="True"
                                    PopupPosition="BottomLeft" TargetControlID="CompareValidator1" />
                                <asp:TextBox ID="txtPopupMaterialRate" runat="server" MaxLength="150" onkeypress="return isDecimalKey(this,event)"></asp:TextBox>
                                <label for="txtPopupMaterialRate">Material Rate</label>
                                <asp:HiddenField ID="hdnPopupMaterialRate" runat="server" Value="2" />
                            </div>

                        </div>
                        <div class="row" style="margin-bottom: 10px;">
                            <label>This action will be applied to the Budget Unit $ column for all amounts not equal to zero. Are you sure you want to continue?</label>
                        </div>
                    </div>
                </div>
                <div style="clear: both;"></div>
                <footer style="float: left; padding-left: 0 !important;">
                    <div class="btnlinks">
                        <asp:LinkButton ID="lnkAllMaterialRate_Yes" runat="server" CausesValidation="true" ValidationGroup="popupBOMMaterialRate"
                            OnClientClick="lnkAllMaterialRate_Yes_ClientClick(); return false;">Yes</asp:LinkButton>
                        <asp:LinkButton ID="lnkAllMaterialRate_No" runat="server" OnClientClick="lnkAllMaterialRate_No_ClientClick(); return false;">No</asp:LinkButton>
                    </div>
                </footer>
            </div>
        </ContentTemplate>
    </telerik:RadWindow>

    <telerik:RadWindow ID="RadWindowCloseDate" Skin="Material" VisibleTitlebar="true" Behaviors="Default" CenterIfModal="true"
        Animation="FlyIn" AnimationDuration="200" RenderMode="Auto" VisibleStatusbar="false"
        runat="server" Modal="true" Width="400" Height="300">
        <ContentTemplate>
            <div style="margin-top: 15px;">
                <div class="form-section-row">
                    <div class="form-section">
                        <div class="input-field col s12">
                            <div class="row">
                                <label for="txtClosedDate">Closed Date</label>
                                <asp:TextBox ID="txtClosedDate" runat="server"></asp:TextBox>
                                <asp:CalendarExtender ID="ceClosedDate" runat="server" Enabled="True"
                                    TargetControlID="txtClosedDate">
                                </asp:CalendarExtender>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="clear: both;"></div>
                <footer style="float: left; padding-left: 0 !important;bottom: 20px;top: auto;position: absolute;">
                    <div class="btnlinks">
                        <asp:LinkButton ID="LinkButton2" runat="server" OnClientClick="CloseRadWindowCloseDate(); return false;">OK</asp:LinkButton>
                    </div>
                </footer>
            </div>
        </ContentTemplate>
    </telerik:RadWindow>

    <div>
        <div id="divButtons">
            <div id="breadcrumbs-wrapper">
                <header>
                    <div class="container row-color-grey">
                        <div class="row">
                            <div class="col s12 m12 l12">
                                <div class="row">
                                    <div class="page-title">
                                        <i class="mdi-communication-contacts"></i>
                                        <asp:Label CssClass="title_text" ID="lblHeader" runat="server">Add Project</asp:Label>
                                    </div>
                                    <div class="buttonContainer">
                                        <div class="btnlinks">
                                            <asp:LinkButton ID="lnkSaveTemplate" runat="server" CssClass="icon-save" Style="margin-left: 20px;" ToolTip="Save" Text="Save"
                                                OnClick="lnkSaveTemplate_Click"
                                                OnClientClick="window.btn_clicked =true; itemJSON();return ConfirmGCAdd();">
                                            </asp:LinkButton>
                                        </div>
                                        <div class="btnlinks">
                                            <a class="dropdown-button" data-beloworigin="true" href="javascript:void(0);" data-activates="dynamicUI">Reports
                                            </a>
                                        </div>
                                        <ul id="dynamicUI" class="dropdown-content">
                                            <li>
                                                <asp:LinkButton ID="lnkProjectVarianceReport" OnClick="lnkProjectVarianceReport_Click" runat="server" Text="Project Variance Report" Visible="false" />
                                            </li>
                                            <li>
                                                <asp:LinkButton ID="lnkProjectGLCrossReferenceReport" OnClick="lnkProjectGLCrossReferenceReport_Click" runat="server" Text="Project GL Cross Reference Report" Visible="false" />
                                            </li>
                                            <li>
                                                <asp:LinkButton ID="lnkProjectVendorByProject" OnClick="lnkProjectVendorByProject_Click" runat="server" Text="Project Vendor Demand by Project" Visible="false" />
                                            </li>
                                            <li>
                                                <asp:LinkButton ID="lnkProjectVendorByVendor" OnClick="lnkProjectVendorByVendor_Click" runat="server" Text="Project Vendor Demand by Vendor" Visible="false" />
                                            </li>
                                        </ul>
                                        <div class="btnlinks">
                                            <asp:LinkButton ID="btnExport" runat="server" CssClass="icon-save" ToolTip="Export to Excel" Text="Export to Excel" Visible="false"
                                                OnClick="btnExport_Click" OnClientClick="window.onbeforeunload = null;">
                                            </asp:LinkButton>

                                        </div>
                                    </div>
                                    <div class="btnclosewrap" id="divClose" runat="server">
                                        <asp:LinkButton ID="lnkClose" runat="server" ToolTip="Close"
                                            OnClick="lnkCloseTemplate_Click" CausesValidation="false">
                                                    <i class="mdi-content-clear"></i>
                                        </asp:LinkButton>
                                    </div>
                                    <div class="rght-content">
                                        <div class="editlabel" id="divLinkEstimate" runat="server" visible="true">
                                            <div style="float: left" id="divLinks" runat="server"></div>
                                            <div style="clear: both"></div>
                                        </div>

                                        <div class="editlabel">
                                            <asp:Label runat="server" ID="lblHyperlinklabel" Visible="false">Contract#</asp:Label>
                                            <asp:HyperLink ID="lblHeaderLabeldf" runat="server" Visible="false"></asp:HyperLink>
                                        </div>

                                        <div class="editlabel">
                                            <asp:Label CssClass="title_text_Name" ID="lblNetAmount" Text="" runat="server" Visible="false" Style="font-size: 14px; text-align: right; width: 100%"></asp:Label>
                                        </div>
                                        <div class="editlabel">
                                            <asp:Label CssClass="title_text_Name" ID="lblProjectNo" Text="-" runat="server"></asp:Label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </header>
            </div>
            <div class="container breadcrumbs-bg-custom">
                <div class="row">
                    <div class="col s12 m12 l12">
                        <div class="row">
                            <div class="tblnks">
                                <ul class="anchor-links">
                                    <li id="liLogs" runat="server" style="display: none"><a href="#accrdlogs">Logs</a></li>
                                    <li id="liLinkEstimate" runat="server"><a href="#" onclick="ShowEstimateWindow();">Link Estimate</a></li>
                                </ul>
                            </div>
                            <div class="tblnksright">
                                <div class="nextprev">
                                    <asp:Panel ID="pnlSave" runat="server">
                                        <asp:Panel ID="Panel10" runat="server" Visible="false">
                                            <span class="angleicons">
                                                <asp:LinkButton ID="lnkFirst" ToolTip="First" runat="server" CausesValidation="False"
                                                    OnClick="lnkFirst_Click" OnClientClick="window.onbeforeunload = null;"><i class="fa fa-angle-double-left" ></i></asp:LinkButton>
                                            </span>
                                            <span class="angleicons">
                                                <asp:LinkButton ID="lnkPrevious" ToolTip="Previous" runat="server" CausesValidation="False" OnClick="lnkPrevious_Click" OnClientClick="window.onbeforeunload = null;">
                                                            <i class="fa fa-angle-left"></i>
                                                </asp:LinkButton>
                                            </span>
                                            <span class="angleicons">
                                                <asp:LinkButton ID="lnkNext" ToolTip="Next" runat="server" CausesValidation="False" OnClick="lnkNext_Click" OnClientClick="window.onbeforeunload = null;">
                                                            <i class="fa fa-angle-right"></i>
                                                </asp:LinkButton>
                                            </span>
                                            <span class="angleicons">
                                                <asp:LinkButton ID="lnkLast" ToolTip="Last" runat="server" CssClass="icon-last" CausesValidation="False" OnClick="lnkLast_Click" OnClientClick="window.onbeforeunload = null;">
                                                            <i class="fa fa-angle-double-right"></i>
                                                </asp:LinkButton>
                                            </span>
                                        </asp:Panel>
                                    </asp:Panel>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div class="container accordian-wrap" id="dateragediv" runat="server" visible="false">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="row">
                    <div class="srchpane">
                        <div class="srchinputwrap">
                            <asp:DropDownList ID="ddlDateRange" runat="server" CssClass="browser-default select selectst" AutoPostBack="false">
                                <asp:ListItem Value="1">Cumulative</asp:ListItem>
                                <asp:ListItem Value="5">Date Range - Activity</asp:ListItem>
                            </asp:DropDownList>
                        </div>

                        <div class="srchinputwrap">
                            <asp:TextBox ID="txtfromDate" runat="server" CssClass="srchcstm datepicker_mom" placeholder="Date From" MaxLength="50"></asp:TextBox>
                        </div>

                        <div class="srchinputwrap">
                            <asp:TextBox ID="txtToDate" runat="server" CssClass="srchcstm datepicker_mom" placeholder="Date To" MaxLength="50"></asp:TextBox>
                        </div>
                        <telerik:RadAjaxPanel ID="RadAjaxPanel14" runat="server">
                            <div class="srchinputwrap srchclr btnlinksicon" style="margin-left: -10px; margin-top: -2px;">
                                <asp:LinkButton ID="lnkSearch" OnClick="lnkSearch_Click" OnClientClick="window.onbeforeunload = null;" CausesValidation="false" runat="server"><i class="mdi-action-restore "></i></asp:LinkButton>
                            </div>
                        </telerik:RadAjaxPanel>
                        <div class="cf"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container accordian-wrap">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="row">
                    <div class="card cardradius">
                        <div class="card-content">
                            <div class="form-content-wrap form-content-wrapwd">
                                <div class="form-content-pd formpdtop">
                                    <div class="col s12 m12 l12">
                                        <div class="section-ttle">
                                            Project Details
                                        </div>
                                        <div class="form-section-row">
                                            <div class="form-section3">
                                                <asp:UpdatePanel ID="updPnlAddress" runat="server">
                                                    <ContentTemplate>
                                                        <div id="trEstimate" runat="server" visible="false" class="input-field col s12">
                                                            <div class="row">
                                                                <label for="txtAddress">Estimate</label>
                                                                <asp:TextBox ID="lnkEstimateID" runat="server"></asp:TextBox>
                                                            </div>

                                                            <div class="srchclr btnlinksicon rowbtn">
                                                                <asp:HyperLink for="Estimate" ID="lnkEstimate" Visible="true" Target="_blank" runat="server"><i class="mdi-editor-insert-drive-file"  style="margin-left:0px !important;" ></i></asp:HyperLink>
                                                            </div>
                                                        </div>
                                                        <div class="input-field col s12">
                                                            <div class="row">
                                                                <label for="txtREPdesc">Project Name</label>
                                                                <asp:TextBox ID="txtREPdesc" runat="server" AutoCompleteType="None" autocomplete="off"
                                                                    MaxLength="75"></asp:TextBox>
                                                                <asp:RequiredFieldValidator ID="rfvProjectName" runat="server"
                                                                    ControlToValidate="txtREPdesc" Display="None" ErrorMessage="Name Required" SetFocusOnError="True">
                                                                </asp:RequiredFieldValidator>
                                                                <asp:ValidatorCalloutExtender
                                                                    ID="vceProjectName" runat="server" Enabled="True"
                                                                    TargetControlID="rfvProjectName">
                                                                </asp:ValidatorCalloutExtender>
                                                            </div>
                                                        </div>
                                                        <div class="input-field col s12">
                                                            <div class="row">
                                                                <asp:CustomValidator ID="cvCustomer" runat="server" ClientValidationFunction="ChkCustomer"
                                                                    ControlToValidate="txtCustomer" Display="None" ErrorMessage="Please select the customer"
                                                                    SetFocusOnError="True" Enabled="False"></asp:CustomValidator>
                                                                <asp:ValidatorCalloutExtender ID="vceCustomer1" runat="server" Enabled="True"
                                                                    TargetControlID="cvCustomer">
                                                                </asp:ValidatorCalloutExtender>
                                                                <asp:RequiredFieldValidator ID="rfvCustomer" runat="server" ControlToValidate="txtCustomer"
                                                                    Display="None" ErrorMessage="Please select the customer" SetFocusOnError="True"></asp:RequiredFieldValidator>
                                                                <asp:ValidatorCalloutExtender ID="vceCustomer"
                                                                    runat="server" Enabled="True" TargetControlID="rfvCustomer">
                                                                </asp:ValidatorCalloutExtender>
                                                                <asp:TextBox ID="txtCustomer" CssClass="validate" runat="server"
                                                                    placeholder="Search by customer name, phone#, address etc." autocomplete="off"></asp:TextBox>
                                                                <asp:HiddenField ID="hdnCustID" runat="server" />
                                                                <asp:FilteredTextBoxExtender ID="txtCustomer_FilteredTextBoxExtender" runat="server"
                                                                    Enabled="False" FilterMode="InvalidChars" InvalidChars="'\" TargetControlID="txtCustomer">
                                                                </asp:FilteredTextBoxExtender>
                                                                <asp:Label runat="server" AssociatedControlID="txtCustomer" ID="lblCustomer">Customer Name <span class="reqd">*</span></asp:Label>
                                                                <asp:Button ID="btnSelectCustomer" runat="server" CausesValidation="False" OnClick="btnSelectCustomer_Click"
                                                                    Style="display: none;" Text="Button" />
                                                            </div>
                                                        </div>
                                                        <div class="srchclr btnlinksicon rowbtn">
                                                            <asp:HyperLink for="txtCustomer" ID="lnkCustomerID" Visible="true" Target="_blank" runat="server"><i class="mdi-social-people" style="margin-left:0px !important;"></i></asp:HyperLink>
                                                        </div>
                                                        <div class="input-field col s12">
                                                            <div class="row">
                                                                <asp:RequiredFieldValidator ID="rfvLocation" runat="server"
                                                                    ControlToValidate="txtLocation" Display="None" ErrorMessage="Location Name Required"
                                                                    SetFocusOnError="True"></asp:RequiredFieldValidator>
                                                                <asp:ValidatorCalloutExtender ID="vceLocation"
                                                                    runat="server" Enabled="True" TargetControlID="rfvLocation">
                                                                </asp:ValidatorCalloutExtender>
                                                                <asp:CustomValidator ID="cvLocation" runat="server" ClientValidationFunction="ChkLocation"
                                                                    ControlToValidate="txtLocation" Display="None" ErrorMessage="Please select the location"
                                                                    SetFocusOnError="True"></asp:CustomValidator>
                                                                <asp:ValidatorCalloutExtender ID="vceLocation1" runat="server" Enabled="True"
                                                                    TargetControlID="cvLocation">
                                                                </asp:ValidatorCalloutExtender>
                                                                <div class="fc-input">
                                                                    <asp:Label runat="server" AssociatedControlID="txtLocation" ID="lblLocation">Location Name <span class="reqd">*</span></asp:Label>
                                                                    <asp:TextBox ID="txtLocation" CssClass="validate" runat="server" EnableViewState="true"
                                                                        placeholder="Search by location name, phone#, address etc." autocomplete="off"></asp:TextBox>
                                                                </div>
                                                                <asp:FilteredTextBoxExtender ID="txtLocation_FilteredTextBoxExtender" runat="server"
                                                                    Enabled="False" FilterMode="InvalidChars" InvalidChars="'\" TargetControlID="txtLocation">
                                                                </asp:FilteredTextBoxExtender>
                                                                <asp:HiddenField ID="hdnLocID" runat="server" />
                                                                <asp:HiddenField ID="hdnLocRolID" runat="server" />
                                                                <asp:Button ID="btnSelectLoc" runat="server" CausesValidation="False" OnClick="btnSelectLoc_Click"
                                                                    Style="display: none;" Text="Button" />
                                                            </div>
                                                        </div>
                                                        <div class="srchclr btnlinksicon rowbtn">
                                                            <asp:HyperLink for="txtLocation" ID="lnkLocationID" Visible="true" Target="_blank" runat="server"><i class="mdi-communication-location-on" style="margin-left:0px !important;"></i></asp:HyperLink>
                                                        </div>

                                                        <div class="input-field col s12">
                                                            <div class="row">
                                                                <label for="txtAddress">Address</label>
                                                                <asp:TextBox ID="txtAddress" Height="50px" TextMode="MultiLine" class="materialize-textarea" runat="server">
                                                                </asp:TextBox>
                                                            </div>
                                                        </div>
                                                        <div class="input-field col s12" id="dvCompanyPermission" runat="server">
                                                            <div class="row">
                                                                <label for="txtCompany">Company</label>
                                                                <asp:TextBox ID="txtCompany" runat="server" CssClass="validate" Enabled="false"></asp:TextBox>
                                                            </div>
                                                        </div>
                                                    </ContentTemplate>
                                                    <Triggers>
                                                        <asp:AsyncPostBackTrigger ControlID="btnSelectLoc" />
                                                        <asp:AsyncPostBackTrigger ControlID="btnSelectCustomer" />
                                                    </Triggers>
                                                </asp:UpdatePanel>
                                            </div>
                                            <div class="form-section3-blank">
                                                &nbsp;
                                            </div>
                                            <div class="form-section9">
                                                <div class="form-section3half">
                                                    <div class="input-field col s12">
                                                        <div class="row">
                                                            <label class="drpdwn-label">Template Type</label>
                                                            <asp:RequiredFieldValidator ID="rfvTemplateType" runat="server" ControlToValidate="ddlTemplate"
                                                                Display="None" ErrorMessage="Please select template type" SetFocusOnError="True"></asp:RequiredFieldValidator>
                                                            <asp:ValidatorCalloutExtender ID="vceTemplateType" runat="server" Enabled="True" TargetControlID="rfvTemplateType" PopupPosition="BottomLeft">
                                                            </asp:ValidatorCalloutExtender>
                                                            <div class="fc-input">
                                                                <asp:UpdatePanel ID="UpdatePanel7" runat="server" UpdateMode="Always">
                                                                    <ContentTemplate>
                                                                        <asp:DropDownList ID="ddlTemplate" runat="server" CssClass="browser-default" OnSelectedIndexChanged="ddlTemplate_SelectedIndexChanged"
                                                                            AutoPostBack="true" onchange="itemJSON();">
                                                                        </asp:DropDownList>
                                                                    </ContentTemplate>
                                                                </asp:UpdatePanel>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <asp:UpdatePanel runat="server">
                                                        <ContentTemplate>
                                                            <div class="input-field col s12">
                                                                <div class="row">
                                                                    <label class="drpdwn-label" id="lblStage" runat="server">Stage</label>
                                                                    <asp:DropDownList ID="ddlStage" CssClass="browser-default" runat="server">
                                                                    </asp:DropDownList>
                                                                    <asp:HiddenField ID="hdnOrgStageID" runat="server" />
                                                                    <asp:HiddenField ID="hdnOrgStage" runat="server" />
                                                                </div>
                                                            </div>
                                                        </ContentTemplate>
                                                    </asp:UpdatePanel>
                                                    <div class="input-field col s12">
                                                        <div class="row">
                                                            <label class="drpdwn-label">Task Category</label>
                                                            <asp:RequiredFieldValidator ID="rfvTaskCategory" runat="server" ControlToValidate="ddlCodeCat"
                                                                Display="None" ErrorMessage="Please select Task Category" SetFocusOnError="True"></asp:RequiredFieldValidator>
                                                            <asp:ValidatorCalloutExtender ID="ValidatorCalloutExtender1" runat="server"
                                                                TargetControlID="rfvTaskCategory" PopupPosition="BottomLeft">
                                                            </asp:ValidatorCalloutExtender>
                                                            <div class="fc-input">
                                                                <asp:UpdatePanel ID="UpdatePanel26" runat="server">
                                                                    <ContentTemplate>
                                                                        <asp:DropDownList ID="ddlCodeCat" CssClass="browser-default" runat="server" AutoPostBack="true"
                                                                            OnSelectedIndexChanged="ddlCodeCat_SelectedIndexChanged">
                                                                        </asp:DropDownList>
                                                                    </ContentTemplate>
                                                                </asp:UpdatePanel>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <asp:UpdatePanel ID="UpdatePanel18" runat="server" UpdateMode="Always">
                                                        <ContentTemplate>
                                                            <div class="input-field col s12">
                                                                <div class="row">
                                                                    <label for="ddlJobType" class="drpdwn-label">Department</label>
                                                                    <asp:DropDownList ID="ddlJobType" CssClass="browser-default" runat="server"
                                                                        OnSelectedIndexChanged="ddlJobType_SelectedIndexChanged" AutoPostBack="true">
                                                                    </asp:DropDownList>
                                                                </div>
                                                            </div>
                                                        </ContentTemplate>
                                                    </asp:UpdatePanel>

                                                    <asp:UpdatePanel ID="UpdatePanel1" runat="server" UpdateMode="Always">
                                                        <ContentTemplate>
                                                            <div class="input-field col s12">
                                                                <div class="row">
                                                                    <label for="ddlType" class="drpdwn-label">Location Type</label>
                                                                    <asp:DropDownList ID="ddlType" runat="server" CssClass="browser-default"></asp:DropDownList>

                                                                </div>
                                                            </div>
                                                        </ContentTemplate>
                                                    </asp:UpdatePanel>
                                                    <asp:UpdatePanel ID="UpdatePanel3" runat="server" UpdateMode="Always">
                                                        <ContentTemplate>
                                                            <div class="input-field col s12">
                                                                <div class="row">
                                                                    <label class="drpdwn-label" id="lblDefaultWorker" runat="server"></label>
                                                                    <asp:DropDownList ID="ddlRoute" runat="server" CssClass="browser-default" Enabled="false">
                                                                    </asp:DropDownList>
                                                                </div>
                                                            </div>
                                                        </ContentTemplate>
                                                    </asp:UpdatePanel>

                                                </div>
                                                <div class="form-section3half-blank">
                                                    &nbsp;
                                                </div>
                                                <div class="form-section3half">
                                                    <div class="input-field col s12">
                                                        <div class="row">
                                                            <label class="drpdwn-label">Status</label>
                                                            <asp:RequiredFieldValidator ID="rfvStatus" runat="server" InitialValue="Select Status" ControlToValidate="ddlJobStatus"
                                                                Display="None" ErrorMessage="Please select Status" SetFocusOnError="True"></asp:RequiredFieldValidator>
                                                            <asp:ValidatorCalloutExtender ID="vceStatus" runat="server" Enabled="True" TargetControlID="rfvStatus" PopupPosition="BottomLeft">
                                                            </asp:ValidatorCalloutExtender>
                                                            <div class="fc-input">
                                                                <asp:DropDownList ID="ddlJobStatus" CssClass="browser-default" runat="server"></asp:DropDownList>
                                                                <asp:HiddenField ID="hdnddlJobStatus" runat="server" Value="0" />
                                                                <asp:HiddenField ID="hdnClosePermission" runat="server" Value="Y" />
                                                                <asp:HiddenField ID="hdnCompletedJObPermission" runat="server" Value="Y" />
                                                                <asp:HiddenField ID="hdnJobReopenPermission" runat="server" Value="Y" />
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="input-field col s12">
                                                        <div class="row">
                                                            <label class="drpdwn-label">Default Salesperson</label>
                                                            <asp:UpdatePanel runat="server">
                                                                <ContentTemplate>
                                                                    <asp:DropDownList ID="ddlTerr" Enabled="false" CssClass="browser-default" runat="server">
                                                                    </asp:DropDownList>
                                                                </ContentTemplate>
                                                            </asp:UpdatePanel>
                                                        </div>

                                                    </div>
                                                    <div class="input-field col s12">
                                                        <div class="row">
                                                            <label class="drpdwn-label">Salesperson 2</label>
                                                            <asp:UpdatePanel runat="server">
                                                                <ContentTemplate>
                                                                    <asp:DropDownList ID="ddlTerr2" Enabled="false" CssClass="browser-default" runat="server">
                                                                    </asp:DropDownList>
                                                                </ContentTemplate>
                                                            </asp:UpdatePanel>
                                                        </div>

                                                    </div>
                                                    <div class="input-field col s12">
                                                        <div class="row">
                                                            <label class="drpdwn-label">Project Manager</label>
                                                            <asp:UpdatePanel runat="server">
                                                                <ContentTemplate>
                                                                    <asp:DropDownList ID="ddlProjectManger" AutoPostBack="true" CssClass="browser-default" runat="server" OnSelectedIndexChanged="ddlProjectManger_SelectedIndexChanged" onchange="itemJSON();">
                                                                    </asp:DropDownList>
                                                                    <asp:HiddenField ID="hdnProjectManager" runat="server" />
                                                                </ContentTemplate>
                                                            </asp:UpdatePanel>
                                                        </div>
                                                    </div>
                                                    <div class="input-field col s12">
                                                        <div class="row">
                                                            <label class="drpdwn-label">Supervisor</label>
                                                            <asp:UpdatePanel runat="server">
                                                                <ContentTemplate>
                                                                    <asp:DropDownList ID="ddlSupervisor" AutoPostBack="true" CssClass="browser-default" runat="server">
                                                                    </asp:DropDownList>
                                                                </ContentTemplate>
                                                            </asp:UpdatePanel>
                                                        </div>
                                                    </div>
                                                    <div class="input-field col s12">
                                                        <div class="checkrow certified-checkbox">
                                                            <span class="tro">
                                                                <asp:CheckBox ID="chkCertifiedJob" CssClass="css-checkbox" Text="Certified Project" runat="server" />
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                        <div class="form-section-row" style="margin-bottom: 0px">
                                            <div class="col s12 m12 l12" style="margin-bottom: 0px">
                                                <div class="row" style="margin-bottom: 0px">
                                                    <ul style="margin-bottom: 0px" class="collapsible popout collapsible-accordion form-accordion-head" data-collapsible="expandable">
                                                        <li>
                                                            <div id="accrdcustInfo" class="collapsible-header accrd  accordian-text-custom "><i class="mdi-communication-contacts"></i>Project Notes</div>
                                                            <div class="collapsible-body" style="padding: 10px;">
                                                                <div class="form-content-wrap">
                                                                    <div class="form-content-pd">
                                                                        <div class="form-section-row">
                                                                            <div class="row">
                                                                                <div class="input-field col s12">
                                                                                    <label for="txtREPremarks" class="txtbrdlbl">Remarks</label>
                                                                                    <asp:TextBox ID="txtREPremarks" runat="server" CssClass="materialize-textarea textarea-border" TextMode="MultiLine"></asp:TextBox>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-section-row" id="divProjectNoteButton" runat="server">
                                                                            <div class="input-field col s8">
                                                                                <asp:UpdatePanel ID="UpdatePanel10" runat="server" UpdateMode="Always">
                                                                                    <ContentTemplate>
                                                                                        <label for="txtNote" id="lblProjectNote" class="">Notes</label>
                                                                                        <asp:TextBox ID="txtNote" runat="server" placeholder="Enter your notes here"></asp:TextBox>
                                                                                        <asp:RequiredFieldValidator ID="RequiredFieldValidator4" runat="server" ControlToValidate="txtNote"
                                                                                            Display="None" ErrorMessage="Note is Required" SetFocusOnError="True" ValidationGroup="Notes"></asp:RequiredFieldValidator>
                                                                                    </ContentTemplate>
                                                                                </asp:UpdatePanel>
                                                                            </div>

                                                                            <div class="input-field col s4" style="padding-top: 5px;">
                                                                                <div class="btnlinks" style="float: right!important;">
                                                                                    <asp:UpdatePanel ID="UpdatePanel9" runat="server" UpdateMode="Conditional">
                                                                                        <ContentTemplate>
                                                                                            <asp:LinkButton ID="lnkSaveNote" runat="server" OnClick="lnkSaveNote_Click" CausesValidation="true" ValidationGroup="Notes">Save</asp:LinkButton>
                                                                                        </ContentTemplate>
                                                                                    </asp:UpdatePanel>
                                                                                </div>
                                                                                <div class="btnlinks" style="float: right!important;">
                                                                                    <asp:LinkButton ID="lnkExportNotes" runat="server" OnClick="lnkExportNotes_Click" CausesValidation="true" OnClientClick="return ValidateExport();">Export to Excel</asp:LinkButton>
                                                                                </div>
                                                                                <div class="btnlinks" style="float: right!important;">
                                                                                    <asp:LinkButton ID="lnkEmailNote" runat="server" OnClick="lnkEmailNote_Click" OnClientClick="OpenCollectionPopNew();return false;">Email </asp:LinkButton>
                                                                                </div>
                                                                            </div>
                                                                        </div>

                                                                        <div class="grid_container">
                                                                            <div class="form-section-row" style="margin-bottom: 0 !important;">
                                                                                <div class="table-scrollable" style="height: auto; overflow-y: auto;">
                                                                                    <div class="RadGrid RadGrid_Material FormGrid">

                                                                                        <asp:UpdatePanel ID="UpdatePanel8" runat="server" UpdateMode="Conditional">
                                                                                            <ContentTemplate>

                                                                                                <asp:HiddenField ID="hdnlsNoteID" runat="server" Value="" />
                                                                                                <telerik:RadCodeBlock ID="RadCodeBlock6" runat="server">
                                                                                                    <script type="text/javascript">
                                                                                                        function pageLoad() {
                                                                                                            // debugger;
                                                                                                            var grid = $find("<%= RadGrid_CollectionNotes.ClientID %>");
                                                                                                            var columns = grid.get_masterTableView().get_columns();
                                                                                                            for (var i = 0; i < columns.length; i++) {
                                                                                                                columns[i].resizeToFit(false, true);
                                                                                                            }
                                                                                                        }

                                                                                                    </script>
                                                                                                </telerik:RadCodeBlock>
                                                                                                <telerik:RadAjaxPanel ID="RadAjaxPanel15" runat="server" LoadingPanelID="RadAjaxLoadingPanel_Customer">

                                                                                                    <telerik:RadGrid RenderMode="Auto" ID="RadGrid_CollectionNotes" AllowFilteringByColumn="true" ShowFooter="True" PageSize="50"
                                                                                                        PagerStyle-AlwaysVisible="true" OnNeedDataSource="RadGrid_CollectionNotes_NeedDataSource" OnExcelMLExportRowCreated="RadGrid_CollectionNotes_ExcelMLExportRowCreated"
                                                                                                        ShowStatusBar="true" runat="server" AllowPaging="true" AllowSorting="true" Width="100%" AllowCustomPaging="True" AllowMultiRowSelection="True">
                                                                                                        <CommandItemStyle />
                                                                                                        <GroupHeaderItemStyle Font-Size="Medium" Font-Bold="true" />

                                                                                                        <ClientSettings AllowColumnsReorder="true" ReorderColumnsOnClient="true">
                                                                                                            <Selecting AllowRowSelect="True"></Selecting>
                                                                                                            <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                                                                                            <Resizing AllowColumnResize="true" ResizeGridOnColumnResize="true"></Resizing>
                                                                                                        </ClientSettings>
                                                                                                        <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="True" ShowFooter="True">
                                                                                                            <Columns>
                                                                                                                <telerik:GridClientSelectColumn UniqueName="chkSelect" HeaderStyle-Width="40">
                                                                                                                </telerik:GridClientSelectColumn>
                                                                                                                <telerik:GridTemplateColumn HeaderText="ID" HeaderStyle-Width="100" HeaderStyle-HorizontalAlign="Center" DataField="ID" Visible="false">
                                                                                                                    <ItemTemplate>
                                                                                                                    </ItemTemplate>
                                                                                                                </telerik:GridTemplateColumn>

                                                                                                                <telerik:GridTemplateColumn HeaderText="Note" SortExpression="Note" AutoPostBackOnFilter="true" ShowFilterIcon="false" DataField="Note" DataType="System.String" CurrentFilterFunction="Contains">
                                                                                                                    <ItemTemplate>
                                                                                                                        <asp:Label ID="lblNote" runat="server" Text='<%# Eval("Note") %>'></asp:Label>
                                                                                                                        <asp:HiddenField ID="hdnProjectNoteID" runat="server" Value='<%# Eval("ID") %>'></asp:HiddenField>
                                                                                                                    </ItemTemplate>
                                                                                                                </telerik:GridTemplateColumn>


                                                                                                                <telerik:GridBoundColumn DataField="CreatedDate" HeaderText="Date/Time" HeaderStyle-Width="170"
                                                                                                                    AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" DataFormatString="{0:MM/dd/yyyy hh:mm tt}" SortExpression="CreatedDate"
                                                                                                                    ShowFilterIcon="false">
                                                                                                                </telerik:GridBoundColumn>

                                                                                                                <telerik:GridBoundColumn DataField="CreatedBy" HeaderText="User" HeaderStyle-Width="120"
                                                                                                                    AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" SortExpression="CreatedBy"
                                                                                                                    ShowFilterIcon="false">
                                                                                                                </telerik:GridBoundColumn>
                                                                                                            </Columns>
                                                                                                        </MasterTableView>
                                                                                                    </telerik:RadGrid>
                                                                                                </telerik:RadAjaxPanel>
                                                                                            </ContentTemplate>

                                                                                        </asp:UpdatePanel>

                                                                                        <div style="display: none">
                                                                                            <telerik:RadAjaxPanel ID="RadAjaxPanel16" runat="server" LoadingPanelID="RadAjaxLoadingPanel_Customer" PostBackControls="lnkExportNotes">

                                                                                                <telerik:RadGrid RenderMode="Auto" ID="RadGrid_CollectionNotes_Export"
                                                                                                    OnNeedDataSource="RadGrid_CollectionNotes_Export_NeedDataSource"
                                                                                                    runat="server">
                                                                                                    <CommandItemStyle />
                                                                                                    <GroupHeaderItemStyle Font-Size="Medium" Font-Bold="true" />
                                                                                                    <MasterTableView AutoGenerateColumns="false">
                                                                                                        <Columns>
                                                                                                            <telerik:GridBoundColumn DataField="Note" HeaderText="Note">
                                                                                                            </telerik:GridBoundColumn>
                                                                                                            <telerik:GridBoundColumn DataField="CreatedDate" HeaderText="Date/Time"
                                                                                                                DataFormatString="{0:MM/dd/yyyy hh:mm tt}">
                                                                                                            </telerik:GridBoundColumn>
                                                                                                            <telerik:GridBoundColumn DataField="CreatedBy" HeaderText="User">
                                                                                                            </telerik:GridBoundColumn>
                                                                                                        </Columns>
                                                                                                    </MasterTableView>
                                                                                                </telerik:RadGrid>
                                                                                            </telerik:RadAjaxPanel>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div style="clear: both;"></div>
                                                            </div>
                                                            <div style="clear: both;"></div>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                            <telerik:RadWindowManager ID="RadWindowManager" runat="server" EnableShadow="true" VisibleStatusbar="false" CssClass="headerCollection">
                                                <Windows>
                                                    <telerik:RadWindow ID="CollectionPopWindow" Skin="Material" VisibleTitlebar="true" Title="Collection" Behaviors="Default" CenterIfModal="true"
                                                        Animation="FlyIn" AnimationDuration="200" RenderMode="Auto" VisibleStatusbar="false" MinWidth="450"
                                                        runat="server" Modal="true" Width="1010" ShowContentDuringLoad="false" Height="600">
                                                    </telerik:RadWindow>


                                                </Windows>
                                            </telerik:RadWindowManager>
                                        </div>
                                        <%--Estimate--%>
                                        <div class="form-section-row" style="margin-bottom: 0px" id="divEstimate" runat="server">
                                            <div class="col s12 m12 l12" style="margin-bottom: 0px">
                                                <div class="row" style="margin-bottom: 0px">

                                                    <ul style="margin-bottom: 0px" class="collapsible popout collapsible-accordion form-accordion-head" data-collapsible="expandable">
                                                        <li>
                                                            <div id="accrdEstimate" class="collapsible-header accrd  accordian-text-custom "><i class="mdi-maps-map"></i>Estimate</div>
                                                            <div class="collapsible-body" style="padding: 10px;">
                                                                <div class="form-content-wrap">
                                                                    <div class="form-content-pd">
                                                                        <div class="form-section-row">
                                                                            <div class="form-section2">
                                                                                <div class="input-field col s12">
                                                                                    <div class="row">
                                                                                        <div class="btnlinks">
                                                                                            <asp:LinkButton ID="btnLinkEstimate" runat="server" Text="Link Estimate"
                                                                                                OnClientClick="ShowEstimateWindow(); return false;" OnClick="btnLinkEstimate_Click" />
                                                                                        </div>

                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="grid_container">
                                                                            <div class="form-section-row" style="margin-bottom: 0 !important;">
                                                                                <div class="table-scrollable" style="height: auto; overflow-y: auto;">
                                                                                    <div class="RadGrid RadGrid_Material FormGrid">
                                                                                        <telerik:RadAjaxPanel ID="RadAjaxPanel_Estimate" runat="server" LoadingPanelID="RadAjaxLoadingPanel_Estimate" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">
                                                                                            <telerik:RadGrid RenderMode="Auto" ID="RadGrid_EstimateProject" AllowFilteringByColumn="true" ShowFooter="True" PageSize="50"
                                                                                                ShowStatusBar="true" runat="server" AllowPaging="True" AllowSorting="true" Width="100%"
                                                                                                PagerStyle-AlwaysVisible="true"
                                                                                                EnableLinqExpressions="false"
                                                                                                OnNeedDataSource="RadGrid_EstimateProject_NeedDataSource"
                                                                                                EmptyDataText="No Estimates Found...">
                                                                                                <CommandItemStyle />
                                                                                                <GroupingSettings CaseSensitive="false" />
                                                                                                <ClientSettings AllowColumnsReorder="true" ReorderColumnsOnClient="true">
                                                                                                    <Selecting AllowRowSelect="True"></Selecting>
                                                                                                    <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                                                                                    <Resizing AllowColumnResize="true" ResizeGridOnColumnResize="true"></Resizing>
                                                                                                </ClientSettings>
                                                                                                <MasterTableView DataKeyNames="id" UseAllDataFields="true" AutoGenerateColumns="false" AllowFilteringByColumn="true" ShowFooter="True">
                                                                                                    <Columns>
                                                                                                        <telerik:GridClientSelectColumn UniqueName="chkSelect" HeaderStyle-Width="40">
                                                                                                        </telerik:GridClientSelectColumn>
                                                                                                        <telerik:GridTemplateColumn AllowFiltering="false" ShowFilterIcon="false" Visible="false">
                                                                                                            <ItemTemplate>
                                                                                                                <asp:Label ID="lblId" runat="server" Text='<%# Eval("ID") %>'></asp:Label>
                                                                                                            </ItemTemplate>
                                                                                                        </telerik:GridTemplateColumn>
                                                                                                        <telerik:GridTemplateColumn DataField="ID"
                                                                                                            UniqueName="ID"
                                                                                                            SortExpression="ID"
                                                                                                            AutoPostBackOnFilter="true"
                                                                                                            AllowFiltering="true"
                                                                                                            DataType="System.String"
                                                                                                            CurrentFilterFunction="Contains" HeaderText="Estimate#" HeaderStyle-Width="90" ShowFilterIcon="false">
                                                                                                            <ItemTemplate>
                                                                                                                <a href="addestimate.aspx?uid=<%# Eval("ID") %>" style="color: #3175af; text-decoration: none;"><%# Eval("ID") %></a>
                                                                                                            </ItemTemplate>
                                                                                                            <FooterTemplate>
                                                                                                                <asp:Label runat="server" Text="Total :-"></asp:Label>
                                                                                                            </FooterTemplate>
                                                                                                        </telerik:GridTemplateColumn>
                                                                                                        <telerik:GridBoundColumn DataField="Category" HeaderText="Category" SortExpression="Category"
                                                                                                            AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" HeaderStyle-Width="120">
                                                                                                        </telerik:GridBoundColumn>
                                                                                                        <telerik:GridBoundColumn DataField="AssignTo" HeaderText="AssignTo" SortExpression="AssignTo"
                                                                                                            AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" HeaderStyle-Width="150">
                                                                                                        </telerik:GridBoundColumn>
                                                                                                        <telerik:GridTemplateColumn DataField="ffor" HeaderText="Type" SortExpression="ffor"
                                                                                                            AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" HeaderStyle-Width="100"
                                                                                                            ShowFilterIcon="false"
                                                                                                            UniqueName="ffor">
                                                                                                            <ItemTemplate>
                                                                                                                <asp:Label ID="lblType" runat="server" Text='<%# Convert.ToString(Eval("ffor"))=="ACCOUNT"?"Existing":"Lead" %>'></asp:Label>
                                                                                                            </ItemTemplate>
                                                                                                        </telerik:GridTemplateColumn>
                                                                                                        <telerik:GridBoundColumn DataField="Contact" HeaderText="Contact" SortExpression="Contact" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains"
                                                                                                            ShowFilterIcon="false" HeaderStyle-Width="180">
                                                                                                        </telerik:GridBoundColumn>
                                                                                                        <telerik:GridBoundColumn DataField="fdesc" HeaderText="Desc" SortExpression="fdesc" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains"
                                                                                                            ShowFilterIcon="false" HeaderStyle-Width="200">
                                                                                                        </telerik:GridBoundColumn>
                                                                                                        <telerik:GridTemplateColumn DataField="fDate" SortExpression="fDate" AutoPostBackOnFilter="false" DataType="System.String"
                                                                                                            CurrentFilterFunction="Contains" HeaderText="Date" ShowFilterIcon="false" HeaderStyle-Width="100" AllowFiltering="false"
                                                                                                            UniqueName="fDate">
                                                                                                            <ItemTemplate>
                                                                                                                <asp:Label ID="lblDate" runat="server" Text='<%# (String.IsNullOrEmpty(Eval("fDate").ToString())) ? "" : Eval("fDate", "{0:M/d/yyyy}") %>'></asp:Label>
                                                                                                            </ItemTemplate>
                                                                                                        </telerik:GridTemplateColumn>
                                                                                                        <telerik:GridTemplateColumn DataField="Opportunity" HeaderText="Opportunity#" SortExpression="Opportunity" HeaderStyle-Width="120" DataType="System.String"
                                                                                                            AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false"
                                                                                                            UniqueName="Opportunity">
                                                                                                            <ItemTemplate>
                                                                                                                <a href="addopprt.aspx?uid=<%# Eval("Opportunity") %>" style="color: #3175af; text-decoration: none;"><%# Eval("Opportunity") %></a>
                                                                                                            </ItemTemplate>
                                                                                                        </telerik:GridTemplateColumn>
                                                                                                        <telerik:GridTemplateColumn DataField="job" HeaderText="Project#" SortExpression="job" DataType="System.String"
                                                                                                            AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" HeaderStyle-Width="110"
                                                                                                            UniqueName="job">
                                                                                                            <ItemTemplate>
                                                                                                                <a href="addproject.aspx?uid=<%# Eval("job") %>" style="color: #3175af; text-decoration: none;"><%# Eval("job") %></a>
                                                                                                            </ItemTemplate>
                                                                                                        </telerik:GridTemplateColumn>
                                                                                                        <telerik:GridBoundColumn DataField="status" HeaderText="Status" SortExpression="status" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains"
                                                                                                            ShowFilterIcon="false" HeaderStyle-Width="80">
                                                                                                        </telerik:GridBoundColumn>
                                                                                                        <telerik:GridTemplateColumn HeaderStyle-Width="100" DataField="EstimatePrice" FooterAggregateFormatString="{0:c}"
                                                                                                            Aggregate="Sum" SortExpression="EstimatePrice" AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo"
                                                                                                            HeaderText="Bid Price" ShowFilterIcon="false" UniqueName="EstimatePrice">
                                                                                                            <ItemTemplate>
                                                                                                                <asp:Label ID="lblEstimatePrice" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "EstimatePrice", "{0:c}") %>'></asp:Label>
                                                                                                            </ItemTemplate>
                                                                                                        </telerik:GridTemplateColumn>
                                                                                                        <telerik:GridTemplateColumn HeaderStyle-Width="100" DataField="QuotedPrice"
                                                                                                            FooterAggregateFormatString="{0:c}" Aggregate="Sum" SortExpression="QuotedPrice"
                                                                                                            AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo" HeaderText="Final Bid Price" ShowFilterIcon="false"
                                                                                                            UniqueName="QuotedPrice">
                                                                                                            <ItemTemplate>
                                                                                                                <asp:Label ID="lblQuotedPrice" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "QuotedPrice", "{0:c}") %>'></asp:Label>
                                                                                                            </ItemTemplate>
                                                                                                        </telerik:GridTemplateColumn>
                                                                                                        <telerik:GridBoundColumn DataField="OpportunityStage" HeaderText="Opportunity Stage" SortExpression="OpportunityStage" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains"
                                                                                                            ShowFilterIcon="false" HeaderStyle-Width="130">
                                                                                                        </telerik:GridBoundColumn>
                                                                                                        <telerik:GridBoundColumn DataField="Discounted" HeaderText="Discounted" SortExpression="Discounted" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains"
                                                                                                            ShowFilterIcon="false" HeaderStyle-Width="130">
                                                                                                        </telerik:GridBoundColumn>
                                                                                                    </Columns>
                                                                                                </MasterTableView>
                                                                                                <%--<FilterMenu CssClass="RadFilterMenu_CheckList">
                                                                                                </FilterMenu>--%>
                                                                                            </telerik:RadGrid>
                                                                                        </telerik:RadAjaxPanel>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div style="clear: both;"></div>
                                                            </div>
                                                            <div style="clear: both;"></div>
                                                        </li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="form-section-row">
                                            <div class="col s12 m12 l12">
                                                <div class="row">
                                                    <ul class="collapsible popout collapsible-accordion form-accordion-head" data-collapsible="expandable">
                                                        <li style="margin-bottom: 5px">
                                                            <div id="accrdSummary" class="collapsible-header accrd  accordian-text-custom  active"><i class="mdi-action-perm-data-setting"></i>Summary</div>
                                                            <div class="collapsible-body" style="padding: 10px;">
                                                                <div class="form-content-wrap">
                                                                    <div class="form-content-pd">
                                                                        <div class="form-section-row">
                                                                            <div class="section-ttle">Summary</div>
                                                                            <div class="grid_container">
                                                                                <div class="RadGrid RadGrid_Material">

                                                                                    <telerik:RadAjaxPanel ID="RadAjaxPanel20" runat="server" LoadingPanelID="RadAjaxLoadingPanel_gvBOM" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">

                                                                                        <telerik:RadGrid RenderMode="Auto" ID="gvBudgetGrid" runat="server" AllowFilteringByColumn="true" AutoGenerateColumns="False"
                                                                                            PageSize="20" ShowFooter="false">
                                                                                            <CommandItemStyle />
                                                                                            <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false" AllowGroupExpandCollapse="false">
                                                                                                <Scrolling AllowScroll="false" SaveScrollPosition="true" UseStaticHeaders="true" FrozenColumnsCount="2" />
                                                                                            </ClientSettings>
                                                                                            <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="false" ShowFooter="true" AllowPaging="false">
                                                                                                <Columns>
                                                                                                    <telerik:GridTemplateColumn HeaderText=" " ItemStyle-Width="7%">
                                                                                                        <ItemTemplate>
                                                                                                            <asp:Label ID="lblHeader" runat="server" Text='<%# Eval("Header") %>'></asp:Label>
                                                                                                        </ItemTemplate>
                                                                                                        <FooterTemplate>
                                                                                                            <asp:Label ID="lblHeaderFooter" runat="server" Text="Variance"></asp:Label>
                                                                                                        </FooterTemplate>
                                                                                                    </telerik:GridTemplateColumn>
                                                                                                    <telerik:GridTemplateColumn HeaderText="Revenue" ItemStyle-Width="7%" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right">
                                                                                                        <ItemTemplate>
                                                                                                             <a style="text-decoration: none" href="javascript:void(0);" onclick="ShowProjectBudgetSummaryDetailPopup(<%#Request.QueryString["uid"] %>,'Revenue','0', <%#Eval("Rev") %> ,'<%# Eval("Header") %>' )">

                                                                                                            <asp:Label ID="lblRev" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "Rev", "{0:c}")%>'
                                                                                                                ForeColor='<%# Convert.ToDouble(Eval("Rev"))>=0?System.Drawing.Color.Black:System.Drawing.Color.Red %>'></asp:Label>
                                                                                                                 </a>
                                                                                                        </ItemTemplate>
                                                                                                        <FooterTemplate>
                                                                                                            <asp:Label ID="lblRevFooter" runat="server"></asp:Label>
                                                                                                        </FooterTemplate>
                                                                                                    </telerik:GridTemplateColumn>
                                                                                                    <telerik:GridTemplateColumn HeaderText="Labor Expense" ItemStyle-Width="7%" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right">
                                                                                                        <ItemTemplate>

                                                                                                              <a style="text-decoration: none" href="javascript:void(0);" onclick="ShowProjectBudgetSummaryDetailPopup(<%#Request.QueryString["uid"] %>,'LaborExpense','0', <%#Eval("Labor") %> , '<%# Eval("Header") %>' )">
                                                                                                            <asp:Label ID="lblLaborExp" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "Labor", "{0:c}")%>'
                                                                                                                ForeColor='<%# Convert.ToDouble(Eval("Labor"))>=0?System.Drawing.Color.Black:System.Drawing.Color.Red %>'></asp:Label>
                                                                                                                </a>

                                                                             
                                                                                                                                    
                                                                                                        </ItemTemplate>
                                                                                                        <FooterTemplate>
                                                                                                            <asp:Label ID="lblLaborExpFooter" runat="server"></asp:Label>
                                                                                                        </FooterTemplate>
                                                                                                    </telerik:GridTemplateColumn>
                                                                                                    <telerik:GridTemplateColumn HeaderText="Material Expense" ItemStyle-Width="7%" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right">
                                                                                                        <ItemTemplate>


                                                                                                              <a style="text-decoration: none" href="javascript:void(0);" onclick="ShowProjectBudgetSummaryDetailPopup(<%#Request.QueryString["uid"] %>,'MaterialExpense','0', <%#Eval("Mat") %> , '<%# Eval("Header") %>')">
                                                                                                            <asp:Label ID="lblMatExp" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "Mat", "{0:c}")%>'
                                                                                                                ForeColor='<%# Convert.ToDouble(Eval("Mat"))>=0?System.Drawing.Color.Black:System.Drawing.Color.Red %>'></asp:Label>
                                                                                                                  </a>
                                                                                                        </ItemTemplate>
                                                                                                        <FooterTemplate>
                                                                                                            <asp:Label ID="lblMatExpFooter" runat="server"></asp:Label>
                                                                                                        </FooterTemplate>
                                                                                                    </telerik:GridTemplateColumn>
                                                                                                    <telerik:GridTemplateColumn HeaderText="Other Expense" ItemStyle-Width="7%" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right">
                                                                                                        <ItemTemplate>

                                                                                                             <a style="text-decoration: none" href="javascript:void(0);" onclick="ShowProjectBudgetSummaryDetailPopup(<%#Request.QueryString["uid"] %>,'OtherExpense','0', <%#Eval("Mat") %> , '<%# Eval("Header") %>' )">

                                                                                                            <asp:Label ID="lblOtherExp" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "OtherExp", "{0:c}")%>'
                                                                                                                ForeColor='<%# Convert.ToDouble(Eval("OtherExp"))>=0?System.Drawing.Color.Black:System.Drawing.Color.Red %>'></asp:Label>

                                                                                                                 </a>
                                                                                                        </ItemTemplate>
                                                                                                        <FooterTemplate>
                                                                                                            <asp:Label ID="lblOtherExpFooter" runat="server"></asp:Label>
                                                                                                        </FooterTemplate>
                                                                                                    </telerik:GridTemplateColumn>
                                                                                                    <telerik:GridTemplateColumn HeaderText="Total Expense" ItemStyle-Width="7%" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right">
                                                                                                        <ItemTemplate>
                                                                                                            <asp:Label ID="lblCost" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "Cost", "{0:c}")%>'
                                                                                                                ForeColor='<%# Convert.ToDouble(Eval("Cost"))>=0?System.Drawing.Color.Black:System.Drawing.Color.Red %>'></asp:Label>
                                                                                                        </ItemTemplate>
                                                                                                        <FooterTemplate>
                                                                                                            <asp:Label ID="lblCostFooter" runat="server"></asp:Label>
                                                                                                        </FooterTemplate>
                                                                                                    </telerik:GridTemplateColumn>
                                                                                                    <telerik:GridTemplateColumn HeaderText="Profit" ItemStyle-Width="7%" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right">
                                                                                                        <ItemTemplate>
                                                                                                            <asp:Label ID="lblProfit" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "Profit", "{0:c}")%>'
                                                                                                                ForeColor='<%# Convert.ToDouble(Eval("Profit"))>=0?System.Drawing.Color.Black:System.Drawing.Color.Red %>'></asp:Label>
                                                                                                        </ItemTemplate>
                                                                                                        <FooterTemplate>
                                                                                                            <asp:Label ID="lblProfitFooter" runat="server"></asp:Label>
                                                                                                        </FooterTemplate>
                                                                                                    </telerik:GridTemplateColumn>
                                                                                                    <telerik:GridTemplateColumn HeaderText="% in Profit" ItemStyle-Width="7%" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right">
                                                                                                        <ItemTemplate>
                                                                                                            <asp:Label ID="lblRatio" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "Ratio", "{0:n}")%>'
                                                                                                                ForeColor='<%# Convert.ToDouble(Eval("Ratio"))>=0?System.Drawing.Color.Black:System.Drawing.Color.Red %>'></asp:Label>
                                                                                                        </ItemTemplate>
                                                                                                        <FooterTemplate>
                                                                                                            <asp:Label ID="lblRatioFooter" runat="server"></asp:Label>
                                                                                                        </FooterTemplate>
                                                                                                    </telerik:GridTemplateColumn>
                                                                                                    <telerik:GridTemplateColumn HeaderText="Hours" ItemStyle-Width="7%" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right">
                                                                                                        <ItemTemplate>
                                                                                                            <asp:Label ID="lblHours" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "Hour", "{0:n}")%>'
                                                                                                                ForeColor='<%# Convert.ToDouble(Eval("Hour"))>=0?System.Drawing.Color.Black:System.Drawing.Color.Red %>'></asp:Label>
                                                                                                        </ItemTemplate>
                                                                                                        <FooterTemplate>
                                                                                                            <asp:Label ID="lblHoursFooter" runat="server"></asp:Label>
                                                                                                        </FooterTemplate>
                                                                                                    </telerik:GridTemplateColumn>
                                                                                                    <telerik:GridTemplateColumn HeaderText="Total On Order" ItemStyle-Width="7%" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right">
                                                                                                        <ItemTemplate>
                                                                                                            <asp:Label ID="lblOnOrder" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "OnOrder", "{0:c}")%>'
                                                                                                                ForeColor='<%# Convert.ToDouble(Eval("OnOrder"))>=0?System.Drawing.Color.Black:System.Drawing.Color.Red %>'></asp:Label>
                                                                                                        </ItemTemplate>
                                                                                                        <FooterTemplate>
                                                                                                            <asp:Label ID="lblOnOrderFooter" runat="server"></asp:Label>
                                                                                                        </FooterTemplate>
                                                                                                    </telerik:GridTemplateColumn>
                                                                                                    <telerik:GridTemplateColumn HeaderText="Receive PO" ItemStyle-Width="7%" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right">
                                                                                                        <ItemTemplate>
                                                                                                            <asp:Label ID="lblReceivePO" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "ReceivePO", "{0:c}")%>'
                                                                                                                ForeColor='<%# Convert.ToDouble(Eval("ReceivePO"))>=0?System.Drawing.Color.Black:System.Drawing.Color.Red %>'></asp:Label>
                                                                                                        </ItemTemplate>
                                                                                                        <FooterTemplate>
                                                                                                            <asp:Label ID="lblReceivePOFooter" runat="server"></asp:Label>
                                                                                                        </FooterTemplate>
                                                                                                    </telerik:GridTemplateColumn>
                                                                                                </Columns>
                                                                                            </MasterTableView>
                                                                                        </telerik:RadGrid>

                                                                                    </telerik:RadAjaxPanel>

                                                                                </div>
                                                                            </div>
                                                                            <div class="cf"></div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div style="clear: both;"></div>
                                                            </div>
                                                            <div style="clear: both;"></div>
                                                        </li>
                                                        <li style="margin-bottom: 5px">
                                                            <div id="accrdHeaderCustom" class="collapsible-header accrd  accordian-text-custom "><i class="mdi-action-perm-data-setting"></i>Header Workflow</div>
                                                            <div class="collapsible-body" style="padding: 10px;">
                                                                <div class="form-content-wrap">
                                                                    <div class="form-content-pd">
                                                                        <div class="form-section-row">

                                                                            <div class="col s12 m12 l12">
                                                                                <div class="row">
                                                                                    <asp:HiddenField ID="hdnLineOpenned" runat="server" />
                                                                                    <asp:HiddenField ID="hdnOrgMemberKey" runat="server" />
                                                                                    <asp:HiddenField ID="hdnOrgMemberDisp" runat="server" />
                                                                                    <asp:HiddenField ID="hdnOrgUserRoleID" runat="server" />
                                                                                    <asp:HiddenField ID="hdnOrgUserRoleDisp" runat="server" />
                                                                                    <asp:Panel ID="pnlCustomHeader" runat="server">
                                                                                        <div class="grid_container" style="margin-bottom: 0 !important;">
                                                                                            <div class="RadGrid RadGrid_Material FormGrid gridHeaderCustom">
                                                                                                <telerik:RadAjaxPanel ID="RadAjaxPanel1" runat="server" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">
                                                                                                    <telerik:RadGrid RenderMode="Auto" ID="RadGrid_CustomHeader" ShowFooter="false" PageSize="50"
                                                                                                        PagerStyle-AlwaysVisible="false" OnItemDataBound="RadGrid_Custom_ItemDataBound" OnItemCommand="RadGrid_CustomHeader_ItemCommand"
                                                                                                        ShowStatusBar="true" runat="server" AllowPaging="True" Width="100%" AllowCustomPaging="false">
                                                                                                        <CommandItemStyle />
                                                                                                        <GroupingSettings CaseSensitive="false" />
                                                                                                        <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false">
                                                                                                            <Selecting AllowRowSelect="false"></Selecting>
                                                                                                            <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                                                                                            <Resizing AllowColumnResize="true" ResizeGridOnColumnResize="true"></Resizing>
                                                                                                        </ClientSettings>
                                                                                                        <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="false" ShowFooter="True">
                                                                                                            <Columns>

                                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="10" AllowFiltering="false" ItemStyle-Width="0.5%" FooterStyle-Width="0.5%">

                                                                                                                    <ItemTemplate>
                                                                                                                        <%--<asp:HiddenField ID="txtOrderNo" Value='<%# Eval("OrderNo") %>' runat="server"></asp:HiddenField>--%>
                                                                                                                        <asp:Label ID="lblIndex" Visible="true" runat="server" Text="<%# Container.ItemIndex +1 %>"></asp:Label>
                                                                                                                        <asp:Label ID="lblID" runat="server" Text='<%# Eval("ID") %>' Style="display: none;"></asp:Label>
                                                                                                                        <asp:Label ID="lblLine" runat="server" Text='<%# Eval("Line") %>' Style="display: none;" class="customline"></asp:Label>
                                                                                                                        <asp:Label ID="lblFormat" runat="server" Text='<%# Eval("Format") %>' Visible="false"></asp:Label>
                                                                                                                        <asp:Label ID="lblCustom" runat="server" Text='<%# Eval("Label") %>' Style="display: none;"></asp:Label>
                                                                                                                    </ItemTemplate>

                                                                                                                </telerik:GridTemplateColumn>

                                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Name" HeaderStyle-CssClass="itemHeader">
                                                                                                                    <ItemTemplate>
                                                                                                                        <div style="text-align: left">
                                                                                                                            <asp:HiddenField ID="hdnTestItemValueID" Value='' runat="server"></asp:HiddenField>
                                                                                                                            <asp:Panel ID="divFormatText" runat="server" Visible="false">
                                                                                                                                <label class="fontHeader" for="txtFormatText"><%# Eval("Label") %></label>
                                                                                                                                <asp:TextBox ID="txtFormatText" runat="server" Text='' MaxLength="255"></asp:TextBox>
                                                                                                                            </asp:Panel>

                                                                                                                            <asp:Panel ID="divFormatDrop" runat="server" Visible="false">
                                                                                                                                <label class="fontHeader" for="drpdwnCustom"><%# Eval("Label") %></label>
                                                                                                                                <asp:DropDownList ID="drpdwnCustom" runat="server" CssClass="browser-default fontHeader">
                                                                                                                                </asp:DropDownList>
                                                                                                                            </asp:Panel>
                                                                                                                            <asp:Panel ID="divFormatCurrent" runat="server" Visible="false">
                                                                                                                                <label class="fontHeader" for="txtFormatCurrent"><%# Eval("Label") %></label>
                                                                                                                                <asp:TextBox ID="txtFormatCurrent" runat="server" Text=''
                                                                                                                                    CssClass="custom currency"></asp:TextBox>
                                                                                                                            </asp:Panel>
                                                                                                                            <asp:Panel ID="divFormatDate" runat="server" Visible="false">
                                                                                                                                <label class="fontHeader" for="txtFormatDate"><%# Eval("Label") %></label>
                                                                                                                                <asp:TextBox ID="txtFormatDate" runat="server" Text=''
                                                                                                                                    CssClass="custom datepicker_mom"></asp:TextBox>
                                                                                                                            </asp:Panel>
                                                                                                                            <asp:Panel ID="divFormatCheckbox" runat="server" Visible="false">

                                                                                                                                <asp:CheckBox ID="chkCustomFormat" runat="server" Text='&nbsp'
                                                                                                                                    onClick="javascript:void(0)"></asp:CheckBox>
                                                                                                                                <label class="fontHeader" for="chkCustomFormat"><%# Eval("Label") %></label>
                                                                                                                            </asp:Panel>
                                                                                                                            <asp:Panel ID="divFormatNotes" runat="server" Visible="false">
                                                                                                                                <label class="fontHeader" for="txtFormatNotes"><%# Eval("Label") %></label>
                                                                                                                                <asp:TextBox ID="txtFormatNotes" runat="server" Text='' MaxLength="255" TextMode="MultiLine"
                                                                                                                                    Style="padding: 0.4rem 0 !important" CssClass="materialize-textarea textarea-border1">
                                                                                                                                </asp:TextBox>
                                                                                                                            </asp:Panel>
                                                                                                                            <asp:Panel ID="divFormatChkWithComment" runat="server" Visible="false">
                                                                                                                                <asp:CheckBox ID="chkWithComment" runat="server" Text='&nbsp'></asp:CheckBox>
                                                                                                                                <label class="fontHeader" for="chkWithComment"><%# Eval("Label") %></label>
                                                                                                                                <asp:TextBox ID="txtChkComment" placeholder="Checkbox comment" runat="server" Text='' MaxLength="255"></asp:TextBox>

                                                                                                                            </asp:Panel>
                                                                                                                        </div>

                                                                                                                    </ItemTemplate>
                                                                                                                    <FooterStyle VerticalAlign="Middle" />

                                                                                                                </telerik:GridTemplateColumn>

                                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="20" AllowFiltering="false" HeaderText="Alert " HeaderStyle-CssClass="itemHeader">
                                                                                                                    <ItemTemplate>
                                                                                                                        <asp:CheckBox ID="chkSelectAlert" CssClass="css-checkbox" Text=" " runat="server" />
                                                                                                                    </ItemTemplate>
                                                                                                                    <FooterStyle VerticalAlign="Middle" />

                                                                                                                </telerik:GridTemplateColumn>
                                                                                                                <%--<telerik:GridTemplateColumn HeaderStyle-Width="20" AllowFiltering="false" HeaderText="Task " HeaderStyle-CssClass="itemHeader">
                                                                                                                    <ItemTemplate>
                                                                                                                        <asp:CheckBox ID="chkSelectTask" CssClass="css-checkbox" Text=" " runat="server" />
                                                                                                                    </ItemTemplate>
                                                                                                                    <FooterStyle VerticalAlign="Middle" />

                                                                                                                </telerik:GridTemplateColumn>
                                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false"  HeaderText="User Role" HeaderStyle-CssClass="itemHeader">
                                                                                                                    <ItemTemplate>
                                                                                                                        <div class="tag-div materialize-textarea textarea-border" id="cusLabelTagUR" style="text-align: left !important; cursor: pointer;" onclick="ShowUserRoleWindow(this);" runat="server"></div>
                                                                                                                        <asp:HiddenField ID="hdnUserRoles" runat="server" Value='<%# Eval("UserRole") %>' />
                                                                                                                        <asp:TextBox ID="txtUserRoles" class='<%# "txtUserRoles_" + Eval("Line") %>' runat="server" Style='min-width: 100px !important; display: none;'
                                                                                                                            Text='<%# Eval("UserRoleDisplay") %>'></asp:TextBox>
                                                                                                                    </ItemTemplate>
                                                                                                                    <FooterStyle VerticalAlign="Middle" />
                                                                                                                </telerik:GridTemplateColumn>--%>
                                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Team Member" HeaderStyle-CssClass="itemHeader">

                                                                                                                    <ItemTemplate>
                                                                                                                        <div class="tag-div materialize-textarea textarea-border" id="cusLabelTag" style="text-align: left !important; cursor: pointer;" onclick="ShowTeamMemberWindow(this);" runat="server"></div>
                                                                                                                        <asp:HiddenField ID="hdnMembers" runat="server" Value='<%# Eval("TeamMember") %>' />
                                                                                                                        <asp:TextBox ID="txtMembers" class='<%# "txtMembers_" + Eval("Line") %>' runat="server" Style='min-width: 100px !important; display: none;'
                                                                                                                            Text='<%# Eval("TeamMemberDisplay") %>'></asp:TextBox>
                                                                                                                    </ItemTemplate>

                                                                                                                </telerik:GridTemplateColumn>

                                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated By" HeaderStyle-CssClass="itemHeader">
                                                                                                                    <ItemTemplate>
                                                                                                                        <%--<asp:Label ID="lbUpdatedBy" runat="server"><%# Eval("Username") %></asp:Label>--%>
                                                                                                                        <asp:Label ID="lbUpdatedBy" runat="server" Text='<%# Eval("Username") %>'></asp:Label>
                                                                                                                    </ItemTemplate>


                                                                                                                </telerik:GridTemplateColumn>
                                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated Date" HeaderStyle-CssClass="itemHeader">
                                                                                                                    <ItemTemplate>
                                                                                                                        <asp:Label ID="lbUpdatedDate" runat="server"><%# Eval("UpdatedDate", "{0:MM/dd/yyyy HH:mm tt}") %></asp:Label>
                                                                                                                    </ItemTemplate>
                                                                                                                </telerik:GridTemplateColumn>
                                                                                                            </Columns>
                                                                                                        </MasterTableView>
                                                                                                    </telerik:RadGrid>
                                                                                                </telerik:RadAjaxPanel>

                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="cf"></div>
                                                                                    </asp:Panel>
                                                                                    <div style="clear: both;"></div>
                                                                                </div>
                                                                                <div class="cf"></div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div style="clear: both;"></div>
                                                            </div>
                                                            <div style="clear: both;"></div>
                                                        </li>

                                                    </ul>
                                                </div>
                                            </div>

                                            <div class="cf"></div>
                                        </div>
                                    </div>
                                    <div class="form-section-row">
                                        <div class="col s12 m12 l12">
                                            <ul class="tabs tab-demo-active white" style="width: 100%;" id="abc">
                                                <li runat="server" id="liaccrdAttributes" class="tab col s2"><a id="a_attributes" class="waves-effect waves-light prodept" href="#tbpnlAttri">Attributes</a></li>
                                                <li runat="server" id="liaccrdFinance" class="tab col s2"><a class="waves-effect waves-light prodept" href="#tbpnlFinance">Finance</a></li>
                                                <li runat="server" id="liaccrdTicket" class="tab col s2"><a class="waves-effect waves-light prodept" href="#tbpnlTicket" onclick="LoadTicket()">Tickets</a></li>
                                                <li runat="server" id="liaccrdTicketTask" class="tab col s2"><a class="waves-effect waves-light prodept" href="#tbpnlTicketTask">Tickets Task</a></li>
                                                <li runat="server" id="liaccrdBOM" class="tab col s2"><a class="waves-effect waves-light prodept" href="#tbpnlBom" onclick="LoadGvBom();">BOM</a></li>
                                                <li runat="server" id="liaccrdMilestone" class="tab col s2"><a class="waves-effect waves-light prodept" href="#tbpnMilestone">Billing</a></li>
                                                <li runat="server" id="liaccrdDocument" class="tab col s2"><a class="waves-effect waves-light prodept" href="#tbpnAttachment" onclick="ShowDocument()">Documents</a>  </li>
                                                <li runat="server" id="liaccrdContacts" class="tab col s2"><a class="waves-effect waves-light prodept" href="#tbpnContact" onclick="loadcontact();">Contacts</a></li>
                                                <li runat="server" id="liaccrdPlanner" class="tab col s2"><a class="waves-effect waves-light prodept" href="#tbpnPlanner">Planner</a></li>
                                                <li runat="server" id="liaccrdTasks" class="tab col s2"><a class="waves-effect waves-light prodept" href="#tbpnTasks">Tasks</a></li>
                                                <li runat="server" id="liaccrdNotes" class="tab col s2"><a class="waves-effect waves-light prodept" href="#tblpnNotes">Custom</a></li>
                                            </ul>
                                        </div>
                                        <div class="col s12 m12">
                                            <div id="tbpnlAttri" class="  tab-container-border lighten-4" style="display: block;">
                                                <div class="form-content-wrap">
                                                    <div class="tabs-custom-mgn1" style="padding-top: 20px;">
                                                        <div class="form-section-row">
                                                            <div class="row">
                                                                <div>

                                                                    <div class=" " style="margin-top: -10px;">
                                                                        <div class="row">

                                                                            <div class="  tabdiv">
                                                                                <ul class="tabs tab-demo-active white subTab" style="width: 100%; z-index: 0;">
                                                                                    <li class="tab col s2">
                                                                                        <a class="white-text waves-effect waves-light active" href="#tbpnlGeneral">General</a>
                                                                                    </li>
                                                                                    <li class="tab col s2" runat="server" id="liTeam">
                                                                                        <a class="white-text waves-effect waves-light" href="#tbpnlTeam">Team</a>
                                                                                    </li>
                                                                                    <li class="tab col s2" runat="server" id="liGC">
                                                                                        <a class="white-text waves-effect waves-light" href="#tbpnlGCInfo">GC Information</a>
                                                                                    </li>
                                                                                    <li class="tab col s2" runat="server" id="liHomeowner">
                                                                                        <a class="white-text waves-effect waves-light" href="#tbpnlHomeowner">Homeowner</a>
                                                                                    </li>
                                                                                    <li class="tab col s2" runat="server" id="liEquipment">
                                                                                        <a class="white-text waves-effect waves-light" href="#tbpnlEquipment" onclick="loadEquipment();">Equipment</a>
                                                                                    </li>
                                                                                    <li class="tab col s2">
                                                                                        <a class="white-text waves-effect waves-light" href="#TabPanel1">Notes</a>
                                                                                    </li>
                                                                                </ul>
                                                                            </div>


                                                                            <div id="tbpnlGeneral" class="col s12 tab-container-border lighten-4" style="display: block;">
                                                                                <div class="tabs-custom-mgn1">
                                                                                    <div class="form-section-row">
                                                                                        <div class="section-ttle">General</div>
                                                                                        <div class="form-section3">
                                                                                            <div class="input-field col s12">
                                                                                                <div class="row">
                                                                                                    <label for="txtProjCreationDate">Project Creation Date</label>
                                                                                                    <asp:TextBox ID="txtProjCreationDate" runat="server"></asp:TextBox>
                                                                                                    <asp:CalendarExtender ID="txtProjCreationDate_CalendarExtender" runat="server" Enabled="True"
                                                                                                        TargetControlID="txtProjCreationDate">
                                                                                                    </asp:CalendarExtender>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="input-field col s12">
                                                                                                <div class="row">
                                                                                                    <label for="txtPO">PO#</label>
                                                                                                    <asp:TextBox ID="txtPO" runat="server" CssClass=""></asp:TextBox>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="input-field col s12">
                                                                                                <div class="row">
                                                                                                    <label for="txtSalesOrder">Sales Order #</label>
                                                                                                    <asp:TextBox ID="txtSalesOrder" runat="server" CssClass=""></asp:TextBox>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="form-section3-blank">
                                                                                            &nbsp;
                                                                                        </div>
                                                                                        <div class="form-section3">
                                                                                            <label class="drpdwn-label">Attach PO</label>
                                                                                            <div class="input-field col s12">
                                                                                                <div class="row">
                                                                                                    <div class="fc-input" style="padding-top: 5px;">
                                                                                                        <asp:FileUpload ID="fuAttachPO" runat="server" class="dropify" onchange="AddPOClick(this);" />
                                                                                                        <asp:LinkButton ID="lnkUploadDoc" runat="server" CausesValidation="False" OnClick="lnkUploadDoc_Click"
                                                                                                            Style="display: none">Upload</asp:LinkButton>
                                                                                                        <asp:LinkButton ID="lnkPostback" runat="server"
                                                                                                            CausesValidation="False" Style="display: none">Postback</asp:LinkButton>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="form-section3-blank">
                                                                                            &nbsp;
                                                                                        </div>
                                                                                        <div class="form-section3">
                                                                                            <div class="input-field col s12">
                                                                                                <div class="row">
                                                                                                    <label id="lblCustom1" runat="server" for="txtCustom1">Custom 1</label>

                                                                                                    <asp:TextBox ID="txtCustom1" runat="server" CssClass=""></asp:TextBox>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="input-field col s12">
                                                                                                <div class="row">
                                                                                                    <label id="lblCustom2" runat="server" for="txtCustom2">Custom 2</label>

                                                                                                    <asp:TextBox ID="txtCustom2" runat="server" CssClass=""></asp:TextBox>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="input-field col s12">
                                                                                                <div class="row">
                                                                                                    <label id="lblCustom3" runat="server" for="txtCustom3">Custom 3</label>
                                                                                                    <asp:TextBox ID="txtCustom3" runat="server"></asp:TextBox>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="input-field col s12">
                                                                                                <div class="row">
                                                                                                    <label id="lblCustom4" runat="server" for="txtCustom4">Custom 4</label>
                                                                                                    <asp:TextBox ID="txtCustom4" runat="server"></asp:TextBox>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="input-field col s12">
                                                                                                <div class="row">
                                                                                                    <label id="lblCustom5" runat="server" for="txtCustom5"  placeholder="Date">Custom 5</label>
                                                                                                    <asp:TextBox ID="txtCustom5" cssclass="srchcstm datepicker_mom" runat="server"></asp:TextBox>

                                                                                                    <asp:CompareValidator
                                                                                                        ID="dateValidator" runat="server"
                                                                                                        Type="Date"
                                                                                                        Operator="DataTypeCheck"
                                                                                                        ControlToValidate="txtCustom5"
                                                                                                        ErrorMessage="Please enter a valid date.">
                                                                                                    </asp:CompareValidator>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="cf"></div>
                                                                                    </div>
                                                                                    <div class="form-section-row">
                                                                                        <div class="section-ttle">Attributes General Workflow</div>
                                                                                        <div class="form-section12">
                                                                                            <%--<asp:UpdatePanel ID="UpdatePanel9" runat="server">
                                                                                                <ContentTemplate>
                                                                                                    <asp:PlaceHolder ID="PlaceHolderAttrGeneral" runat="server"></asp:PlaceHolder>

                                                                                                </ContentTemplate>
                                                                                            </asp:UpdatePanel>--%>
                                                                                            <asp:Panel ID="pnlCustomAttributesGeneral" runat="server">
                                                                                                <div class="grid_container" style="margin-bottom: 0 !important;">
                                                                                                    <div class="RadGrid RadGrid_Material FormGrid">
                                                                                                        <telerik:RadAjaxPanel ID="RadAjaxPanel3" runat="server" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">
                                                                                                            <telerik:RadGrid RenderMode="Auto" ID="RadGrid_CustomAttributesGeneral" ShowFooter="false" PageSize="50"
                                                                                                                PagerStyle-AlwaysVisible="false" OnItemDataBound="RadGrid_Custom_ItemDataBound" OnItemCommand="RadGrid_CustomAttributesGeneral_ItemCommand"
                                                                                                                ShowStatusBar="true" runat="server" AllowPaging="True" Width="100%" AllowCustomPaging="false">
                                                                                                                <CommandItemStyle />
                                                                                                                <GroupingSettings CaseSensitive="false" />
                                                                                                                <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false">
                                                                                                                    <Selecting AllowRowSelect="false"></Selecting>
                                                                                                                    <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                                                                                                    <Resizing AllowColumnResize="true" ResizeGridOnColumnResize="true"></Resizing>
                                                                                                                </ClientSettings>
                                                                                                                <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="false" ShowFooter="True">
                                                                                                                    <Columns>

                                                                                                                        <telerik:GridTemplateColumn HeaderStyle-Width="10" AllowFiltering="false" ItemStyle-Width="0.5%" FooterStyle-Width="0.5%">

                                                                                                                            <ItemTemplate>
                                                                                                                                <%--<asp:HiddenField ID="txtOrderNo" Value='<%# Eval("OrderNo") %>' runat="server"></asp:HiddenField>--%>
                                                                                                                                <asp:Label ID="lblIndex" Visible="true" runat="server" Text="<%# Container.ItemIndex +1 %>"></asp:Label>
                                                                                                                                <asp:Label ID="lblID" runat="server" Text='<%# Eval("ID") %>' Style="display: none;"></asp:Label>
                                                                                                                                <asp:Label ID="lblLine" runat="server" Text='<%# Eval("Line") %>' Style="display: none;" class="customline"></asp:Label>
                                                                                                                                <asp:Label ID="lblFormat" runat="server" Text='<%# Eval("Format") %>' Visible="false"></asp:Label>
                                                                                                                                <asp:Label ID="lblCustom" runat="server" Text='<%# Eval("Label") %>' Style="display: none;"></asp:Label>
                                                                                                                            </ItemTemplate>

                                                                                                                        </telerik:GridTemplateColumn>

                                                                                                                        <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Name" HeaderStyle-CssClass="itemHeader">
                                                                                                                            <ItemTemplate>
                                                                                                                                <div style="text-align: left">
                                                                                                                                    <asp:HiddenField ID="hdnTestItemValueID" Value='' runat="server"></asp:HiddenField>
                                                                                                                                    <asp:Panel ID="divFormatText" runat="server" Visible="false">
                                                                                                                                        <label class="fontHeader" for="txtFormatText"><%# Eval("Label") %></label>
                                                                                                                                        <asp:TextBox ID="txtFormatText" runat="server" Text='' MaxLength="255"></asp:TextBox>
                                                                                                                                    </asp:Panel>

                                                                                                                                    <asp:Panel ID="divFormatDrop" runat="server" Visible="false">
                                                                                                                                        <label class="fontHeader" for="drpdwnCustom"><%# Eval("Label") %></label>
                                                                                                                                        <asp:DropDownList ID="drpdwnCustom" runat="server" CssClass="browser-default fontHeader">
                                                                                                                                        </asp:DropDownList>
                                                                                                                                    </asp:Panel>
                                                                                                                                    <asp:Panel ID="divFormatCurrent" runat="server" Visible="false">
                                                                                                                                        <label class="fontHeader" for="txtFormatCurrent"><%# Eval("Label") %></label>
                                                                                                                                        <asp:TextBox ID="txtFormatCurrent" runat="server" Text=''
                                                                                                                                            CssClass="custom currency"></asp:TextBox>
                                                                                                                                    </asp:Panel>
                                                                                                                                    <asp:Panel ID="divFormatDate" runat="server" Visible="false">
                                                                                                                                        <label class="fontHeader" for="txtFormatDate"><%# Eval("Label") %></label>
                                                                                                                                        <asp:TextBox ID="txtFormatDate" runat="server" Text=''
                                                                                                                                            CssClass="custom datepicker_mom"></asp:TextBox>
                                                                                                                                    </asp:Panel>
                                                                                                                                    <asp:Panel ID="divFormatCheckbox" runat="server" Visible="false">

                                                                                                                                        <asp:CheckBox ID="chkCustomFormat" runat="server" Text='&nbsp'
                                                                                                                                            CssClass="css-checkbox custom"></asp:CheckBox>
                                                                                                                                        <label class="fontHeader" for="chkCustomFormat"><%# Eval("Label") %></label>
                                                                                                                                    </asp:Panel>
                                                                                                                                    <asp:Panel ID="divFormatNotes" runat="server" Visible="false">
                                                                                                                                        <label class="fontHeader" for="txtFormatNotes"><%# Eval("Label") %></label>
                                                                                                                                        <asp:TextBox ID="txtFormatNotes" runat="server" Text='' MaxLength="255" TextMode="MultiLine"
                                                                                                                                            Style="padding: 0.4rem 0 !important" CssClass="materialize-textarea textarea-border1">
                                                                                                                                        </asp:TextBox>
                                                                                                                                    </asp:Panel>
                                                                                                                                    <asp:Panel ID="divFormatChkWithComment" runat="server" Visible="false">
                                                                                                                                        <asp:CheckBox ID="chkWithComment" runat="server" Text='&nbsp'
                                                                                                                                            CssClass="css-checkbox custom"></asp:CheckBox>
                                                                                                                                        <label class="fontHeader" for="chkWithComment"><%# Eval("Label") %></label>
                                                                                                                                        <asp:TextBox ID="txtChkComment" placeholder="Checkbox comment" runat="server" Text='' MaxLength="255"></asp:TextBox>

                                                                                                                                    </asp:Panel>
                                                                                                                                </div>

                                                                                                                            </ItemTemplate>
                                                                                                                            <FooterStyle VerticalAlign="Middle" />

                                                                                                                        </telerik:GridTemplateColumn>

                                                                                                                        <telerik:GridTemplateColumn HeaderStyle-Width="20" AllowFiltering="false" HeaderText="Alert " HeaderStyle-CssClass="itemHeader">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:CheckBox ID="chkSelectAlert" CssClass="css-checkbox" Text=" " runat="server" />
                                                                                                                            </ItemTemplate>
                                                                                                                            <FooterStyle VerticalAlign="Middle" />

                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <%--<telerik:GridTemplateColumn HeaderStyle-Width="20" AllowFiltering="false" HeaderText="Task " HeaderStyle-CssClass="itemHeader">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:CheckBox ID="chkSelectTask" CssClass="css-checkbox" Text=" " runat="server" />
                                                                                                                            </ItemTemplate>
                                                                                                                            <FooterStyle VerticalAlign="Middle" />

                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false"  HeaderText="User Role" HeaderStyle-CssClass="itemHeader">
                                                                                                                            <ItemTemplate>
                                                                                                                                <div class="tag-div materialize-textarea textarea-border" id="cusLabelTagUR" style="text-align: left !important; cursor: pointer;" onclick="ShowUserRoleWindow(this);" runat="server"></div>
                                                                                                                                <asp:HiddenField ID="hdnUserRoles" runat="server" Value='<%# Eval("UserRole") %>' />
                                                                                                                                <asp:TextBox ID="txtUserRoles" class='<%# "txtUserRoles_" + Eval("Line") %>' runat="server" Style='min-width: 100px !important; display: none;'
                                                                                                                                    Text='<%# Eval("UserRoleDisplay") %>'></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                            <FooterStyle VerticalAlign="Middle" />
                                                                                                                        </telerik:GridTemplateColumn>--%>
                                                                                                                        <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Team Member" HeaderStyle-CssClass="itemHeader">

                                                                                                                            <ItemTemplate>
                                                                                                                                <div class="tag-div materialize-textarea textarea-border" id="cusLabelTag" style="text-align: left !important; cursor: pointer;" onclick="ShowTeamMemberWindow(this);" runat="server"></div>
                                                                                                                                <asp:HiddenField ID="hdnMembers" runat="server" Value='<%# Eval("TeamMember") %>' />
                                                                                                                                <asp:TextBox ID="txtMembers" class='<%# "txtMembers_" + Eval("Line") %>' runat="server" Style='min-width: 100px !important; display: none;'
                                                                                                                                    Text='<%# Eval("TeamMemberDisplay") %>'></asp:TextBox>
                                                                                                                            </ItemTemplate>

                                                                                                                        </telerik:GridTemplateColumn>

                                                                                                                        <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated By" HeaderStyle-CssClass="itemHeader">
                                                                                                                            <ItemTemplate>
                                                                                                                                <%--<asp:Label ID="lbUpdatedBy" runat="server"><%# Eval("Username") %></asp:Label>--%>
                                                                                                                                <asp:Label ID="lbUpdatedBy" runat="server" Text='<%# Eval("Username") %>'></asp:Label>
                                                                                                                            </ItemTemplate>


                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated Date" HeaderStyle-CssClass="itemHeader">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:Label ID="lbUpdatedDate" runat="server"><%# Eval("UpdatedDate") %></asp:Label>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                    </Columns>
                                                                                                                </MasterTableView>
                                                                                                            </telerik:RadGrid>
                                                                                                        </telerik:RadAjaxPanel>

                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="cf"></div>
                                                                                            </asp:Panel>
                                                                                            <div style="clear: both;"></div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>

                                                                            <div id="tbpnlTeam" class="col s12 tab-container-border lighten-4" style="display: none;">
                                                                                <div class="tabs-custom-mgn1">
                                                                                    <div class="form-section-row">
                                                                                        <asp:UpdatePanel ID="UpdatePanel4" runat="server">
                                                                                            <ContentTemplate>
                                                                                                <div class="section-ttle">Team List</div>
                                                                                                <div class="grid_container">
                                                                                                    <div class="RadGrid RadGrid_Material">
                                                                                                        <telerik:RadGrid RenderMode="Auto" AllowFilteringByColumn="true" ShowStatusBar="true" AllowPaging="True"
                                                                                                            ID="gvTeamItems" runat="server" AutoGenerateColumns="False" PagerStyle-AlwaysVisible="true"
                                                                                                            PageSize="20" ShowFooter="true" CssClass="BomGrid"
                                                                                                            OnItemCommand="gvTeamItems_RowCommand">
                                                                                                            <CommandItemStyle />
                                                                                                            <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false" AllowGroupExpandCollapse="false">
                                                                                                                <Scrolling AllowScroll="false" SaveScrollPosition="true" UseStaticHeaders="true" FrozenColumnsCount="2" />
                                                                                                                <Selecting AllowRowSelect="True"></Selecting>
                                                                                                            </ClientSettings>
                                                                                                            <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="false" HeaderStyle-CssClass="no-padding" ShowFooter="true" AllowPaging="false">
                                                                                                                <Columns>
                                                                                                                    <telerik:GridTemplateColumn ItemStyle-Width="0.5%">
                                                                                                                        <HeaderTemplate>
                                                                                                                            <a id="Button2" class="delButton" onclick="DelRow('<%#gvTeamItems.ClientID%>');"
                                                                                                                                style="cursor: pointer; font-size: 1.5em;">
                                                                                                                                <i class="mdi-navigation-cancel" style="color: #f00; font-size: 1.2em; font-weight: bold;"></i></a>
                                                                                                                        </HeaderTemplate>
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:CheckBox ID="chkTeamSelect" CssClass="css-checkbox chkSelect" Text=" " runat="server" />

                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterTemplate>
                                                                                                                            <asp:LinkButton ID="imgBtnAdd" runat="server" CommandName="AddTeam" CausesValidation="False" Style="color: #000; font-size: 1.7em; margin-left: -18px !important;"
                                                                                                                                CommandArgument="<%# ((GridFooterItem) Container).RowIndex %>" Width="20px" OnClientClick="itemJSON();">
                                                                                                                                <i class="mdi-content-add-circle" style="color: #2bab54;font-size: 1.2em; font-weight: bold;"></i>
                                                                                                                               
                                                                                                                            </asp:LinkButton>
                                                                                                                        </FooterTemplate>
                                                                                                                    </telerik:GridTemplateColumn>

                                                                                                                    <telerik:GridTemplateColumn HeaderText="Line No." Visible="false" ItemStyle-Width="7%">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:Label ID="lblIndex" runat="server" Text="<%# Container.ItemIndex +1 %>"></asp:Label>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <%--<telerik:GridTemplateColumn HeaderText="Title" ItemStyle-Width="7%">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:TextBox ID="txtTitle" CssClass="form-control input-sm input-small" Text='<%# Eval("Title") %>' runat="server"></asp:TextBox>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>--%>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Title" ItemStyle-Width="7%">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:TextBox ID="txtTitle" CssClass="tsearchinput form-control input-sm input-small" Text='<%# Eval("Title") %>'
                                                                                                                                Placeholder="Search" ToolTip="Search by team member titles" runat="server"></asp:TextBox>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="MOM User ID" ItemStyle-Width="7%">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:TextBox ID="txtUserID" CssClass="usearchinput form-control input-sm input-small" Text='<%# Eval("UserID") %>'
                                                                                                                                Placeholder="Search" ToolTip="Search by User ID/Firstname/Lastname" runat="server"></asp:TextBox>
                                                                                                                            <asp:HiddenField ID="hdnUserID" runat="server" />
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="First Name" ItemStyle-Width="7%">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:TextBox ID="txtFirstName" CssClass="form-control input-sm input-small" Text='<%# Eval("FirstName") %>' runat="server"></asp:TextBox>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Last Name" ItemStyle-Width="7%">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:TextBox ID="txtLastName" CssClass="form-control input-sm input-small" Text='<%# Eval("LastName") %>' runat="server"></asp:TextBox>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Email" ItemStyle-Width="7%">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:TextBox ID="txtEmail" CssClass="form-control input-sm input-small" Text='<%# Eval("Email") %>' runat="server"></asp:TextBox>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Mobile #" ItemStyle-Width="7%">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:TextBox ID="txtMobile" CssClass="form-control input-sm input-small" Text='<%# Eval("Mobile") %>' runat="server"></asp:TextBox>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                </Columns>
                                                                                                            </MasterTableView>
                                                                                                        </telerik:RadGrid>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </ContentTemplate>
                                                                                        </asp:UpdatePanel>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <asp:Panel ID="tbpnlGCInfo" runat="server" ClientIDMode="Static" CssClass="col s12 tab-container-border lighten-4" Style="display: none;">
                                                                                <div class="tabs-custom-mgn1">
                                                                                    <div class="form-section-row">
                                                                                        <asp:UpdatePanel ID="UpdatePanel20" runat="server" UpdateMode="Always">
                                                                                            <ContentTemplate>
                                                                                                <div class="section-ttle">GC Information</div>
                                                                                                <div class="form-section3">
                                                                                                    <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <label for="txtName">Name - Search GC</label>
                                                                                                            <asp:TextBox ID="txtName" placeholder="Search GC" runat="server"></asp:TextBox>
                                                                                                            <asp:HiddenField ID="hdnGCID" runat="server" />
                                                                                                            <asp:HiddenField ID="hdnGCIDtemp" runat="server" />
                                                                                                            <asp:HiddenField ID="hdnGCName" runat="server" />
                                                                                                            <asp:HiddenField ID="hdnGContractorID" Value="0" runat="server" />
                                                                                                            <asp:HiddenField ID="hdnGCNameupdate" Value="0" runat="server" />
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <label for="GctxtAddress">Address</label>
                                                                                                            <asp:TextBox class="materialize-textarea mtarea" ID="GctxtAddress" TextMode="MultiLine" runat="server"></asp:TextBox>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s5">
                                                                                                        <div class="row">
                                                                                                            <label for="txtCity">City</label>
                                                                                                            <asp:TextBox ID="txtCity" runat="server"></asp:TextBox>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s2">
                                                                                                        <div class="row">
                                                                                                            &nbsp;
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s5">
                                                                                                        <div class="row">
                                                                                                            <label class="drpdwn-label">State/Province</label>
                                                                                                            <asp:DropDownList ID="ddlState" runat="server" CssClass="browser-default"
                                                                                                                TabIndex="4">
                                                                                                            </asp:DropDownList>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s5">
                                                                                                        <div class="row">
                                                                                                            <label for="txtPostalCode">Zip/Postal Code</label>
                                                                                                            <asp:TextBox ID="txtPostalCode" runat="server"></asp:TextBox>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s2">
                                                                                                        <div class="row">
                                                                                                            &nbsp;
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s5">
                                                                                                        <div class="row">
                                                                                                            <label for="txtCountry">Country</label>
                                                                                                            <asp:TextBox ID="txtCountry" runat="server"></asp:TextBox>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="form-section3-blank">
                                                                                                    &nbsp;
                                                                                                </div>
                                                                                                <div class="form-section3">
                                                                                                    <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <label for="txtContactName">Contact Name</label>
                                                                                                            <asp:TextBox ID="txtContactName" runat="server"></asp:TextBox>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <label for="txtPhone">Phone</label>
                                                                                                            <asp:TextBox ID="txtPhone" Placeholder="(xxx)xxx-xxxx Ext: xxx" runat="server"></asp:TextBox>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <label for="txtFax">Fax</label>
                                                                                                            <asp:TextBox ID="txtFax" Placeholder="(xxx)xxx-xxxx Ext: xxx" runat="server"></asp:TextBox>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <label for="txtEmailWeb">Email</label>
                                                                                                            <asp:TextBox ID="txtEmailWeb" runat="server"></asp:TextBox>
                                                                                                            <asp:RegularExpressionValidator ID="revEmail" runat="server"
                                                                                                                ControlToValidate="txtEmailWeb" Display="None" ErrorMessage="Invalid Email" SetFocusOnError="True"
                                                                                                                ValidationExpression="\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*"></asp:RegularExpressionValidator>
                                                                                                            <asp:ValidatorCalloutExtender ID="vceEmail" runat="server" Enabled="True" PopupPosition="BottomLeft"
                                                                                                                TargetControlID="revEmail">
                                                                                                            </asp:ValidatorCalloutExtender>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <label for="txtMobile">Cellular</label>
                                                                                                            <asp:TextBox ID="txtMobile" Placeholder="(xxx)xxx-xxxx" runat="server"></asp:TextBox>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="form-section3-blank">
                                                                                                    &nbsp;
                                                                                                </div>
                                                                                                <div class="form-section3">
                                                                                                    <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <asp:TextBox ID="txtRemarks" runat="server" CssClass="bigtxtarea materialize-textarea textarea-border" TextMode="MultiLine"></asp:TextBox>
                                                                                                            <label for="txtRemarks" class="txtbrdlbl">Remarks</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </ContentTemplate>
                                                                                        </asp:UpdatePanel>
                                                                                    </div>
                                                                                    <div class="form-section-row">
                                                                                        <div class="section-ttle">Attributes GC Info Workflow</div>
                                                                                        <%--<asp:UpdatePanel ID="UpdatePanel10" runat="server" UpdateMode="Always">
                                                                                            <ContentTemplate>
                                                                                                <asp:PlaceHolder ID="PlaceHolderAttriGC" runat="server"></asp:PlaceHolder>
                                                                                            </ContentTemplate>
                                                                                        </asp:UpdatePanel>--%>
                                                                                        <asp:Panel ID="pnlCustomAttributesGC" runat="server">
                                                                                            <div class="grid_container" style="margin-bottom: 0 !important;">
                                                                                                <div class="RadGrid RadGrid_Material FormGrid">
                                                                                                    <telerik:RadAjaxPanel ID="RadAjaxPanel100" runat="server" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">
                                                                                                        <telerik:RadGrid RenderMode="Auto" ID="RadGrid_CustomAttributesGC" ShowFooter="false" PageSize="50"
                                                                                                            PagerStyle-AlwaysVisible="false" OnItemDataBound="RadGrid_Custom_ItemDataBound" OnItemCommand="RadGrid_CustomAttributesGeneral_ItemCommand"
                                                                                                            ShowStatusBar="true" runat="server" AllowPaging="True" Width="100%" AllowCustomPaging="false">
                                                                                                            <CommandItemStyle />
                                                                                                            <GroupingSettings CaseSensitive="false" />
                                                                                                            <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false">
                                                                                                                <Selecting AllowRowSelect="false"></Selecting>
                                                                                                                <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                                                                                                <Resizing AllowColumnResize="true" ResizeGridOnColumnResize="true"></Resizing>
                                                                                                            </ClientSettings>
                                                                                                            <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="false" ShowFooter="True">
                                                                                                                <Columns>

                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="10" AllowFiltering="false" ItemStyle-Width="0.5%" FooterStyle-Width="0.5%">

                                                                                                                        <ItemTemplate>
                                                                                                                            <%--<asp:HiddenField ID="txtOrderNo" Value='<%# Eval("OrderNo") %>' runat="server"></asp:HiddenField>--%>
                                                                                                                            <asp:Label ID="lblIndex" Visible="true" runat="server" Text="<%# Container.ItemIndex +1 %>"></asp:Label>
                                                                                                                            <asp:Label ID="lblID" runat="server" Text='<%# Eval("ID") %>' Style="display: none;"></asp:Label>
                                                                                                                            <asp:Label ID="lblLine" runat="server" Text='<%# Eval("Line") %>' Style="display: none;" class="customline"></asp:Label>
                                                                                                                            <asp:Label ID="lblFormat" runat="server" Text='<%# Eval("Format") %>' Visible="false"></asp:Label>
                                                                                                                            <asp:Label ID="lblCustom" runat="server" Text='<%# Eval("Label") %>' Style="display: none;"></asp:Label>
                                                                                                                        </ItemTemplate>

                                                                                                                    </telerik:GridTemplateColumn>

                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Name" HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <div style="text-align: left">
                                                                                                                                <asp:HiddenField ID="hdnTestItemValueID" Value='' runat="server"></asp:HiddenField>
                                                                                                                                <asp:Panel ID="divFormatText" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="txtFormatText"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtFormatText" runat="server" Text='' MaxLength="255"></asp:TextBox>
                                                                                                                                </asp:Panel>

                                                                                                                                <asp:Panel ID="divFormatDrop" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="drpdwnCustom"><%# Eval("Label") %></label>
                                                                                                                                    <asp:DropDownList ID="drpdwnCustom" runat="server" CssClass="browser-default fontHeader">
                                                                                                                                    </asp:DropDownList>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatCurrent" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="txtFormatCurrent"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtFormatCurrent" runat="server" Text=''
                                                                                                                                        CssClass="custom currency"></asp:TextBox>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatDate" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="txtFormatDate"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtFormatDate" runat="server" Text=''
                                                                                                                                        CssClass="custom datepicker_mom"></asp:TextBox>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatCheckbox" runat="server" Visible="false">

                                                                                                                                    <asp:CheckBox ID="chkCustomFormat" runat="server" Text='&nbsp'
                                                                                                                                        CssClass="css-checkbox custom"></asp:CheckBox>
                                                                                                                                    <label class="fontHeader" for="chkCustomFormat"><%# Eval("Label") %></label>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatNotes" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="txtFormatNotes"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtFormatNotes" runat="server" Text='' MaxLength="255" TextMode="MultiLine"
                                                                                                                                        Style="padding: 0.4rem 0 !important" CssClass="materialize-textarea textarea-border1">
                                                                                                                                    </asp:TextBox>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatChkWithComment" runat="server" Visible="false">
                                                                                                                                    <asp:CheckBox ID="chkWithComment" runat="server" Text='&nbsp'
                                                                                                                                        CssClass="css-checkbox custom"></asp:CheckBox>
                                                                                                                                    <label class="fontHeader" for="chkWithComment"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtChkComment" placeholder="Checkbox comment" runat="server" Text='' MaxLength="255"></asp:TextBox>

                                                                                                                                </asp:Panel>
                                                                                                                            </div>

                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterStyle VerticalAlign="Middle" />

                                                                                                                    </telerik:GridTemplateColumn>

                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="20" AllowFiltering="false" HeaderText="Alert " HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:CheckBox ID="chkSelectAlert" CssClass="css-checkbox" Text=" " runat="server" />
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterStyle VerticalAlign="Middle" />

                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <%--<telerik:GridTemplateColumn HeaderStyle-Width="20" AllowFiltering="false" HeaderText="Task " HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:CheckBox ID="chkSelectTask" CssClass="css-checkbox" Text=" " runat="server" />
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterStyle VerticalAlign="Middle" />

                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false"  HeaderText="User Role" HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <div class="tag-div materialize-textarea textarea-border" id="cusLabelTagUR" style="text-align: left !important; cursor: pointer;" onclick="ShowUserRoleWindow(this);" runat="server"></div>
                                                                                                                            <asp:HiddenField ID="hdnUserRoles" runat="server" Value='<%# Eval("UserRole") %>' />
                                                                                                                            <asp:TextBox ID="txtUserRoles" class='<%# "txtUserRoles_" + Eval("Line") %>' runat="server" Style='min-width: 100px !important; display: none;'
                                                                                                                                Text='<%# Eval("UserRoleDisplay") %>'></asp:TextBox>
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterStyle VerticalAlign="Middle" />
                                                                                                                    </telerik:GridTemplateColumn>--%>
                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Team Member" HeaderStyle-CssClass="itemHeader">

                                                                                                                        <%--<ItemTemplate>
                                                                                                                            <div class="tag-div materialize-textarea textarea-border" id="cusLabelTag" style="text-align: left !important;cursor:pointer;" onclick="ShowTeamMemberWindow(this);" runat="server"></div>
                                                                                                                            <asp:HiddenField ID="hdnMembers"  runat="server" Value='<%# Eval("TeamMember") %>'/>
                                                                                                                            <asp:TextBox ID="txtMembers" class='<%# "txtMembers_" + Eval("Line") %>' runat="server" Style='min-width: 100px !important;display:none;'
                                                                                                                                Text='<%# Eval("TeamMemberDisplay") %>'></asp:TextBox>
                                                                                                                        </ItemTemplate>--%>
                                                                                                                        <ItemTemplate>
                                                                                                                            <div class="tag-div materialize-textarea textarea-border" id="cusLabelTag" style="text-align: left !important; cursor: pointer;" onclick="ShowTeamMemberWindow(this);" runat="server"></div>
                                                                                                                            <asp:HiddenField ID="hdnMembers" runat="server" Value='<%# Eval("TeamMember") %>' />

                                                                                                                            <asp:TextBox ID="txtMembers" class='<%# "txtMembers_" + Eval("Line") %>' runat="server" Style='min-width: 100px !important; display: none;'
                                                                                                                                Text='<%# Eval("TeamMemberDisplay") %>'></asp:TextBox>
                                                                                                                        </ItemTemplate>

                                                                                                                    </telerik:GridTemplateColumn>

                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated By" HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <%--<asp:Label ID="lbUpdatedBy" runat="server"><%# Eval("Username") %></asp:Label>--%>
                                                                                                                            <asp:Label ID="lbUpdatedBy" runat="server" Text='<%# Eval("Username") %>'></asp:Label>
                                                                                                                        </ItemTemplate>


                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated Date" HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:Label ID="lbUpdatedDate" runat="server"><%# Eval("UpdatedDate") %></asp:Label>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                </Columns>
                                                                                                            </MasterTableView>
                                                                                                        </telerik:RadGrid>
                                                                                                    </telerik:RadAjaxPanel>

                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="cf"></div>
                                                                                        </asp:Panel>
                                                                                        <div style="clear: both;"></div>
                                                                                    </div>
                                                                                </div>
                                                                            </asp:Panel>
                                                                            <asp:Panel ID="tbpnlHomeowner" runat="server" ClientIDMode="Static" CssClass="col s12 tab-container-border lighten-4" Style="display: none;">
                                                                                <div class="tabs-custom-mgn1">
                                                                                    <div class="form-section-row">
                                                                                        <asp:UpdatePanel ID="UpdatePanel28" runat="server" UpdateMode="Always">
                                                                                            <ContentTemplate>
                                                                                                <div class="section-ttle">Homeowner Information</div>
                                                                                                <div class="form-section3">
                                                                                                    <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <label for="hotxtname">Homeowner Name</label>
                                                                                                            <asp:TextBox ID="hotxtname" placeholder="" runat="server"></asp:TextBox>
                                                                                                            <asp:HiddenField ID="hdnIsHO" runat="server" />
                                                                                                            <asp:HiddenField ID="hdnHomeOwnerID" Value="0" runat="server" />
                                                                                                            <asp:HiddenField ID="hdnHOName" runat="server" />
                                                                                                            <asp:HiddenField ID="hdnHONameupdate" Value="0" runat="server" />
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <label for="HotxtAddress">Address</label>
                                                                                                            <asp:TextBox ID="HotxtAddress" CssClass="materialize-textarea" TextMode="MultiLine" runat="server"></asp:TextBox>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s5">
                                                                                                        <div class="row">
                                                                                                            <label for="hotxtcity">City</label>
                                                                                                            <asp:TextBox ID="hotxtcity" runat="server"></asp:TextBox>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s2">
                                                                                                        <div class="row">
                                                                                                            &nbsp;
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s5">
                                                                                                        <div class="row">
                                                                                                            <label for="hotddlstate" class="drpdwn-label">State/Prov</label>
                                                                                                            <asp:DropDownList ID="hotddlstate" runat="server" class="browser-default"
                                                                                                                TabIndex="4">
                                                                                                            </asp:DropDownList>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s5">
                                                                                                        <div class="row">
                                                                                                            <label for="hotxtZIP">ZIP/Postal Code</label>
                                                                                                            <asp:TextBox ID="hotxtZIP" runat="server"></asp:TextBox>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s2">
                                                                                                        <div class="row">
                                                                                                            &nbsp;
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s5">
                                                                                                        <div class="row">
                                                                                                            <label for="hotxtCountry">Country</label>
                                                                                                            <asp:TextBox ID="hotxtCountry" runat="server"></asp:TextBox>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="form-section3-blank">
                                                                                                    &nbsp;
                                                                                                </div>
                                                                                                <div class="form-section3">
                                                                                                    <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <label for="hotxtContactName">Contact Name</label>
                                                                                                            <asp:TextBox ID="hotxtContactName" runat="server"></asp:TextBox>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <label for="hotxtPhone">Phone</label>
                                                                                                            <asp:TextBox ID="hotxtPhone" Placeholder="(xxx)xxx-xxxx Ext: xxx" runat="server"></asp:TextBox>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <label for="HotxtFax">Phone</label>
                                                                                                            <asp:TextBox ID="HotxtFax" Placeholder="(xxx)xxx-xxxx Ext: xxx" runat="server"></asp:TextBox>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <label for="HotxtEmailWeb">Email</label>
                                                                                                            <div class="fc-input">
                                                                                                                <asp:TextBox ID="HotxtEmailWeb" runat="server"></asp:TextBox>
                                                                                                                <asp:RegularExpressionValidator ID="RegularExpressionValidator1" runat="server"
                                                                                                                    ControlToValidate="HotxtEmailWeb" Display="None" ErrorMessage="Invalid Email" SetFocusOnError="True"
                                                                                                                    ValidationExpression="\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*"></asp:RegularExpressionValidator>
                                                                                                                <asp:ValidatorCalloutExtender ID="hoValidatorC" runat="server" Enabled="True" PopupPosition="BottomLeft"
                                                                                                                    TargetControlID="RegularExpressionValidator1">
                                                                                                                </asp:ValidatorCalloutExtender>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <label for="hotxtMobile">Cellular</label>
                                                                                                            <asp:TextBox ID="hotxtMobile" Placeholder="(xxx)xxx-xxxx" runat="server"></asp:TextBox>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="form-section3-blank">
                                                                                                    &nbsp;
                                                                                                </div>
                                                                                                <div class="form-section3">
                                                                                                    <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <label for="hotxtRemarks" class="txtbrdlbl">Remarks</label>
                                                                                                            <asp:TextBox ID="hotxtRemarks" runat="server" CssClass="bigtxtarea materialize-textarea textarea-border" TextMode="MultiLine"></asp:TextBox>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </ContentTemplate>
                                                                                        </asp:UpdatePanel>
                                                                                    </div>
                                                                                    <div class="form-section-row">
                                                                                        <%--<asp:UpdatePanel ID="UpdatePanel29" runat="server">
                                                                                            <ContentTemplate>
                                                                                                <div class="section-ttle">Attributes Homeowner Information Workflow</div>
                                                                                                <asp:PlaceHolder ID="PlaceHolder2" runat="server"></asp:PlaceHolder>
                                                                                            </ContentTemplate>
                                                                                        </asp:UpdatePanel>--%>
                                                                                        <div class="section-ttle">Attributes Homeowner Information Workflow</div>
                                                                                        <asp:Panel ID="pnlCustomHomeownerInfor" runat="server">
                                                                                            <div class="grid_container" style="margin-bottom: 0 !important;">
                                                                                                <div class="RadGrid RadGrid_Material FormGrid">
                                                                                                    <telerik:RadAjaxPanel ID="RadAjaxPanel4" runat="server" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">
                                                                                                        <telerik:RadGrid RenderMode="Auto" ID="RadGrid_CustomHomeownerInfor" ShowFooter="false" PageSize="50"
                                                                                                            PagerStyle-AlwaysVisible="false" OnItemDataBound="RadGrid_Custom_ItemDataBound" OnItemCommand="RadGrid_CustomAttributesGeneral_ItemCommand"
                                                                                                            ShowStatusBar="true" runat="server" AllowPaging="True" Width="100%" AllowCustomPaging="false">
                                                                                                            <CommandItemStyle />
                                                                                                            <GroupingSettings CaseSensitive="false" />
                                                                                                            <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false">
                                                                                                                <Selecting AllowRowSelect="false"></Selecting>
                                                                                                                <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                                                                                                <Resizing AllowColumnResize="true" ResizeGridOnColumnResize="true"></Resizing>
                                                                                                            </ClientSettings>
                                                                                                            <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="false" ShowFooter="True">
                                                                                                                <Columns>

                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="10" AllowFiltering="false" ItemStyle-Width="0.5%" FooterStyle-Width="0.5%">

                                                                                                                        <ItemTemplate>
                                                                                                                            <%--<asp:HiddenField ID="txtOrderNo" Value='<%# Eval("OrderNo") %>' runat="server"></asp:HiddenField>--%>
                                                                                                                            <asp:Label ID="lblIndex" Visible="true" runat="server" Text="<%# Container.ItemIndex +1 %>"></asp:Label>
                                                                                                                            <asp:Label ID="lblID" runat="server" Text='<%# Eval("ID") %>' Style="display: none;"></asp:Label>
                                                                                                                            <asp:Label ID="lblLine" runat="server" Text='<%# Eval("Line") %>' Style="display: none;" class="customline"></asp:Label>
                                                                                                                            <asp:Label ID="lblFormat" runat="server" Text='<%# Eval("Format") %>' Visible="false"></asp:Label>
                                                                                                                            <asp:Label ID="lblCustom" runat="server" Text='<%# Eval("Label") %>' Style="display: none;"></asp:Label>
                                                                                                                        </ItemTemplate>

                                                                                                                    </telerik:GridTemplateColumn>

                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Name" HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <div style="text-align: left">
                                                                                                                                <asp:HiddenField ID="hdnTestItemValueID" Value='' runat="server"></asp:HiddenField>
                                                                                                                                <asp:Panel ID="divFormatText" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="txtFormatText"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtFormatText" runat="server" Text='' MaxLength="255"></asp:TextBox>
                                                                                                                                </asp:Panel>

                                                                                                                                <asp:Panel ID="divFormatDrop" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="drpdwnCustom"><%# Eval("Label") %></label>
                                                                                                                                    <asp:DropDownList ID="drpdwnCustom" runat="server" CssClass="browser-default fontHeader">
                                                                                                                                    </asp:DropDownList>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatCurrent" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="txtFormatCurrent"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtFormatCurrent" runat="server" Text=''
                                                                                                                                        CssClass="custom currency"></asp:TextBox>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatDate" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="txtFormatDate"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtFormatDate" runat="server" Text=''
                                                                                                                                        CssClass="custom datepicker_mom"></asp:TextBox>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatCheckbox" runat="server" Visible="false">

                                                                                                                                    <asp:CheckBox ID="chkCustomFormat" runat="server" Text='&nbsp'
                                                                                                                                        CssClass="css-checkbox custom"></asp:CheckBox>
                                                                                                                                    <label class="fontHeader" for="chkCustomFormat"><%# Eval("Label") %></label>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatNotes" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="txtFormatNotes"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtFormatNotes" runat="server" Text='' MaxLength="255" TextMode="MultiLine"
                                                                                                                                        Style="padding: 0.4rem 0 !important" CssClass="materialize-textarea textarea-border1">
                                                                                                                                    </asp:TextBox>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatChkWithComment" runat="server" Visible="false">
                                                                                                                                    <asp:CheckBox ID="chkWithComment" runat="server" Text='&nbsp'
                                                                                                                                        CssClass="css-checkbox custom"></asp:CheckBox>
                                                                                                                                    <label class="fontHeader" for="chkWithComment"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtChkComment" placeholder="Checkbox comment" runat="server" Text='' MaxLength="255"></asp:TextBox>

                                                                                                                                </asp:Panel>
                                                                                                                            </div>

                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterStyle VerticalAlign="Middle" />

                                                                                                                    </telerik:GridTemplateColumn>

                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="20" AllowFiltering="false" HeaderText="Alert " HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:CheckBox ID="chkSelectAlert" CssClass="css-checkbox" Text=" " runat="server" />
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterStyle VerticalAlign="Middle" />

                                                                                                                    </telerik:GridTemplateColumn>

                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Team Member" HeaderStyle-CssClass="itemHeader">

                                                                                                                        <ItemTemplate>
                                                                                                                            <div class="tag-div materialize-textarea textarea-border" id="cusLabelTag" style="text-align: left !important; cursor: pointer;" onclick="ShowTeamMemberWindow(this);" runat="server"></div>
                                                                                                                            <asp:HiddenField ID="hdnMembers" runat="server" Value='<%# Eval("TeamMember") %>' />
                                                                                                                            <asp:TextBox ID="txtMembers" class='<%# "txtMembers_" + Eval("Line") %>' runat="server" Style='min-width: 100px !important; display: none;'
                                                                                                                                Text='<%# Eval("TeamMemberDisplay") %>'></asp:TextBox>
                                                                                                                        </ItemTemplate>

                                                                                                                    </telerik:GridTemplateColumn>

                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated By" HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <%--<asp:Label ID="lbUpdatedBy" runat="server"><%# Eval("Username") %></asp:Label>--%>
                                                                                                                            <asp:Label ID="lbUpdatedBy" runat="server" Text='<%# Eval("Username") %>'></asp:Label>
                                                                                                                        </ItemTemplate>


                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated Date" HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:Label ID="lbUpdatedDate" runat="server"><%# Eval("UpdatedDate") %></asp:Label>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                </Columns>
                                                                                                            </MasterTableView>
                                                                                                        </telerik:RadGrid>
                                                                                                    </telerik:RadAjaxPanel>

                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="cf"></div>
                                                                                        </asp:Panel>
                                                                                        <div style="clear: both;"></div>
                                                                                    </div>
                                                                                </div>
                                                                            </asp:Panel>
                                                                            <div id="tbpnlEquipment" class="col s12 tab-container-border lighten-4" style="display: none;">
                                                                                <div class="tabs-custom-mgn1">
                                                                                    <div class="form-section-row">

                                                                                        <div class="section-ttle">Equipment</div>
                                                                                        <div class="searchpaneinner">
                                                                                            <div class="btnlinks">
                                                                                                <asp:LinkButton ID="lnkEditEq" runat="server" ToolTip="Edit" OnClick="lnkEditEq_Click" CausesValidation="False" Text="Edit"></asp:LinkButton>
                                                                                            </div>
                                                                                            <div class="btnlinks">
                                                                                                <asp:LinkButton ID="btnCopyEQ" runat="server" ToolTip="Copy" OnClick="btnCopyEQ_Click" CausesValidation="False" Text="Copy"></asp:LinkButton>
                                                                                            </div>
                                                                                            <div class="btnlinks">
                                                                                                <asp:LinkButton ID="lnkAddEQ" runat="server" ToolTip="Add New" OnClick="lnkAddEQ_Click" CausesValidation="False" Text="Add"></asp:LinkButton>




                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="grid_container" style="margin-top: 20px;">
                                                                                            <div class="table-scrollable fixHeader" style="width: 100%; overflow: auto;">
                                                                                                <div class="RadGrid RadGrid_Material">
                                                                                                    <asp:Repeater ID="rtEquips" runat="server" Visible="false" OnItemDataBound="rtEquips_ItemDataBound">
                                                                                                        <HeaderTemplate>
                                                                                                            <table>
                                                                                                                <thead>
                                                                                                                    <tr>
                                                                                                                        <th scope="col" class="rgHeader"></th>
                                                                                                                        <th scope="col" class="rgHeader">Name</th>
                                                                                                                        <th scope="col" class="rgHeader">Manuf.</th>
                                                                                                                        <th scope="col" class="rgHeader">Description</th>
                                                                                                                        <th scope="col" class="rgHeader">Type</th>
                                                                                                                        <th scope="col" class="rgHeader">Service type</th>
                                                                                                                        <th scope="col" class="rgHeader">Status</th>
                                                                                                                        <th scope="col" class="rgHeader">Customer</th>
                                                                                                                        <th scope="col" class="rgHeader">Location ID</th>
                                                                                                                        <th scope="col" class="rgHeader">Location</th>
                                                                                                                        <th scope="col" class="rgHeader">Address</th>
                                                                                                                        <th scope="col" class="rgHeader">Price</th>
                                                                                                                        <th scope="col" class="rgHeader">Last Service</th>
                                                                                                                        <th scope="col" class="rgHeader">Installed</th>
                                                                                                                    </tr>
                                                                                                                </thead>
                                                                                                                <tbody>
                                                                                                        </HeaderTemplate>
                                                                                                        <ItemTemplate>
                                                                                                            <tr>
                                                                                                                <td>
                                                                                                                    <asp:CheckBox ID="chkSelect" runat="server" />
                                                                                                                    <asp:Image runat="server" AlternateText="" Style="cursor: pointer;" ID="imgPlus" ImageUrl="images/plus.png" />
                                                                                                                    <div id="divCustom" style="display: none">
                                                                                                                        <asp:Repeater ID="rtEquipCustom" runat="server">
                                                                                                                            <HeaderTemplate>
                                                                                                                                <table style="width: 400px;" class="table table-bordered table-condensed flip-content">
                                                                                                                                    <tr>
                                                                                                                                        <th scope="col" class="rgHeader">Desc</th>
                                                                                                                                        <th scope="col" class="rgHeader">Value</th>
                                                                                                                                        <th scope="col" class="rgHeader">Last Updated</th>
                                                                                                                                    </tr>
                                                                                                                            </HeaderTemplate>
                                                                                                                            <ItemTemplate>
                                                                                                                                <tr>
                                                                                                                                    <td>
                                                                                                                                        <asp:Label ID="lblDesc" runat="server" Text='<%# Eval("fdesc") %>'></asp:Label>
                                                                                                                                    </td>
                                                                                                                                    <td>
                                                                                                                                        <asp:Label ID="lblValue" runat="server" Text='<%# Eval("Value") %>'></asp:Label>
                                                                                                                                    </td>
                                                                                                                                    <td>
                                                                                                                                        <asp:Label ID="Label1" runat="server" Text='<%# Eval("LastUpdateUser") %>'></asp:Label>
                                                                                                                                        <asp:Label ID="Label2" runat="server" Text='<%# Eval("LastUpdated", "{0:MM/dd/yy hh:mm tt}") %>'></asp:Label>
                                                                                                                                    </td>
                                                                                                                                </tr>
                                                                                                                            </ItemTemplate>
                                                                                                                            <FooterTemplate>
                                                                                                                                </table>
                                                                                                                            </FooterTemplate>
                                                                                                                        </asp:Repeater>
                                                                                                                    </div>
                                                                                                                </td>
                                                                                                                <td>
                                                                                                                    <asp:Label ID="lblID" Visible="false" runat="server" Text='<%# Bind("id") %>'></asp:Label>
                                                                                                                    <asp:Label ID="lblUnit" runat="server" Text='<%# Bind("unit") %>'></asp:Label>
                                                                                                                </td>
                                                                                                                <td>
                                                                                                                    <asp:Label ID="lblmanuf" runat="server" Text='<%# Bind("manuf") %>'></asp:Label>
                                                                                                                </td>
                                                                                                                <td>
                                                                                                                    <asp:Label ID="lblDesc" runat="server"><%#Eval("fdesc")%></asp:Label>
                                                                                                                </td>
                                                                                                                <td>
                                                                                                                    <asp:Label ID="lblType" runat="server"><%#Eval("Type")%></asp:Label>
                                                                                                                </td>
                                                                                                                <td>
                                                                                                                    <asp:Label ID="lblServiceType" runat="server"><%#Eval("cat")%></asp:Label></td>
                                                                                                                <td>
                                                                                                                    <asp:Label ID="lblStatus" runat="server"><%# Convert.ToInt32( Eval("status")) == 0 ? "Active" : "Inactive"%></asp:Label></td>
                                                                                                                <td>
                                                                                                                    <asp:Label ID="lblCust" runat="server"><%#Eval("name")%></asp:Label></td>
                                                                                                                <td>
                                                                                                                    <asp:Label ID="lblLocid" runat="server"><%#Eval("LocID")%></asp:Label></td>
                                                                                                                <td>
                                                                                                                    <asp:Label ID="lblLocName" runat="server"><%#Eval("tag")%></asp:Label></td>
                                                                                                                <td>
                                                                                                                    <asp:Label ID="lblAddress" runat="server"><%#Eval("Address")%></asp:Label></td>
                                                                                                                <td>
                                                                                                                    <asp:Label ID="lblPrice" runat="server"><%# DataBinder.Eval(Container.DataItem, "Price", "{0:c}")%></asp:Label></td>
                                                                                                                <td>
                                                                                                                    <asp:Label ID="lbllast" runat="server"><%# Eval("last")!=DBNull.Value? String.Format("{0:M/d/yyyy}", Convert.ToDateTime( DataBinder.Eval(Container.DataItem, "last"))):""%></asp:Label></td>
                                                                                                                <td>
                                                                                                                    <asp:Label ID="lblSince" runat="server"><%# Eval("Install") != DBNull.Value ? String.Format("{0:M/d/yyyy}", Convert.ToDateTime(DataBinder.Eval(Container.DataItem, "Install"))) : ""%></asp:Label></td>
                                                                                                            </tr>
                                                                                                        </ItemTemplate>
                                                                                                        <FooterTemplate>
                                                                                                            </tbody>
                                                                                                                    </table>
                                                                                                        </FooterTemplate>
                                                                                                    </asp:Repeater>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>

                                                                                    </div>
                                                                                    <div class="form-input-row">

                                                                                        <div class="section-ttle">Attributes General Workflow</div>
                                                                                        <asp:Panel ID="pnlCustomAttriEquip" runat="server">
                                                                                            <div class="grid_container" style="margin-bottom: 0 !important;">
                                                                                                <div class="RadGrid RadGrid_Material FormGrid">
                                                                                                    <telerik:RadAjaxPanel ID="RadAjaxPanel5" runat="server" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">
                                                                                                        <telerik:RadGrid RenderMode="Auto" ID="RadGrid_CustomAttriEquip" ShowFooter="false" PageSize="50"
                                                                                                            PagerStyle-AlwaysVisible="false" OnItemDataBound="RadGrid_Custom_ItemDataBound" OnItemCommand="RadGrid_CustomHeader_ItemCommand"
                                                                                                            ShowStatusBar="true" runat="server" AllowPaging="True" Width="100%" AllowCustomPaging="false">
                                                                                                            <CommandItemStyle />
                                                                                                            <GroupingSettings CaseSensitive="false" />
                                                                                                            <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false">
                                                                                                                <Selecting AllowRowSelect="false"></Selecting>
                                                                                                                <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                                                                                                <Resizing AllowColumnResize="true" ResizeGridOnColumnResize="true"></Resizing>
                                                                                                            </ClientSettings>
                                                                                                            <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="false" ShowFooter="True">
                                                                                                                <Columns>

                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="10" AllowFiltering="false" ItemStyle-Width="0.5%" FooterStyle-Width="0.5%">

                                                                                                                        <ItemTemplate>
                                                                                                                            <%--<asp:HiddenField ID="txtOrderNo" Value='<%# Eval("OrderNo") %>' runat="server"></asp:HiddenField>--%>
                                                                                                                            <asp:Label ID="lblIndex" Visible="true" runat="server" Text="<%# Container.ItemIndex +1 %>"></asp:Label>
                                                                                                                            <asp:Label ID="lblID" runat="server" Text='<%# Eval("ID") %>' Style="display: none;"></asp:Label>
                                                                                                                            <asp:Label ID="lblLine" runat="server" Text='<%# Eval("Line") %>' Style="display: none;" class="customline"></asp:Label>
                                                                                                                            <asp:Label ID="lblFormat" runat="server" Text='<%# Eval("Format") %>' Visible="false"></asp:Label>
                                                                                                                            <asp:Label ID="lblCustom" runat="server" Text='<%# Eval("Label") %>' Style="display: none;"></asp:Label>
                                                                                                                        </ItemTemplate>

                                                                                                                    </telerik:GridTemplateColumn>

                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Name" HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <div style="text-align: left">
                                                                                                                                <asp:HiddenField ID="hdnTestItemValueID" Value='' runat="server"></asp:HiddenField>
                                                                                                                                <asp:Panel ID="divFormatText" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="txtFormatText"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtFormatText" runat="server" Text='' MaxLength="255"></asp:TextBox>
                                                                                                                                </asp:Panel>

                                                                                                                                <asp:Panel ID="divFormatDrop" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="drpdwnCustom"><%# Eval("Label") %></label>
                                                                                                                                    <asp:DropDownList ID="drpdwnCustom" runat="server" CssClass="browser-default fontHeader">
                                                                                                                                    </asp:DropDownList>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatCurrent" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="txtFormatCurrent"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtFormatCurrent" runat="server" Text=''
                                                                                                                                        CssClass="custom currency"></asp:TextBox>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatDate" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="txtFormatDate"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtFormatDate" runat="server" Text=''
                                                                                                                                        CssClass="custom datepicker_mom"></asp:TextBox>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatCheckbox" runat="server" Visible="false">

                                                                                                                                    <asp:CheckBox ID="chkCustomFormat" runat="server" Text='&nbsp'
                                                                                                                                        CssClass="css-checkbox custom"></asp:CheckBox>
                                                                                                                                    <label class="fontHeader" for="chkCustomFormat"><%# Eval("Label") %></label>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatNotes" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="txtFormatNotes"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtFormatNotes" runat="server" Text='' MaxLength="255" TextMode="MultiLine"
                                                                                                                                        Style="padding: 0.4rem 0 !important" CssClass="materialize-textarea textarea-border1">
                                                                                                                                    </asp:TextBox>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatChkWithComment" runat="server" Visible="false">
                                                                                                                                    <asp:CheckBox ID="chkWithComment" runat="server" Text='&nbsp'
                                                                                                                                        CssClass="css-checkbox custom"></asp:CheckBox>
                                                                                                                                    <label class="fontHeader" for="chkWithComment"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtChkComment" placeholder="Checkbox comment" runat="server" Text='' MaxLength="255"></asp:TextBox>

                                                                                                                                </asp:Panel>
                                                                                                                            </div>

                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterStyle VerticalAlign="Middle" />

                                                                                                                    </telerik:GridTemplateColumn>

                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="20" AllowFiltering="false" HeaderText="Alert " HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:CheckBox ID="chkSelectAlert" CssClass="css-checkbox" Text=" " runat="server" />
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterStyle VerticalAlign="Middle" />

                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <%--<telerik:GridTemplateColumn HeaderStyle-Width="20" AllowFiltering="false" HeaderText="Task " HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:CheckBox ID="chkSelectTask" CssClass="css-checkbox" Text=" " runat="server" />
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterStyle VerticalAlign="Middle" />

                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false"  HeaderText="User Role" HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <div class="tag-div materialize-textarea textarea-border" id="cusLabelTagUR" style="text-align: left !important; cursor: pointer;" onclick="ShowUserRoleWindow(this);" runat="server"></div>
                                                                                                                            <asp:HiddenField ID="hdnUserRoles" runat="server" Value='<%# Eval("UserRole") %>' />
                                                                                                                            <asp:TextBox ID="txtUserRoles" class='<%# "txtUserRoles_" + Eval("Line") %>' runat="server" Style='min-width: 100px !important; display: none;'
                                                                                                                                Text='<%# Eval("UserRoleDisplay") %>'></asp:TextBox>
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterStyle VerticalAlign="Middle" />
                                                                                                                    </telerik:GridTemplateColumn>--%>
                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Team Member" HeaderStyle-CssClass="itemHeader">

                                                                                                                        <ItemTemplate>
                                                                                                                            <div class="tag-div materialize-textarea textarea-border" id="cusLabelTag" style="text-align: left !important; cursor: pointer;" onclick="ShowTeamMemberWindow(this);" runat="server"></div>
                                                                                                                            <asp:HiddenField ID="hdnMembers" runat="server" Value='<%# Eval("TeamMember") %>' />
                                                                                                                            <asp:TextBox ID="txtMembers" class='<%# "txtMembers_" + Eval("Line") %>' runat="server" Style='min-width: 100px !important; display: none;'
                                                                                                                                Text='<%# Eval("TeamMemberDisplay") %>'></asp:TextBox>
                                                                                                                        </ItemTemplate>

                                                                                                                    </telerik:GridTemplateColumn>

                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated By" HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <%--<asp:Label ID="lbUpdatedBy" runat="server"><%# Eval("Username") %></asp:Label>--%>
                                                                                                                            <asp:Label ID="lbUpdatedBy" runat="server" Text='<%# Eval("Username") %>'></asp:Label>
                                                                                                                        </ItemTemplate>


                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated Date" HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:Label ID="lbUpdatedDate" runat="server"><%# Eval("UpdatedDate") %></asp:Label>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                </Columns>
                                                                                                            </MasterTableView>
                                                                                                        </telerik:RadGrid>
                                                                                                    </telerik:RadAjaxPanel>

                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="cf"></div>
                                                                                        </asp:Panel>
                                                                                        <div style="clear: both;"></div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div id="TabPanel1" class="col s12 tab-container-border lighten-4" style="display: none;">
                                                                                <div class="tabs-custom-mgn1">
                                                                                    <div class="form-section-row">
                                                                                        <div class="section-ttle">Notes</div>
                                                                                        <asp:UpdatePanel ID="UpdatePanel24" runat="server" UpdateMode="Always">
                                                                                            <ContentTemplate>
                                                                                                <div class="form-section3half">
                                                                                                    <div class="input-field col s12" style="margin-bottom: 45px;">
                                                                                                        <div class="row">
                                                                                                            <asp:CheckBox ID="chkspnotes" runat="server" Text="Special Notes" CssClass="css-checkbox" />
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <label for="txtSpecialInstructions" class="txtbrdlbl">Special Note Content</label>
                                                                                                            <asp:TextBox ID="txtSpecialInstructions" CssClass="materialize-textarea textarea-border" runat="server" TextMode="MultiLine"></asp:TextBox>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="form-section3half-blank">
                                                                                                    &nbsp;
                                                                                                </div>
                                                                                                <div class="form-section3half">
                                                                                                    <div class="input-field col s12" style="margin-bottom: 45px;">
                                                                                                        <div class="row">
                                                                                                            <asp:CheckBox ID="chkRenew" runat="server" Text="Renewal Notes" CssClass="css-checkbox" />
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <label for="txtRenew" class="txtbrdlbl">Renewal Note Content</label>
                                                                                                            <asp:TextBox ID="txtRenew" CssClass="materialize-textarea textarea-border" runat="server" TextMode="MultiLine"></asp:TextBox>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>




                                                                                            </ContentTemplate>
                                                                                        </asp:UpdatePanel>
                                                                                    </div>

                                                                                    <div class="form-input-row">
                                                                                        <%--<asp:UpdatePanel ID="UpdatePanel25" runat="server" UpdateMode="Always">
                                                                                            <ContentTemplate>
                                                                                                <div class="section-ttle">Attributes Notes Workflow</div>
                                                                                                <asp:PlaceHolder ID="PlaceHolder1" runat="server"></asp:PlaceHolder>
                                                                                            </ContentTemplate>
                                                                                        </asp:UpdatePanel>--%>
                                                                                        <div class="section-ttle">Attributes Notes Workflow</div>
                                                                                        <asp:Panel ID="pnlCustomAttrNotes" runat="server">
                                                                                            <div class="grid_container" style="margin-bottom: 0 !important;">
                                                                                                <div class="RadGrid RadGrid_Material FormGrid">
                                                                                                    <telerik:RadAjaxPanel ID="RadAjaxPanel6" runat="server" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">
                                                                                                        <telerik:RadGrid RenderMode="Auto" ID="RadGrid_CustomAttrNotes" ShowFooter="false" PageSize="50"
                                                                                                            PagerStyle-AlwaysVisible="false" OnItemDataBound="RadGrid_Custom_ItemDataBound" OnItemCommand="RadGrid_CustomHeader_ItemCommand"
                                                                                                            ShowStatusBar="true" runat="server" AllowPaging="True" Width="100%" AllowCustomPaging="false">
                                                                                                            <CommandItemStyle />
                                                                                                            <GroupingSettings CaseSensitive="false" />
                                                                                                            <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false">
                                                                                                                <Selecting AllowRowSelect="false"></Selecting>
                                                                                                                <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                                                                                                <Resizing AllowColumnResize="true" ResizeGridOnColumnResize="true"></Resizing>
                                                                                                            </ClientSettings>
                                                                                                            <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="false" ShowFooter="True">
                                                                                                                <Columns>

                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="10" AllowFiltering="false" ItemStyle-Width="0.5%" FooterStyle-Width="0.5%">

                                                                                                                        <ItemTemplate>
                                                                                                                            <%--<asp:HiddenField ID="txtOrderNo" Value='<%# Eval("OrderNo") %>' runat="server"></asp:HiddenField>--%>
                                                                                                                            <asp:Label ID="lblIndex" Visible="true" runat="server" Text="<%# Container.ItemIndex +1 %>"></asp:Label>
                                                                                                                            <asp:Label ID="lblID" runat="server" Text='<%# Eval("ID") %>' Style="display: none;"></asp:Label>
                                                                                                                            <asp:Label ID="lblLine" runat="server" Text='<%# Eval("Line") %>' Style="display: none;" class="customline"></asp:Label>
                                                                                                                            <asp:Label ID="lblFormat" runat="server" Text='<%# Eval("Format") %>' Visible="false"></asp:Label>
                                                                                                                            <asp:Label ID="lblCustom" runat="server" Text='<%# Eval("Label") %>' Style="display: none;"></asp:Label>
                                                                                                                        </ItemTemplate>

                                                                                                                    </telerik:GridTemplateColumn>

                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Name" HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <div style="text-align: left">
                                                                                                                                <asp:HiddenField ID="hdnTestItemValueID" Value='' runat="server"></asp:HiddenField>
                                                                                                                                <asp:Panel ID="divFormatText" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="txtFormatText"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtFormatText" runat="server" Text='' MaxLength="255"></asp:TextBox>
                                                                                                                                </asp:Panel>

                                                                                                                                <asp:Panel ID="divFormatDrop" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="drpdwnCustom"><%# Eval("Label") %></label>
                                                                                                                                    <asp:DropDownList ID="drpdwnCustom" runat="server" CssClass="browser-default fontHeader">
                                                                                                                                    </asp:DropDownList>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatCurrent" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="txtFormatCurrent"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtFormatCurrent" runat="server" Text=''
                                                                                                                                        CssClass="custom currency"></asp:TextBox>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatDate" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="txtFormatDate"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtFormatDate" runat="server" Text=''
                                                                                                                                        CssClass="custom datepicker_mom"></asp:TextBox>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatCheckbox" runat="server" Visible="false">

                                                                                                                                    <asp:CheckBox ID="chkCustomFormat" runat="server" Text='&nbsp'
                                                                                                                                        CssClass="css-checkbox custom"></asp:CheckBox>
                                                                                                                                    <label class="fontHeader" for="chkCustomFormat"><%# Eval("Label") %></label>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatNotes" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="txtFormatNotes"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtFormatNotes" runat="server" Text='' MaxLength="255" TextMode="MultiLine"
                                                                                                                                        Style="padding: 0.4rem 0 !important" CssClass="materialize-textarea textarea-border1">
                                                                                                                                    </asp:TextBox>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatChkWithComment" runat="server" Visible="false">
                                                                                                                                    <asp:CheckBox ID="chkWithComment" runat="server" Text='&nbsp'
                                                                                                                                        CssClass="css-checkbox custom"></asp:CheckBox>
                                                                                                                                    <label class="fontHeader" for="chkWithComment"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtChkComment" placeholder="Checkbox comment" runat="server" Text='' MaxLength="255"></asp:TextBox>

                                                                                                                                </asp:Panel>
                                                                                                                            </div>

                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterStyle VerticalAlign="Middle" />

                                                                                                                    </telerik:GridTemplateColumn>

                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="20" AllowFiltering="false" HeaderText="Alert " HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:CheckBox ID="chkSelectAlert" CssClass="css-checkbox" Text=" " runat="server" />
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterStyle VerticalAlign="Middle" />

                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <%--<telerik:GridTemplateColumn HeaderStyle-Width="20" AllowFiltering="false" HeaderText="Task " HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:CheckBox ID="chkSelectTask" CssClass="css-checkbox" Text=" " runat="server" />
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterStyle VerticalAlign="Middle" />

                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false"  HeaderText="User Role" HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <div class="tag-div materialize-textarea textarea-border" id="cusLabelTagUR" style="text-align: left !important; cursor: pointer;" onclick="ShowUserRoleWindow(this);" runat="server"></div>
                                                                                                                            <asp:HiddenField ID="hdnUserRoles" runat="server" Value='<%# Eval("UserRole") %>' />
                                                                                                                            <asp:TextBox ID="txtUserRoles" class='<%# "txtUserRoles_" + Eval("Line") %>' runat="server" Style='min-width: 100px !important; display: none;'
                                                                                                                                Text='<%# Eval("UserRoleDisplay") %>'></asp:TextBox>
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterStyle VerticalAlign="Middle" />
                                                                                                                    </telerik:GridTemplateColumn>--%>
                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Team Member" HeaderStyle-CssClass="itemHeader">

                                                                                                                        <ItemTemplate>
                                                                                                                            <div class="tag-div materialize-textarea textarea-border" id="cusLabelTag" style="text-align: left !important; cursor: pointer;" onclick="ShowTeamMemberWindow(this);" runat="server"></div>
                                                                                                                            <asp:HiddenField ID="hdnMembers" runat="server" Value='<%# Eval("TeamMember") %>' />
                                                                                                                            <asp:TextBox ID="txtMembers" class='<%# "txtMembers_" + Eval("Line") %>' runat="server" Style='min-width: 100px !important; display: none;'
                                                                                                                                Text='<%# Eval("TeamMemberDisplay") %>'></asp:TextBox>
                                                                                                                        </ItemTemplate>

                                                                                                                    </telerik:GridTemplateColumn>

                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated By" HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <%--<asp:Label ID="lbUpdatedBy" runat="server"><%# Eval("Username") %></asp:Label>--%>
                                                                                                                            <asp:Label ID="lbUpdatedBy" runat="server" Text='<%# Eval("Username") %>'></asp:Label>
                                                                                                                        </ItemTemplate>


                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated Date" HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:Label ID="lbUpdatedDate" runat="server"><%# Eval("UpdatedDate") %></asp:Label>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                </Columns>
                                                                                                            </MasterTableView>
                                                                                                        </telerik:RadGrid>
                                                                                                    </telerik:RadAjaxPanel>

                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="cf"></div>
                                                                                        </asp:Panel>
                                                                                        <div style="clear: both;"></div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div id="tbpnlFinance" class="   tab-container-border lighten-4" style="display: none;">
                                                <div class="form-content-wrap">
                                                    <div class="tabs-custom-mgn1" style="padding-top: 20px;">
                                                        <div class="form-section-row">
                                                            <div class="row">

                                                                <div class="row">
                                                                    <div class="  tabdiv">
                                                                        <ul class="tabs tab-demo-active white subTab">
                                                                            <li class="tab col s2" id="lifinancegeneralhead" runat="server">
                                                                                <a class="white-text waves-effect waves-light active" href="#tbpnlGeneral1">General</a>
                                                                            </li>
                                                                            <li class="tab col s2" id="lifinancebudgethead" runat="server">
                                                                                <a class="white-text waves-effect waves-light" runat="server" id="liBudgets" href="#tbpnlBudgets" onclick="LoadGvBudget();">Budgets</a>
                                                                            </li>
                                                                            <li class="tab col s2" id="lifinancebillinghead" runat="server">
                                                                                <a class="white-text waves-effect waves-light" runat="server" id="liBilling" href="#tbpnlBilling" onclick="LoadAP_ARInvoices();">AR/AP</a>
                                                                            </li>
                                                                            <li class="tab col s2" id="lifinancewagecategoryhead" runat="server">
                                                                                <a class="white-text waves-effect waves-light" runat="server" id="liWageCategories" href="#tbpnlWageCategories" visible="false">Wage Categories</a>
                                                                            </li>
                                                                            <li class="tab col s2" id="lifinancewagedeductionhead" runat="server">
                                                                                <a class="white-text waves-effect waves-light" runat="server" id="liDeductionCat" href="#tbpnlDeductionCat" visible="false">Deduction Cat.</a>
                                                                            </li>
                                                                        </ul>
                                                                    </div>

                                                                    <div style="padding-top: 20px;">
                                                                        <asp:Panel ID="tbpnlGeneral1" ClientIDMode="Static" runat="server" CssClass="col s12 tab-container-border lighten-4" Style="display: block;">
                                                                            <div class="tabs-custom-mgn1">
                                                                                <div class="form-section-row">
                                                                                    <asp:UpdatePanel ID="UpdatePanel6" runat="server" UpdateMode="Always">
                                                                                        <ContentTemplate>
                                                                                            <div class="section-ttle">General</div>
                                                                                            <div class="form-section3">
                                                                                                <div class="input-field col s12">
                                                                                                    <div class="row">
                                                                                                        <label for="uc_InvExpGL">Expense GL</label>
                                                                                                        <uc1:uc_AccountSearch ID="uc_InvExpGL" UpdateMode="Conditional" runat="server" />
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="input-field col s12">
                                                                                                    <div class="row">
                                                                                                        <label for="uc_InterestGL">Interest GL</label>
                                                                                                        <uc1:uc_AccountSearch ID="uc_InterestGL" UpdateMode="Conditional" runat="server" />
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="form-section3-blank">
                                                                                                &nbsp;
                                                                                            </div>
                                                                                            <div class="form-section3">
                                                                                                <div class="input-field col s12">
                                                                                                    <div class="row">
                                                                                                        <label for="txtInvService">Billing Code</label>
                                                                                                        <asp:TextBox ID="txtInvService" runat="server" AutoCompleteType="None"
                                                                                                            MaxLength="255"></asp:TextBox>
                                                                                                        <asp:HiddenField ID="hdnInvServiceID" runat="server" />
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="input-field col s12">
                                                                                                    <div class="row">
                                                                                                        <label for="txtPrevilWage">Labor Wage</label>
                                                                                                        <asp:TextBox ID="txtPrevilWage" runat="server" AutoCompleteType="None"
                                                                                                            MaxLength="255"></asp:TextBox>
                                                                                                        <asp:HiddenField ID="hdnPrevilWageID" runat="server" />
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="form-section3-blank">
                                                                                                &nbsp;
                                                                                            </div>
                                                                                            <div class="form-section3">
                                                                                                <%-- <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <label class="drpdwn-label">Posting Type</label>
                                                                                                            <%--<select class="browser-default" disabled="disabled">
                                                                                                                <option value="" selected>No Data Found</option>
                                                                                                                <option value="1">Alberta</option>
                                                                                                                <option value="2">Alaska</option>
                                                                                                            </select>
                                                                                                        </div>
                                                                                                    </div>--%>
                                                                                                <div class="input-field col s12">
                                                                                                    <div class="row">
                                                                                                        <label for="ddlContractType1" class="drpdwn-label">Service Type</label>
                                                                                                        <asp:DropDownList ID="ddlContractType1" runat="server" CssClass="browser-default" OnSelectedIndexChanged="ddlContractType1_SelectedIndexChanged" AutoPostBack="true"></asp:DropDownList>


                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="input-field col s12" style="margin-top: 30px;">
                                                                                                    <div class="checkrow">
                                                                                                        <span class="tro">
                                                                                                            <%--<label for="chkInvoicing" class="title-check-text">Close After Invoicing</label>--%>
                                                                                                        </span>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </ContentTemplate>
                                                                                        <Triggers>
                                                                                            <asp:AsyncPostBackTrigger ControlID="ddlTemplate" />
                                                                                        </Triggers>
                                                                                    </asp:UpdatePanel>
                                                                                </div>
                                                                                <div class="form-section-row">
                                                                                    <%--<asp:UpdatePanel ID="UpdatePanel12" runat="server" UpdateMode="Always">
                                                                                            <ContentTemplate>
                                                                                                <div class="section-ttle">Finance General Workflow</div>
                                                                                                <asp:PlaceHolder ID="PlaceHolderFinceGeneral" runat="server"></asp:PlaceHolder>
                                                                                            </ContentTemplate>
                                                                                        </asp:UpdatePanel>--%>
                                                                                    <div class="section-ttle">Finance General Workflow</div>
                                                                                    <asp:Panel ID="pnlCustomFinanceGeneral" runat="server">
                                                                                        <div class="grid_container" style="margin-bottom: 0 !important;">
                                                                                            <div class="RadGrid RadGrid_Material FormGrid">
                                                                                                <telerik:RadAjaxPanel ID="RadAjaxPanel7" runat="server" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">
                                                                                                    <telerik:RadGrid RenderMode="Auto" ID="RadGrid_CustomFinanceGeneral" ShowFooter="false" PageSize="50"
                                                                                                        PagerStyle-AlwaysVisible="false" OnItemDataBound="RadGrid_Custom_ItemDataBound" OnItemCommand="RadGrid_CustomHeader_ItemCommand"
                                                                                                        ShowStatusBar="true" runat="server" AllowPaging="True" Width="100%" AllowCustomPaging="false">
                                                                                                        <CommandItemStyle />
                                                                                                        <GroupingSettings CaseSensitive="false" />
                                                                                                        <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false">
                                                                                                            <Selecting AllowRowSelect="false"></Selecting>
                                                                                                            <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                                                                                            <Resizing AllowColumnResize="true" ResizeGridOnColumnResize="true"></Resizing>
                                                                                                        </ClientSettings>
                                                                                                        <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="false" ShowFooter="True">
                                                                                                            <Columns>

                                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="10" AllowFiltering="false" ItemStyle-Width="0.5%" FooterStyle-Width="0.5%">

                                                                                                                    <ItemTemplate>
                                                                                                                        <%--<asp:HiddenField ID="txtOrderNo" Value='<%# Eval("OrderNo") %>' runat="server"></asp:HiddenField>--%>
                                                                                                                        <asp:Label ID="lblIndex" Visible="true" runat="server" Text="<%# Container.ItemIndex +1 %>"></asp:Label>
                                                                                                                        <asp:Label ID="lblID" runat="server" Text='<%# Eval("ID") %>' Style="display: none;"></asp:Label>
                                                                                                                        <asp:Label ID="lblLine" runat="server" Text='<%# Eval("Line") %>' Style="display: none;" class="customline"></asp:Label>
                                                                                                                        <asp:Label ID="lblFormat" runat="server" Text='<%# Eval("Format") %>' Visible="false"></asp:Label>
                                                                                                                        <asp:Label ID="lblCustom" runat="server" Text='<%# Eval("Label") %>' Style="display: none;"></asp:Label>
                                                                                                                    </ItemTemplate>

                                                                                                                </telerik:GridTemplateColumn>

                                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Name" HeaderStyle-CssClass="itemHeader">
                                                                                                                    <ItemTemplate>
                                                                                                                        <div style="text-align: left">
                                                                                                                            <asp:HiddenField ID="hdnTestItemValueID" Value='' runat="server"></asp:HiddenField>
                                                                                                                            <asp:Panel ID="divFormatText" runat="server" Visible="false">
                                                                                                                                <label class="fontHeader" for="txtFormatText"><%# Eval("Label") %></label>
                                                                                                                                <asp:TextBox ID="txtFormatText" runat="server" Text='' MaxLength="255"></asp:TextBox>
                                                                                                                            </asp:Panel>

                                                                                                                            <asp:Panel ID="divFormatDrop" runat="server" Visible="false">
                                                                                                                                <label class="fontHeader" for="drpdwnCustom"><%# Eval("Label") %></label>
                                                                                                                                <asp:DropDownList ID="drpdwnCustom" runat="server" CssClass="browser-default fontHeader">
                                                                                                                                </asp:DropDownList>
                                                                                                                            </asp:Panel>
                                                                                                                            <asp:Panel ID="divFormatCurrent" runat="server" Visible="false">
                                                                                                                                <label class="fontHeader" for="txtFormatCurrent"><%# Eval("Label") %></label>
                                                                                                                                <asp:TextBox ID="txtFormatCurrent" runat="server" Text=''
                                                                                                                                    CssClass="custom currency"></asp:TextBox>
                                                                                                                            </asp:Panel>
                                                                                                                            <asp:Panel ID="divFormatDate" runat="server" Visible="false">
                                                                                                                                <label class="fontHeader" for="txtFormatDate"><%# Eval("Label") %></label>
                                                                                                                                <asp:TextBox ID="txtFormatDate" runat="server" Text=''
                                                                                                                                    CssClass="custom datepicker_mom"></asp:TextBox>
                                                                                                                            </asp:Panel>
                                                                                                                            <asp:Panel ID="divFormatCheckbox" runat="server" Visible="false">

                                                                                                                                <asp:CheckBox ID="chkCustomFormat" runat="server" Text='&nbsp'
                                                                                                                                    CssClass="css-checkbox custom"></asp:CheckBox>
                                                                                                                                <label class="fontHeader" for="chkCustomFormat"><%# Eval("Label") %></label>
                                                                                                                            </asp:Panel>
                                                                                                                            <asp:Panel ID="divFormatNotes" runat="server" Visible="false">
                                                                                                                                <label class="fontHeader" for="txtFormatNotes"><%# Eval("Label") %></label>
                                                                                                                                <asp:TextBox ID="txtFormatNotes" runat="server" Text='' MaxLength="255" TextMode="MultiLine"
                                                                                                                                    Style="padding: 0.4rem 0 !important" CssClass="materialize-textarea textarea-border1">
                                                                                                                                </asp:TextBox>
                                                                                                                            </asp:Panel>
                                                                                                                            <asp:Panel ID="divFormatChkWithComment" runat="server" Visible="false">
                                                                                                                                <asp:CheckBox ID="chkWithComment" runat="server" Text='&nbsp'
                                                                                                                                    CssClass="css-checkbox custom"></asp:CheckBox>
                                                                                                                                <label class="fontHeader" for="chkWithComment"><%# Eval("Label") %></label>
                                                                                                                                <asp:TextBox ID="txtChkComment" placeholder="Checkbox comment" runat="server" Text='' MaxLength="255"></asp:TextBox>

                                                                                                                            </asp:Panel>
                                                                                                                        </div>

                                                                                                                    </ItemTemplate>
                                                                                                                    <FooterStyle VerticalAlign="Middle" />

                                                                                                                </telerik:GridTemplateColumn>

                                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="20" AllowFiltering="false" HeaderText="Alert " HeaderStyle-CssClass="itemHeader">
                                                                                                                    <ItemTemplate>
                                                                                                                        <asp:CheckBox ID="chkSelectAlert" CssClass="css-checkbox" Text=" " runat="server" />
                                                                                                                    </ItemTemplate>
                                                                                                                    <FooterStyle VerticalAlign="Middle" />

                                                                                                                </telerik:GridTemplateColumn>
                                                                                                                <%--<telerik:GridTemplateColumn HeaderStyle-Width="20" AllowFiltering="false" HeaderText="Task " HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:CheckBox ID="chkSelectTask" CssClass="css-checkbox" Text=" " runat="server" />
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterStyle VerticalAlign="Middle" />

                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false"  HeaderText="User Role" HeaderStyle-CssClass="itemHeader">
                                                                                                                    <ItemTemplate>
                                                                                                                        <div class="tag-div materialize-textarea textarea-border" id="cusLabelTagUR" style="text-align: left !important; cursor: pointer;" onclick="ShowUserRoleWindow(this);" runat="server"></div>
                                                                                                                        <asp:HiddenField ID="hdnUserRoles" runat="server" Value='<%# Eval("UserRole") %>' />
                                                                                                                        <asp:TextBox ID="txtUserRoles" class='<%# "txtUserRoles_" + Eval("Line") %>' runat="server" Style='min-width: 100px !important; display: none;'
                                                                                                                            Text='<%# Eval("UserRoleDisplay") %>'></asp:TextBox>
                                                                                                                    </ItemTemplate>
                                                                                                                    <FooterStyle VerticalAlign="Middle" />
                                                                                                                </telerik:GridTemplateColumn>--%>
                                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Team Member" HeaderStyle-CssClass="itemHeader">

                                                                                                                    <ItemTemplate>
                                                                                                                        <div class="tag-div materialize-textarea textarea-border" id="cusLabelTag" style="text-align: left !important; cursor: pointer;" onclick="ShowTeamMemberWindow(this);" runat="server"></div>
                                                                                                                        <asp:HiddenField ID="hdnMembers" runat="server" Value='<%# Eval("TeamMember") %>' />
                                                                                                                        <asp:TextBox ID="txtMembers" class='<%# "txtMembers_" + Eval("Line") %>' runat="server" Style='min-width: 100px !important; display: none;'
                                                                                                                            Text='<%# Eval("TeamMemberDisplay") %>'></asp:TextBox>
                                                                                                                    </ItemTemplate>

                                                                                                                </telerik:GridTemplateColumn>

                                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated By" HeaderStyle-CssClass="itemHeader">
                                                                                                                    <ItemTemplate>
                                                                                                                        <%--<asp:Label ID="lbUpdatedBy" runat="server"><%# Eval("Username") %></asp:Label>--%>
                                                                                                                        <asp:Label ID="lbUpdatedBy" runat="server" Text='<%# Eval("Username") %>'></asp:Label>
                                                                                                                    </ItemTemplate>


                                                                                                                </telerik:GridTemplateColumn>
                                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated Date" HeaderStyle-CssClass="itemHeader">
                                                                                                                    <ItemTemplate>
                                                                                                                        <asp:Label ID="lbUpdatedDate" runat="server"><%# Eval("UpdatedDate") %></asp:Label>
                                                                                                                    </ItemTemplate>
                                                                                                                </telerik:GridTemplateColumn>
                                                                                                            </Columns>
                                                                                                        </MasterTableView>
                                                                                                    </telerik:RadGrid>
                                                                                                </telerik:RadAjaxPanel>

                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="cf"></div>
                                                                                    </asp:Panel>
                                                                                    <div style="clear: both;"></div>
                                                                                </div>
                                                                            </div>
                                                                        </asp:Panel>
                                                                        <asp:Panel ID="tbpnlBudgets" ClientIDMode="Static" runat="server" CssClass="col s12 tab-container-border lighten-4" Style="display: none;">
                                                                            <div class="tabs-custom-mgn1">
                                                                                <div class="form-section-row">
                                                                                    <div class="section-ttle">Budgets</div>
                                                                                    <div class="form-section-row">
                                                                                        <div class="col s10">
                                                                                            <div class="btnlinks">
                                                                                                <asp:LinkButton ID="lnktargeted1" OnClick="lnktargeted_Click" Visible="false" runat="server" CausesValidation="false">Set Target Hours </asp:LinkButton>
                                                                                            </div>
                                                                                            <div class="btnlinks">
                                                                                                <asp:LinkButton ID="lnkExcelBud" runat="server" OnClick="lnkExcelBud_Click">Export to Excel</asp:LinkButton>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="col s2">
                                                                                            <div class="checkrow input-field ">
                                                                                                <span class="tro">
                                                                                                    <asp:CheckBox ID="chkExpense" AutoPostBack="true" runat="server" OnCheckedChanged="chkExpense_CheckedChanged" Text="Show Breakdown" class="title-check-text css-checkbox" />
                                                                                                </span>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="form-section-row" style="margin-left: 0px; width: 100%;">
                                                                                    <div class="form-section-row">
                                                                                        <div class="grid_container">
                                                                                            <div class="form-section-row" style="margin-bottom: 0 !important;">
                                                                                                <telerik:RadWindow ID="RadWindowth"
                                                                                                    Skin="Material"
                                                                                                    VisibleTitlebar="true"
                                                                                                    Title="Set Targeted Hours"
                                                                                                    Behaviors="Close"
                                                                                                    CenterIfModal="false"
                                                                                                    Animation="Fade"
                                                                                                    AnimationDuration="100"
                                                                                                    RenderMode="Auto"
                                                                                                    VisibleStatusbar="false"
                                                                                                    MinWidth="700px" MinHeight="450px"
                                                                                                    ReloadOnShow="false"
                                                                                                    AutoSize="false"
                                                                                                    Modal="false"
                                                                                                    runat="server">
                                                                                                    <ContentTemplate>

                                                                                                        <script type="text/javascript">
                                                                                                            function MutExChkList(chk) {

                                                                                                                if (chk.id != 'ctl00_ContentPlaceHolder1_RadWindowth_C_chkCopytargetedhoursoverbudgethours') {
                                                                                                                    $('#ctl00_ContentPlaceHolder1_RadWindowth_C_chkCopytargetedhoursoverbudgethours').prop("checked", false);
                                                                                                                }
                                                                                                                if (chk.id != 'ctl00_ContentPlaceHolder1_RadWindowth_C_chkMassupdatetargeted') {
                                                                                                                    $('#ctl00_ContentPlaceHolder1_RadWindowth_C_chkMassupdatetargeted').prop("checked", false);
                                                                                                                }
                                                                                                                if (chk.id != 'ctl00_ContentPlaceHolder1_RadWindowth_C_chkMassupdatetargetedhoursby') {
                                                                                                                    $('#ctl00_ContentPlaceHolder1_RadWindowth_C_chkMassupdatetargetedhoursby').prop("checked", false);
                                                                                                                }

                                                                                                            }
                                                                                                        </script>
                                                                                                        <telerik:RadAjaxPanel ID="RadAjaxPanelForRadGvlstRelatedTickets" runat="server">
                                                                                                            <div class="grid_container">
                                                                                                                <div class="RadGrid RadGrid_Material FormGrid">
                                                                                                                    <div class="form-section">
                                                                                                                        <div class="input-field col s12">
                                                                                                                            <div class="checkrow">
                                                                                                                                <span class="tro">
                                                                                                                                    <asp:CheckBox ID="chkCopytargetedhoursoverbudgethours" onclick="MutExChkList(this);" Text="Copy from budgeted hours" runat="server" CssClass="css-checkbox chkTH" />
                                                                                                                                    <asp:CheckBox ID="chkMassupdatetargetedhoursby" onclick="MutExChkList(this);" Text="Update target hours (%)" runat="server" CssClass="css-checkbox chkTH" />
                                                                                                                                    <asp:CheckBox ID="chkMassupdatetargeted" onclick="MutExChkList(this);" Style="display: none;" Text="Mass update target hours " runat="server" CssClass="css-checkbox chkTH" />
                                                                                                                                    &nbsp;
                                                                                                                                    <asp:TextBox ID="txthoursreduce" Width="50px" TextMode="Number" Text="0" runat="server"> </asp:TextBox>
                                                                                                                                </span>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                        <div class="input-field col s2">
                                                                                                                            <div class="row">
                                                                                                                                <div class="btnlinks">
                                                                                                                                    <asp:LinkButton ID="lnkSetTH" Style="float: right!important;" OnClick="lnkSetTH_Click" runat="server" CausesValidation="false">Update</asp:LinkButton>
                                                                                                                                </div>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>

                                                                                                            <telerik:RadGrid ID="RadTHGrid" Visible="true" runat="server">
                                                                                                                <CommandItemStyle />
                                                                                                                <GroupHeaderItemStyle Font-Size="Medium" Font-Bold="true" />
                                                                                                                <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="false" ShowFooter="false" AllowPaging="false">
                                                                                                                    <Columns>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="GroupName" DataField="GroupName" UniqueName="GroupName" HeaderStyle-HorizontalAlign="Center" ItemStyle-HorizontalAlign="Center"
                                                                                                                            HeaderStyle-Width="100" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:Label ID="lblgp" runat="server" Text='<%# Eval("GroupName") %>'> </asp:Label>
                                                                                                                            </ItemTemplate>
                                                                                                                            <FooterTemplate>
                                                                                                                            </FooterTemplate>
                                                                                                                        </telerik:GridTemplateColumn>

                                                                                                                        <telerik:GridTemplateColumn HeaderText="Code" DataField="Code" UniqueName="Code" HeaderStyle-HorizontalAlign="Center" ItemStyle-HorizontalAlign="Center"
                                                                                                                            HeaderStyle-Width="50" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:Label ID="lblcode" runat="server" Text='<%# Eval("Code") %>'> </asp:Label>
                                                                                                                            </ItemTemplate>
                                                                                                                            <FooterTemplate>
                                                                                                                            </FooterTemplate>
                                                                                                                        </telerik:GridTemplateColumn>

                                                                                                                        <telerik:GridTemplateColumn HeaderText="CodeDesc" DataField="CodeDesc" UniqueName="CodeDesc" HeaderStyle-HorizontalAlign="Center" ItemStyle-HorizontalAlign="Center"
                                                                                                                            HeaderStyle-Width="50" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:Label ID="lblcodedesc" runat="server" Text='<%# Eval("CodeDesc") %>'> </asp:Label>
                                                                                                                            </ItemTemplate>
                                                                                                                            <FooterTemplate>
                                                                                                                            </FooterTemplate>
                                                                                                                        </telerik:GridTemplateColumn>

                                                                                                                        <telerik:GridTemplateColumn HeaderText="Budgeted Hours" DataField="BHours" UniqueName="BHours" HeaderStyle-HorizontalAlign="Center" ItemStyle-HorizontalAlign="Center" Aggregate="Sum"
                                                                                                                            HeaderStyle-Width="50" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtBH1" Width="80px" runat="server" ReadOnly="true" Text='<%# Eval("BHours") %>'> </asp:TextBox>
                                                                                                                                <asp:HiddenField ID="hdnbHours" runat="server" Value='<%# Eval("BHours") %>'></asp:HiddenField>
                                                                                                                            </ItemTemplate>
                                                                                                                            <FooterTemplate>
                                                                                                                            </FooterTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="TargetHours" DataField="TargetHours" UniqueName="TargetHours" HeaderStyle-HorizontalAlign="Center" ItemStyle-HorizontalAlign="Center"
                                                                                                                            HeaderStyle-Width="50" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtTH" Width="80px" runat="server" Text='<%# Eval("TargetHours") %>'> </asp:TextBox>
                                                                                                                                <asp:HiddenField ID="hdnTargetHours" runat="server" Value='<%# Eval("Code") %>'></asp:HiddenField>
                                                                                                                            </ItemTemplate>
                                                                                                                            <FooterTemplate>
                                                                                                                            </FooterTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                    </Columns>
                                                                                                                </MasterTableView>
                                                                                                            </telerik:RadGrid>
                                                                                                        </telerik:RadAjaxPanel>
                                                                                                        </div></div>
                                                                                                    </ContentTemplate>
                                                                                                </telerik:RadWindow>

                                                                                                <telerik:RadWindow
                                                                                                    ID="RadWindowProjectBudgetDetail"
                                                                                                    Skin="Material" VisibleTitlebar="true"
                                                                                                    Title="Project Budget Detail"
                                                                                                    Behaviors="Default"
                                                                                                    CenterIfModal="true"
                                                                                                    Animation="Fade"
                                                                                                    AnimationDuration="50"
                                                                                                    RenderMode="Auto"
                                                                                                    VisibleStatusbar="true"
                                                                                                    MinWidth="100%"
                                                                                                    MinHeight="100%"
                                                                                                    ReloadOnShow="false"
                                                                                                    runat="server"
                                                                                                    Modal="true"
                                                                                                    ShowContentDuringLoad="false">
                                                                                                </telerik:RadWindow>




                                                                                                <telerik:RadAjaxLoadingPanel ID="RadAjaxLoadingPanel_gvBudget" runat="server">
                                                                                                </telerik:RadAjaxLoadingPanel>
                                                                                                <div class="RadGrid RadGrid_Material">
                                                                                                    <telerik:RadCodeBlock ID="RadCodeBlock1" runat="server">
                                                                                                        <script type="text/javascript">
                                                                                                            function pageLoad() {
                                                                                                                //debugger;
                                                                                                                var grid = $find("<%= gvBudget.ClientID %>");
                                                                                                                var columns = grid.get_masterTableView().get_columns();
                                                                                                                for (var i = 0; i < columns.length; i++) {
                                                                                                                    columns[i].resizeToFit(false, true);
                                                                                                                }
                                                                                                            }
                                                                                                            var requestInitiator = null;
                                                                                                            var selectionStart = null;
                                                                                                            function requestStart(sender, args) {
                                                                                                                requestInitiator = document.activeElement.id;
                                                                                                                if (document.activeElement.tagName == "INPUT") {
                                                                                                                    selectionStart = document.activeElement.selectionStart;
                                                                                                                }
                                                                                                            }
                                                                                                            function responseEnd(sender, args) {
                                                                                                                var element = document.getElementById(requestInitiator);
                                                                                                                if (element && element.tagName == "INPUT") {
                                                                                                                    element.focus();
                                                                                                                    element.selectionStart = selectionStart;
                                                                                                                }
                                                                                                            }
                                                                                                            function LoadGvBudget() {
                                                                                                                if (document.getElementById('<%= hdnLoadgvBudget.ClientID%>').value == "0") {
                                                                                                                    document.getElementById('<%= lnkloadgvBudget.ClientID%>').click();
                                                                                                                }
                                                                                                            }
                                                                                                        </script>
                                                                                                    </telerik:RadCodeBlock>


                                                                                                    <asp:LinkButton ID="lnkloadgvBudget" CausesValidation="false" runat="server" Text="" OnClick="lnkloadgvBudget_Click" />


                                                                                                    <telerik:RadAjaxPanel ID="RadAjaxPanel17" runat="server" LoadingPanelID="RadAjaxLoadingPanel_gvExpenses" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">



                                                                                                        <asp:HiddenField ID="hdnLoadgvBudget" runat="server" Value="0" />


                                                                                                        <div class="grid_container">
                                                                                                            <div class="RadGrid RadGrid_Material FormGrid">

                                                                                                                <telerik:RadGrid ID="gvBudget" RenderMode="Auto" AllowFilteringByColumn="true" AllowPaging="false" OnPreRender="gvBudget_PreRender"
                                                                                                                    PagerStyle-AlwaysVisible="true" PageSize="25" ShowFooter="true"
                                                                                                                    ShowHeader="true" ShowGroupPanel="true"
                                                                                                                    runat="server" Width="100%" OnItemDataBound="gvBudget_ItemDataBound" OnNeedDataSource="RadGrid_gvBudget_NeedDataSource">
                                                                                                                    <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false" AllowGroupExpandCollapse="true">
                                                                                                                        <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" FrozenColumnsCount="4" />
                                                                                                                        <Resizing AllowColumnResize="true" ResizeGridOnColumnResize="true"></Resizing>
                                                                                                                    </ClientSettings>
                                                                                                                    <GroupingSettings ShowUnGroupButton="false" CaseSensitive="false"></GroupingSettings>
                                                                                                                    <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="true" ShowFooter="true" AllowPaging="false" ShowGroupFooter="true" ItemStyle-HorizontalAlign="Right">

                                                                                                                        <Columns>
                                                                                                                            <telerik:GridTemplateColumn HeaderText="Group" DataField="GroupName" UniqueName="GroupName" HeaderStyle-HorizontalAlign="Center" ItemStyle-HorizontalAlign="Right"
                                                                                                                                HeaderStyle-Width="80" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                                                <ItemTemplate>
                                                                                                                                    <%# Eval("GroupName") %>' 
                                                                                                                                </ItemTemplate>
                                                                                                                                <%--  <FooterTemplate>
                                                                                                                                </FooterTemplate>--%>
                                                                                                                            </telerik:GridTemplateColumn>
                                                                                                                            <telerik:GridTemplateColumn HeaderText="Op Sequence" DataField="Code" UniqueName="Code" FooterText="Total: " HeaderStyle-HorizontalAlign="Center" ItemStyle-HorizontalAlign="Right"
                                                                                                                                HeaderStyle-Width="80" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                                                <ItemTemplate>
                                                                                                                                    <asp:Label ID="lblOpSeq" runat="server" Text='<%# Eval("Code") %>'></asp:Label>
                                                                                                                                </ItemTemplate>
                                                                                                                                <%--   <FooterTemplate>
                                                                                                                                    <asp:Label ID="lblNetProfit" runat="server" Text="Net Profit" Font-Bold="true"></asp:Label>
                                                                                                                                </FooterTemplate>--%>
                                                                                                                            </telerik:GridTemplateColumn>
                                                                                                                            <telerik:GridTemplateColumn HeaderText="CodeDesc" DataField="CodeDesc" UniqueName="CodeDesc" HeaderStyle-HorizontalAlign="Center" ItemStyle-HorizontalAlign="Right"
                                                                                                                                HeaderStyle-Width="80" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                                                <ItemTemplate>
                                                                                                                                    <%# Eval("CodeDesc") %>
                                                                                                                                </ItemTemplate>
                                                                                                                                <%--   <FooterTemplate>
                                                                                                                                </FooterTemplate>--%>
                                                                                                                            </telerik:GridTemplateColumn>
                                                                                                                            <telerik:GridBoundColumn HeaderText="Type" DataField="BType" UniqueName="BType" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false"
                                                                                                                                HeaderStyle-Width="80" HeaderStyle-HorizontalAlign="Center">
                                                                                                                            </telerik:GridBoundColumn>
                                                                                                                            <telerik:GridTemplateColumn HeaderText="Description" DataField="fDesc" UniqueName="fDesc" HeaderStyle-HorizontalAlign="Center"
                                                                                                                                HeaderStyle-Width="150" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                                                <ItemTemplate>
                                                                                                                                    <asp:Label ID="lblfDesc" runat="server" Text='<%# Bind("fDesc") %>'></asp:Label>
                                                                                                                                    <asp:Label ID="lblType" runat="server" Text='<%# Bind("Type") %>' Style="display: none;"></asp:Label>
                                                                                                                                </ItemTemplate>
                                                                                                                            </telerik:GridTemplateColumn>


                                                                                                                            <telerik:GridTemplateColumn HeaderText="Actual" DataField="Actual" UniqueName="Actual" DataType="System.Decimal" Aggregate="Sum" FooterText="$"
                                                                                                                                AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo" ShowFilterIcon="false"
                                                                                                                                ItemStyle-HorizontalAlign="Right" HeaderStyle-HorizontalAlign="Center" FooterAggregateFormatString="{0:c}" HeaderStyle-Width="80">
                                                                                                                                <ItemTemplate>
                                                                                                                                    <a style="text-decoration: none" href="javascript:void(0);" onclick="ShowProjectBudgetDetailPopup(<%#Request.QueryString["uid"] %>,<%#Eval("Type") %>, <%#Eval("Phase")   %> , <%#Eval("Actual")   %>  )">
                                                                                                                                        <asp:Label ID="lblActual" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "Actual", "{0:c}")%>'
                                                                                                                                            ForeColor='<%# Convert.ToDouble(Eval("Actual"))>=0?System.Drawing.Color.Black:System.Drawing.Color.Red %>'></asp:Label>
                                                                                                                                    </a>
                                                                                                                                </ItemTemplate>

                                                                                                                            </telerik:GridTemplateColumn>


                                                                                                                            <telerik:GridTemplateColumn HeaderText="Actual Labor" DataField="ActualLabor" UniqueName="ActualLabor" DataType="System.Decimal" Aggregate="Sum" FooterText="$"
                                                                                                                                AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo" ShowFilterIcon="false"
                                                                                                                                ItemStyle-HorizontalAlign="Right" HeaderStyle-HorizontalAlign="Center" FooterAggregateFormatString="{0:c}" HeaderStyle-Width="80">
                                                                                                                                <ItemTemplate>
                                                                                                                                    <a style="text-decoration: none" href="javascript:void(0);" onclick="ShowProjectBudgetDetailPopup(<%#Request.QueryString["uid"] %>,<%#Eval("Type") %>, <%#Eval("Phase")   %> , <%#Eval("ActualLabor")   %>  )">
                                                                                                                                        <asp:Label ID="lblActuallabor" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "ActualLabor", "{0:c}")%>'
                                                                                                                                            ForeColor='<%# Convert.ToDouble(Eval("ActualLabor"))>=0?System.Drawing.Color.Black:System.Drawing.Color.Red %>'></asp:Label>
                                                                                                                                    </a>
                                                                                                                                </ItemTemplate>

                                                                                                                            </telerik:GridTemplateColumn>




                                                                                                                            <telerik:GridTemplateColumn HeaderText="Actual Material" DataField="ActualMaterial" UniqueName="ActualMaterial" DataType="System.Decimal" Aggregate="Sum" FooterText="$"
                                                                                                                                AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo" ShowFilterIcon="false"
                                                                                                                                ItemStyle-HorizontalAlign="Right" HeaderStyle-HorizontalAlign="Center" FooterAggregateFormatString="{0:c}" HeaderStyle-Width="80">
                                                                                                                                <ItemTemplate>
                                                                                                                                    <a style="text-decoration: none" href="javascript:void(0);" onclick="ShowProjectBudgetDetailPopup(<%#Request.QueryString["uid"] %>,<%#Eval("Type") %>, <%#Eval("Phase")   %> , <%#Eval("ActualMaterial")   %>  )">
                                                                                                                                        <asp:Label ID="lblActualmaterial" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "ActualMaterial", "{0:c}")%>'
                                                                                                                                            ForeColor='<%# Convert.ToDouble(Eval("ActualMaterial"))>=0?System.Drawing.Color.Black:System.Drawing.Color.Red %>'></asp:Label>
                                                                                                                                    </a>
                                                                                                                                </ItemTemplate>

                                                                                                                            </telerik:GridTemplateColumn>


                                                                                                                            <telerik:GridTemplateColumn HeaderText="Actual Other" DataField="ActualOther" UniqueName="ActualOther" DataType="System.Decimal" Aggregate="Sum" FooterText="$"
                                                                                                                                AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo" ShowFilterIcon="false"
                                                                                                                                ItemStyle-HorizontalAlign="Right" HeaderStyle-HorizontalAlign="Center" FooterAggregateFormatString="{0:c}" HeaderStyle-Width="80">
                                                                                                                                <ItemTemplate>
                                                                                                                                    <a style="text-decoration: none" href="javascript:void(0);" onclick="ShowProjectBudgetDetailPopup(<%#Request.QueryString["uid"] %>,<%#Eval("Type") %>, <%#Eval("Phase")   %> , <%#Eval("ActualOther")   %>  )">
                                                                                                                                        <asp:Label ID="lblActualOther" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "ActualOther", "{0:c}")%>'
                                                                                                                                            ForeColor='<%# Convert.ToDouble(Eval("ActualOther"))>=0?System.Drawing.Color.Black:System.Drawing.Color.Red %>'></asp:Label>
                                                                                                                                    </a>
                                                                                                                                </ItemTemplate>

                                                                                                                            </telerik:GridTemplateColumn>

                                                                                                                         
                                                                                                                            <telerik:GridTemplateColumn HeaderText="Total" DataField="Total" UniqueName="Total" HeaderStyle-Width="80" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right" Aggregate="Sum" FooterText="$" AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo" ShowFilterIcon="false" FooterAggregateFormatString="{0:c}">
                                                                                                                                <ItemTemplate>
                                                                                                                                    <asp:Label ID="lblTotalActual" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "Total", "{0:c}")%>'
                                                                                                                                        ForeColor='<%# Convert.ToDouble(Eval("Total"))>=0?System.Drawing.Color.Black:System.Drawing.Color.Red %>'></asp:Label>
                                                                                                                                </ItemTemplate>
                                                                                                                            </telerik:GridTemplateColumn>


                                                                                                                            <telerik:GridTemplateColumn HeaderText="Budget" DataField="Budget" UniqueName="Budget" HeaderStyle-Width="80" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right" Aggregate="Sum" FooterText="$" AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo" ShowFilterIcon="false" FooterAggregateFormatString="{0:c}">
                                                                                                                                <ItemTemplate>
                                                                                                                                    <asp:Label ID="lblBudget" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "Budget", "{0:c}")%>'
                                                                                                                                        ForeColor='<%# Convert.ToDouble(Eval("Budget"))>=0?System.Drawing.Color.Black:System.Drawing.Color.Red %>'></asp:Label>
                                                                                                                                </ItemTemplate>
                                                                                                                            </telerik:GridTemplateColumn>
                                                                                                                            <telerik:GridTemplateColumn HeaderText="Difference" DataField="Variance" UniqueName="Variance" HeaderStyle-Width="80" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right" Aggregate="Sum" FooterText="$" AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo" ShowFilterIcon="false"
                                                                                                                                FooterAggregateFormatString="{0:c}">
                                                                                                                                <ItemTemplate>
                                                                                                                                    <asp:Label ID="lblVariance" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "Variance", "{0:c}")%>'
                                                                                                                                        ForeColor='<%# Convert.ToDouble(Eval("Variance"))>=0?System.Drawing.Color.Black:System.Drawing.Color.Red %>'></asp:Label>
                                                                                                                                </ItemTemplate>
                                                                                                                            </telerik:GridTemplateColumn>



                                                                                                                            <telerik:GridTemplateColumn HeaderText="Ratio(%)" DataField="RatioNew" UniqueName="RatioNew" HeaderStyle-Width="80" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right" Aggregate="Sum" AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo" ShowFilterIcon="false"
                                                                                                                                FooterAggregateFormatString="{0:n2}">
                                                                                                                                <ItemTemplate>
                                                                                                                                    <asp:Label ID="lblRatioNewe" runat="server" ToolTip='<%# DataBinder.Eval(Container.DataItem, "RatioNew")%>' Text='<%# DataBinder.Eval(Container.DataItem, "RatioNew", "{0:n3}")%>'></asp:Label>
                                                                                                                                </ItemTemplate>
                                                                                                                            </telerik:GridTemplateColumn>



                                                                                                                            <telerik:GridTemplateColumn DataField="Code" HeaderText="Code" Visible="false" />
                                                                                                                            <telerik:GridTemplateColumn DataField="JobType" UniqueName="JobType" HeaderText="Job Type" Visible="false" />

                                                                                                                            <telerik:GridBoundColumn HeaderText="Budget Hours" DataField="BHours" UniqueName="BHours" FooterStyle-HorizontalAlign="Right" Aggregate="Sum" FooterText=" " AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo" ShowFilterIcon="false"
                                                                                                                                HeaderStyle-Width="80">
                                                                                                                            </telerik:GridBoundColumn>

                                                                                                                            <telerik:GridBoundColumn HeaderText="Actual Hours" DataField="THours" UniqueName="THours" FooterStyle-HorizontalAlign="Right" Aggregate="Sum" FooterText=" " AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo" ShowFilterIcon="false"
                                                                                                                                HeaderStyle-Width="80">
                                                                                                                            </telerik:GridBoundColumn>









                                                                                                                            <telerik:GridBoundColumn HeaderText="Target Hours" DataField="TargetHours" UniqueName="TargetHours" FooterStyle-HorizontalAlign="Right" Aggregate="Sum" FooterText=" " AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false"
                                                                                                                                HeaderStyle-Width="80">
                                                                                                                            </telerik:GridBoundColumn>


                                                                                                                            <telerik:GridBoundColumn HeaderText="Budget Var Hours" DataField="BVH" UniqueName="BVH" FooterStyle-HorizontalAlign="Right" Aggregate="Sum" FooterText=" " AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false"
                                                                                                                                HeaderStyle-Width="80">
                                                                                                                            </telerik:GridBoundColumn>


                                                                                                                            <telerik:GridBoundColumn HeaderText="Target Var Hours" DataField="TVH" UniqueName="TVH" FooterStyle-HorizontalAlign="Right" Aggregate="Sum" FooterText=" " AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false"
                                                                                                                                HeaderStyle-Width="80">
                                                                                                                            </telerik:GridBoundColumn>

                                                                                                                               <telerik:GridTemplateColumn HeaderText="Total on PO" DataField="Comm" UniqueName="Comm" HeaderStyle-Width="80" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right" Aggregate="Sum" FooterText="$" AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo" ShowFilterIcon="false" FooterAggregateFormatString="{0:c}">
                                                                                                                                <ItemTemplate>
                                                                                                                                    <asp:Label ID="lblComm" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "Comm", "{0:c}")%>'
                                                                                                                                        ForeColor='<%# Convert.ToDouble(Eval("Comm"))>=0?System.Drawing.Color.Black:System.Drawing.Color.Red %>'></asp:Label>
                                                                                                                                </ItemTemplate>
                                                                                                                            </telerik:GridTemplateColumn>
                                                                                                                            <telerik:GridTemplateColumn HeaderText="Receive PO" DataField="ReceivePO" UniqueName="ReceivePO" HeaderStyle-Width="80" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right" Aggregate="Sum" FooterText="$" AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo" ShowFilterIcon="false" FooterAggregateFormatString="{0:c}">
                                                                                                                                <ItemTemplate>
                                                                                                                                    <asp:Label ID="lblReceivePO" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "ReceivePO", "{0:c}")%>'
                                                                                                                                        ForeColor='<%# Convert.ToDouble(Eval("ReceivePO"))>=0?System.Drawing.Color.Black:System.Drawing.Color.Red %>'></asp:Label>
                                                                                                                                </ItemTemplate>
                                                                                                                            </telerik:GridTemplateColumn>

                                                                                                                        </Columns>
                                                                                                                    </MasterTableView>
                                                                                                                </telerik:RadGrid>

                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </telerik:RadAjaxPanel>

                                                                                                </div>

                                                                                            </div>
                                                                                            <div class="table-scrollable" style="height: auto; max-height: 400px; overflow-y: auto; border: none">
                                                                                                <telerik:RadAjaxLoadingPanel ID="RadAjaxLoadingPanel_gvExpenses" runat="server">
                                                                                                </telerik:RadAjaxLoadingPanel>
                                                                                                <div class="RadGrid RadGrid_Material">
                                                                                                    <telerik:RadCodeBlock ID="RadCodeBlock2" runat="server">
                                                                                                        <script type="text/javascript">
                                                                                                            function pageLoad() {
                                                                                                                // debugger;
                                                                                                                var grid = $find("<%= gvExpenses.ClientID %>");
                                                                                                                var columns = grid.get_masterTableView().get_columns();
                                                                                                                for (var i = 0; i < columns.length; i++) {
                                                                                                                    columns[i].resizeToFit(false, true);
                                                                                                                }
                                                                                                            }
                                                                                                            var requestInitiator = null;
                                                                                                            var selectionStart = null;
                                                                                                            function requestStart(sender, args) {
                                                                                                                requestInitiator = document.activeElement.id;
                                                                                                                if (document.activeElement.tagName == "INPUT") {
                                                                                                                    selectionStart = document.activeElement.selectionStart;
                                                                                                                }
                                                                                                            }
                                                                                                            function responseEnd(sender, args) {
                                                                                                                var element = document.getElementById(requestInitiator);
                                                                                                                if (element && element.tagName == "INPUT") {
                                                                                                                    element.focus();
                                                                                                                    element.selectionStart = selectionStart;
                                                                                                                }
                                                                                                            }
                                                                                                        </script>
                                                                                                    </telerik:RadCodeBlock>
                                                                                                    <telerik:RadAjaxPanel ID="RadAjaxPanel_gvExpenses" runat="server" LoadingPanelID="RadAjaxLoadingPanel_gvExpenses" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">
                                                                                                        <telerik:RadGrid ID="gvExpenses" Visible="false" RenderMode="Auto" AllowFilteringByColumn="true" ShowStatusBar="true" AllowPaging="false"
                                                                                                            runat="server" AutoGenerateColumns="False"
                                                                                                            datakeynames="Phase" Width="100%" ShowFooter="true"
                                                                                                            emptydatatext="No Expense Items Found" showheaderwhenempty="True" OnNeedDataSource="gvExpenses_NeedDataSource">
                                                                                                            <GroupingSettings CaseSensitive="false"></GroupingSettings>
                                                                                                            <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false" AllowGroupExpandCollapse="false">
                                                                                                                <Scrolling AllowScroll="false" SaveScrollPosition="true" UseStaticHeaders="true" FrozenColumnsCount="2" />
                                                                                                            </ClientSettings>
                                                                                                            <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="true" ShowFooter="true" AllowPaging="false">
                                                                                                                <Columns>
                                                                                                                    <telerik:GridBoundColumn DataField="Code" HeaderText="Op Sequence" ItemStyle-Width="5%" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" />
                                                                                                                    <telerik:GridBoundColumn DataField="fDesc" HeaderText="Description" ItemStyle-Width="200" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" />
                                                                                                                    <telerik:GridBoundColumn DataField="Phase" HeaderText="Phase" ItemStyle-Width="5%" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" />
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Mat. Actual" ItemStyle-Width="8%" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right"
                                                                                                                        AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:Label ID="lblPhase" runat="server" Text='<%# Bind("Phase") %>' Style="display: none;"></asp:Label>
                                                                                                                            <asp:Label ID="lblType" runat="server" Text='<%# Bind("Type") %>' Style="display: none;"></asp:Label>
                                                                                                                            <a style="text-decoration: none" target="_blank" href="ProjectExpensesDetails.aspx?uid=<%#Request.QueryString["uid"] %>&type=<%#Eval("Type") %>&phase=<%#Eval("Phase") %>">
                                                                                                                                <%# DataBinder.Eval(Container.DataItem, "MatAct", "{0:c}")%>
                                                                                                                            </a>
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterTemplate>
                                                                                                                            <asp:Label ID="lblFooterMatAct" runat="server" Font-Bold="true"></asp:Label>
                                                                                                                        </FooterTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Mat. Budget" ItemStyle-Width="8%" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right"
                                                                                                                        AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                                        <ItemTemplate>
                                                                                                                            <%# DataBinder.Eval(Container.DataItem, "MatBgt", "{0:c}")%>
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterTemplate>
                                                                                                                            <asp:Label ID="lblFooterMatBgt" runat="server" Font-Bold="true"></asp:Label>
                                                                                                                        </FooterTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Mat. Modifier" ItemStyle-Width="8%" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right"
                                                                                                                        AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                                        <ItemTemplate>
                                                                                                                            <%# DataBinder.Eval(Container.DataItem, "MatMod", "{0:c}")%>
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterTemplate>
                                                                                                                            <asp:Label ID="lblFooterMatMod" runat="server" Font-Bold="true"></asp:Label>
                                                                                                                        </FooterTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Mat. Diff." ItemStyle-Width="8%" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right"
                                                                                                                        AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                                        <ItemTemplate>
                                                                                                                            <%# DataBinder.Eval(Container.DataItem, "MatDiff", "{0:c}")%>
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterTemplate>
                                                                                                                            <asp:Label ID="lblFooterMatDiff" runat="server" Font-Bold="true"></asp:Label>
                                                                                                                        </FooterTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Hours" ItemStyle-Width="8%" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right"
                                                                                                                        AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                                        <ItemTemplate>
                                                                                                                            <%# DataBinder.Eval(Container.DataItem, "HourAct", "{0:0.00}")%>
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterTemplate>
                                                                                                                            <asp:Label ID="lblFooterHours" runat="server" Font-Bold="true"></asp:Label>
                                                                                                                        </FooterTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Hr Bgt." ItemStyle-Width="8%" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right"
                                                                                                                        AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                                        <ItemTemplate>
                                                                                                                            <%# DataBinder.Eval(Container.DataItem, "HourBgt", "{0:0.00}")%>
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterTemplate>
                                                                                                                            <asp:Label ID="lblFooterHoursBgt" runat="server" Font-Bold="true"></asp:Label>
                                                                                                                        </FooterTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Lab. Act." ItemStyle-Width="8%" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right"
                                                                                                                        AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                                        <ItemTemplate>
                                                                                                                            <%# DataBinder.Eval(Container.DataItem, "LaborAct", "{0:c}")%>
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterTemplate>
                                                                                                                            <asp:Label ID="lblFooterLabAct" runat="server" Font-Bold="true"></asp:Label>
                                                                                                                        </FooterTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Lab. Bgt." ItemStyle-Width="8%" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right"
                                                                                                                        AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                                        <ItemTemplate>
                                                                                                                            <%# DataBinder.Eval(Container.DataItem, "LaborBgt", "{0:c}")%>
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterTemplate>
                                                                                                                            <asp:Label ID="lblFooterLabBgt" runat="server" Font-Bold="true"></asp:Label>
                                                                                                                        </FooterTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Lab. Mod." ItemStyle-Width="8%" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right"
                                                                                                                        AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                                        <ItemTemplate>
                                                                                                                            <%# DataBinder.Eval(Container.DataItem, "LaborMod", "{0:c}")%>
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterTemplate>
                                                                                                                            <asp:Label ID="lblFooterLabMod" runat="server" Font-Bold="true"></asp:Label>
                                                                                                                        </FooterTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Lab. Diff." ItemStyle-Width="8%" ItemStyle-HorizontalAlign="Right" FooterStyle-HorizontalAlign="Right"
                                                                                                                        AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                                        <ItemTemplate>
                                                                                                                            <%# DataBinder.Eval(Container.DataItem, "LabDiff", "{0:c}")%>
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterTemplate>
                                                                                                                            <asp:Label ID="lblFooterLabDiff" runat="server" Font-Bold="true"></asp:Label>
                                                                                                                        </FooterTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                </Columns>
                                                                                                            </MasterTableView>
                                                                                                        </telerik:RadGrid>
                                                                                                    </telerik:RadAjaxPanel>
                                                                                                </div>
                                                                                            </div>
                                                                                            <br />
                                                                                            <div id="divJC" runat="server">
                                                                                                <asp:CollapsiblePanelExtender ID="CollapsiblePanelExtender4" runat="server" TargetControlID="Panel4"
                                                                                                    ExpandControlID="Image4" CollapseControlID="Image4" SuppressPostBack="True" ExpandedImage="~/images/arrow_down.png"
                                                                                                    CollapsedImage="~/images/arrow_right.png" ImageControlID="Image4" Enabled="True" />
                                                                                                <div id="DivJobC" style="font-weight: bold; font-size: 15px">
                                                                                                    <label for="Image4">Job Cost: </label>
                                                                                                    <asp:Image ID="Image4" runat="server" Style="float: left; height: 15px; cursor: pointer" />
                                                                                                </div>
                                                                                                <asp:Panel ID="Panel4" runat="server" Style="padding: 10px 10px 10px 10px;">
                                                                                                    <div class="grid_container">
                                                                                                        <div class="RadGrid RadGrid_Material">
                                                                                                            <telerik:RadGrid ID="gvJOBC" runat="server" RenderMode="Auto" AllowFilteringByColumn="true" ShowStatusBar="true" AllowPaging="True"
                                                                                                                AutoGenerateColumns="False"
                                                                                                                datakeynames="ref" Width="100%" showheaderwhenempty="True"
                                                                                                                ShowFooter="True" emptydatatext="No job cost found...">
                                                                                                                <GroupHeaderItemStyle Font-Size="Medium" Font-Bold="true" />
                                                                                                                <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false" AllowGroupExpandCollapse="false">
                                                                                                                    <Scrolling AllowScroll="false" SaveScrollPosition="true" UseStaticHeaders="true" FrozenColumnsCount="2" />
                                                                                                                </ClientSettings>
                                                                                                                <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="false" ShowFooter="true" AllowPaging="false">
                                                                                                                    <Columns>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="ref" SortExpression="ref" Visible="true">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:Label ID="lblID" runat="server" Text='<%# Bind("ref") %>'></asp:Label>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Description" SortExpression="fdesc">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:Label ID="lblfdesc" runat="server" Text='<%# Bind("fdesc") %>'></asp:Label>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Invoice date" SortExpression="fdate">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:Label ID="lblInvDate" runat="server" Text='<%# Eval("fdate", "{0:MM/dd/yy}") %>'></asp:Label>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Amount" SortExpression="amount">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:Label ID="lblamount" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "amount", "{0:c}") %>'></asp:Label>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Phase" SortExpression="Phase">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:Label ID="lblPhase" runat="server" Text='<%# Bind("Phase") %>'></asp:Label>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                    </Columns>
                                                                                                                </MasterTableView>
                                                                                                            </telerik:RadGrid>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div onclick="window.scroll(0,0);" style="font-size: 10px; cursor: pointer; width: 80px;"
                                                                                                        title="Go to top">
                                                                                                        <img id="imgtop" alt="top" src="images/uptotop.gif" />
                                                                                                        Go To Top
                                                                                                    </div>
                                                                                                </asp:Panel>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div class="form-section-row">
                                                                                        <%--<asp:UpdatePanel ID="UpdatePanel16" runat="server" UpdateMode="Always">
                                                                                                <ContentTemplate>
                                                                                                    <div class="section-ttle">Finance Budgets Workflow</div>
                                                                                                    <asp:PlaceHolder ID="PlaceHolderFinceBudget" runat="server"></asp:PlaceHolder>
                                                                                                </ContentTemplate>
                                                                                            </asp:UpdatePanel>--%>
                                                                                        <div class="section-ttle">Finance Budgets Workflow</div>
                                                                                        <asp:Panel ID="pnlCustomFinceBudget" runat="server">
                                                                                            <div class="grid_container" style="margin-bottom: 0 !important;">
                                                                                                <div class="RadGrid RadGrid_Material FormGrid">
                                                                                                    <telerik:RadAjaxPanel ID="RadAjaxPanel8" runat="server" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">
                                                                                                        <telerik:RadGrid RenderMode="Auto" ID="RadGrid_CustomFinceBudget" ShowFooter="false" PageSize="50"
                                                                                                            PagerStyle-AlwaysVisible="false" OnItemDataBound="RadGrid_Custom_ItemDataBound" OnItemCommand="RadGrid_CustomHeader_ItemCommand"
                                                                                                            ShowStatusBar="true" runat="server" AllowPaging="True" Width="100%" AllowCustomPaging="false">
                                                                                                            <CommandItemStyle />
                                                                                                            <GroupingSettings CaseSensitive="false" />
                                                                                                            <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false">
                                                                                                                <Selecting AllowRowSelect="false"></Selecting>
                                                                                                                <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                                                                                                <Resizing AllowColumnResize="true" ResizeGridOnColumnResize="true"></Resizing>
                                                                                                            </ClientSettings>
                                                                                                            <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="false" ShowFooter="True">
                                                                                                                <Columns>

                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="10" AllowFiltering="false" ItemStyle-Width="0.5%" FooterStyle-Width="0.5%">

                                                                                                                        <ItemTemplate>
                                                                                                                            <%--<asp:HiddenField ID="txtOrderNo" Value='<%# Eval("OrderNo") %>' runat="server"></asp:HiddenField>--%>
                                                                                                                            <asp:Label ID="lblIndex" Visible="true" runat="server" Text="<%# Container.ItemIndex +1 %>"></asp:Label>
                                                                                                                            <asp:Label ID="lblID" runat="server" Text='<%# Eval("ID") %>' Style="display: none;"></asp:Label>
                                                                                                                            <asp:Label ID="lblLine" runat="server" Text='<%# Eval("Line") %>' Style="display: none;" class="customline"></asp:Label>
                                                                                                                            <asp:Label ID="lblFormat" runat="server" Text='<%# Eval("Format") %>' Visible="false"></asp:Label>
                                                                                                                            <asp:Label ID="lblCustom" runat="server" Text='<%# Eval("Label") %>' Style="display: none;"></asp:Label>
                                                                                                                        </ItemTemplate>

                                                                                                                    </telerik:GridTemplateColumn>

                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Name" HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <div style="text-align: left">
                                                                                                                                <asp:HiddenField ID="hdnTestItemValueID" Value='' runat="server"></asp:HiddenField>
                                                                                                                                <asp:Panel ID="divFormatText" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="txtFormatText"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtFormatText" runat="server" Text='' MaxLength="255"></asp:TextBox>
                                                                                                                                </asp:Panel>

                                                                                                                                <asp:Panel ID="divFormatDrop" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="drpdwnCustom"><%# Eval("Label") %></label>
                                                                                                                                    <asp:DropDownList ID="drpdwnCustom" runat="server" CssClass="browser-default fontHeader">
                                                                                                                                    </asp:DropDownList>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatCurrent" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="txtFormatCurrent"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtFormatCurrent" runat="server" Text=''
                                                                                                                                        CssClass="custom currency"></asp:TextBox>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatDate" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="txtFormatDate"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtFormatDate" runat="server" Text=''
                                                                                                                                        CssClass="custom datepicker_mom"></asp:TextBox>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatCheckbox" runat="server" Visible="false">

                                                                                                                                    <asp:CheckBox ID="chkCustomFormat" runat="server" Text='&nbsp'
                                                                                                                                        CssClass="css-checkbox custom"></asp:CheckBox>
                                                                                                                                    <label class="fontHeader" for="chkCustomFormat"><%# Eval("Label") %></label>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatNotes" runat="server" Visible="false">
                                                                                                                                    <label class="fontHeader" for="txtFormatNotes"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtFormatNotes" runat="server" Text='' MaxLength="255" TextMode="MultiLine"
                                                                                                                                        Style="padding: 0.4rem 0 !important" CssClass="materialize-textarea textarea-border1">
                                                                                                                                    </asp:TextBox>
                                                                                                                                </asp:Panel>
                                                                                                                                <asp:Panel ID="divFormatChkWithComment" runat="server" Visible="false">
                                                                                                                                    <asp:CheckBox ID="chkWithComment" runat="server" Text='&nbsp'
                                                                                                                                        CssClass="css-checkbox custom"></asp:CheckBox>
                                                                                                                                    <label class="fontHeader" for="chkWithComment"><%# Eval("Label") %></label>
                                                                                                                                    <asp:TextBox ID="txtChkComment" placeholder="Checkbox comment" runat="server" Text='' MaxLength="255"></asp:TextBox>

                                                                                                                                </asp:Panel>
                                                                                                                            </div>

                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterStyle VerticalAlign="Middle" />

                                                                                                                    </telerik:GridTemplateColumn>

                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="20" AllowFiltering="false" HeaderText="Alert " HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:CheckBox ID="chkSelectAlert" CssClass="css-checkbox" Text=" " runat="server" />
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterStyle VerticalAlign="Middle" />

                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <%--<telerik:GridTemplateColumn HeaderStyle-Width="20" AllowFiltering="false" HeaderText="Task " HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:CheckBox ID="chkSelectTask" CssClass="css-checkbox" Text=" " runat="server" />
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterStyle VerticalAlign="Middle" />

                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false"  HeaderText="User Role" HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <div class="tag-div materialize-textarea textarea-border" id="cusLabelTagUR" style="text-align: left !important; cursor: pointer;" onclick="ShowUserRoleWindow(this);" runat="server"></div>
                                                                                                                            <asp:HiddenField ID="hdnUserRoles" runat="server" Value='<%# Eval("UserRole") %>' />
                                                                                                                            <asp:TextBox ID="txtUserRoles" class='<%# "txtUserRoles_" + Eval("Line") %>' runat="server" Style='min-width: 100px !important; display: none;'
                                                                                                                                Text='<%# Eval("UserRoleDisplay") %>'></asp:TextBox>
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterStyle VerticalAlign="Middle" />
                                                                                                                    </telerik:GridTemplateColumn>--%>
                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Team Member" HeaderStyle-CssClass="itemHeader">

                                                                                                                        <ItemTemplate>
                                                                                                                            <div class="tag-div materialize-textarea textarea-border" id="cusLabelTag" style="text-align: left !important; cursor: pointer;" onclick="ShowTeamMemberWindow(this);" runat="server"></div>
                                                                                                                            <asp:HiddenField ID="hdnMembers" runat="server" Value='<%# Eval("TeamMember") %>' />
                                                                                                                            <asp:TextBox ID="txtMembers" class='<%# "txtMembers_" + Eval("Line") %>' runat="server" Style='min-width: 100px !important; display: none;'
                                                                                                                                Text='<%# Eval("TeamMemberDisplay") %>'></asp:TextBox>
                                                                                                                        </ItemTemplate>

                                                                                                                    </telerik:GridTemplateColumn>

                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated By" HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <%--<asp:Label ID="lbUpdatedBy" runat="server"><%# Eval("Username") %></asp:Label>--%>
                                                                                                                            <asp:Label ID="lbUpdatedBy" runat="server" Text='<%# Eval("Username") %>'></asp:Label>
                                                                                                                        </ItemTemplate>


                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated Date" HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:Label ID="lbUpdatedDate" runat="server"><%# Eval("UpdatedDate") %></asp:Label>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                </Columns>
                                                                                                            </MasterTableView>
                                                                                                        </telerik:RadGrid>
                                                                                                    </telerik:RadAjaxPanel>

                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="cf"></div>
                                                                                        </asp:Panel>
                                                                                        <div style="clear: both;"></div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </asp:Panel>
                                                                        <asp:Panel ID="tbpnlBilling" ClientIDMode="Static" runat="server" CssClass="col s12 tab-container-border lighten-4" Style="display: none;">
                                                                            <div class="tabs-custom-mgn1">
                                                                                <div class="section-ttle">Billings</div>
                                                                                <div class="form-section-row">
                                                                                    <ul class="collapsible collapsible-accordion form-accordion-head" data-collapsible="expandable">
                                                                                        <li class="active" runat="server" id="divInvoices">
                                                                                            <div id="accrdARInvoice" class="collapsible-header accrd active accordian-text-custom "><i class="mdi-image-filter-frames"></i>AR Invoices</div>
                                                                                            <div class="collapsible-body" style="display: block;">

                                                                                                <asp:Panel ID="Panel2" runat="server" Style="padding: 10px 10px 10px 10px;">
                                                                                                    <asp:DropDownList CausesValidation="false" ID="ddlInvoiceStatus" runat="server" CssClass="browser-default"
                                                                                                        Width="200px" AutoPostBack="true" OnSelectedIndexChanged="ddlInvoiceStatus_SelectedIndexChanged">
                                                                                                        <asp:ListItem Value="-1">All</asp:ListItem>
                                                                                                        <asp:ListItem Value="0">Open</asp:ListItem>
                                                                                                        <asp:ListItem Value="1">Paid</asp:ListItem>
                                                                                                        <asp:ListItem Value="2">Voided</asp:ListItem>
                                                                                                        <asp:ListItem Value="3">Partially Paid</asp:ListItem>
                                                                                                        <asp:ListItem Value="4">Marked as Pending</asp:ListItem>
                                                                                                        <asp:ListItem Value="5">Paid by Credit Card</asp:ListItem>
                                                                                                    </asp:DropDownList>
                                                                                                    <asp:Label ID="lblCountInvoice" runat="server" Style="font-style: italic; float: right; display: none"></asp:Label>
                                                                                                    <div class="grid_container">
                                                                                                        <div class="form-section-row">
                                                                                                            <telerik:RadAjaxLoadingPanel ID="RadAjaxLoadingPanel_gvInvoice" runat="server">
                                                                                                            </telerik:RadAjaxLoadingPanel>
                                                                                                            <div class="RadGrid RadGrid_Material">
                                                                                                                <telerik:RadCodeBlock ID="RadCodeBlock3" runat="server">
                                                                                                                    <script type="text/javascript">
                                                                                                                        function pageLoad() {
                                                                                                                            var grid = $find("<%= gvInvoice.ClientID %>");
                                                                                                                            var columns = grid.get_masterTableView().get_columns();
                                                                                                                            for (var i = 0; i < columns.length; i++) {
                                                                                                                                columns[i].resizeToFit(false, true);
                                                                                                                            }
                                                                                                                        }
                                                                                                                        var requestInitiator = null;
                                                                                                                        var selectionStart = null;
                                                                                                                        function requestStart(sender, args) {
                                                                                                                            requestInitiator = document.activeElement.id;
                                                                                                                            if (document.activeElement.tagName == "INPUT") {
                                                                                                                                selectionStart = document.activeElement.selectionStart;
                                                                                                                            }
                                                                                                                        }
                                                                                                                        function responseEnd(sender, args) {
                                                                                                                            var element = document.getElementById(requestInitiator);
                                                                                                                            if (element && element.tagName == "INPUT") {
                                                                                                                                element.focus();
                                                                                                                                element.selectionStart = selectionStart;
                                                                                                                            }
                                                                                                                        }
                                                                                                                    </script>
                                                                                                                </telerik:RadCodeBlock>

                                                                                                                <div class=" grid_container RadGrid_Material">

                                                                                                                    <telerik:RadGrid ID="gvInvoice"
                                                                                                                        ShowStatusBar="true" AllowFilteringByColumn="true"
                                                                                                                        AllowCustomPaging="false" PageSize="50"
                                                                                                                        AllowPaging="true"
                                                                                                                        PagerStyle-AlwaysVisible="true"
                                                                                                                        runat="server" AutoGenerateColumns="False"
                                                                                                                        datakeynames="ID" OnDataBound="gvInvoice_DataBound" onrowcommand="gvInvoice_RowCommand"
                                                                                                                        ShowFooter="True" emptydatatext="No invoices found..." OnNeedDataSource="gvInvoice_NeedDataSource" OnPreRender="gvInvoice_PreRender">
                                                                                                                        <CommandItemStyle />
                                                                                                                        <GroupingSettings CaseSensitive="false"></GroupingSettings>
                                                                                                                        <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false" AllowGroupExpandCollapse="false">
                                                                                                                            <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" FrozenColumnsCount="2" />
                                                                                                                        </ClientSettings>
                                                                                                                        <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="true" ShowFooter="true" AllowPaging="true">
                                                                                                                            <Columns>

                                                                                                                                <telerik:GridTemplateColumn HeaderText="ID" SortExpression="ref" Visible="false" HeaderStyle-Width="80">
                                                                                                                                    <ItemTemplate>
                                                                                                                                        <asp:Label ID="lblID" runat="server" Text='<%# Bind("ref") %>'></asp:Label>
                                                                                                                                    </ItemTemplate>
                                                                                                                                </telerik:GridTemplateColumn>

                                                                                                                                <telerik:GridTemplateColumn HeaderText="Invoice #" UniqueName="ref" AllowFiltering="true" SortExpression="ref" AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo" ShowFilterIcon="false" HeaderStyle-Width="100" DataType="System.Int32" DataField="Ref">
                                                                                                                                    <ItemTemplate>
                                                                                                                                        <asp:Label ID="lblInv" Visible="false" runat="server" Text='<%# Bind("ref") %>'></asp:Label>
                                                                                                                                        <asp:HyperLink ID="HyperLink1" runat="server" Text='<%# Bind("ref") %>' Target="_blank" NavigateUrl='<%# "addinvoice.aspx?uid=" +Eval("ref")  %>'></asp:HyperLink>
                                                                                                                                    </ItemTemplate>
                                                                                                                                </telerik:GridTemplateColumn>

                                                                                                                                <telerik:GridTemplateColumn HeaderText="Manual Inv. #" SortExpression="manualInv" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" HeaderStyle-Width="100">
                                                                                                                                    <ItemTemplate>
                                                                                                                                        <asp:Label ID="lblMInv" runat="server" Text='<%# Bind("manualInv") %>'></asp:Label>
                                                                                                                                    </ItemTemplate>
                                                                                                                                </telerik:GridTemplateColumn>

                                                                                                                                <telerik:GridTemplateColumn HeaderText="Invoice date" SortExpression="fdate" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" HeaderStyle-Width="100">
                                                                                                                                    <ItemTemplate>
                                                                                                                                        <asp:Label ID="lblInvDate" runat="server" Text='<%# Eval("fdate", "{0:MM/dd/yy}") %>'></asp:Label>
                                                                                                                                    </ItemTemplate>
                                                                                                                                </telerik:GridTemplateColumn>

                                                                                                                                <telerik:GridTemplateColumn UniqueName="PreTaxAmount" HeaderText="Pretax Amount" SortExpression="amount" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" HeaderStyle-Width="100">
                                                                                                                                    <ItemTemplate>
                                                                                                                                        <asp:Label ID="lblPretaxAmout" runat="server"><%# DataBinder.Eval(Container.DataItem, "amount", "{0:c}")%></asp:Label>
                                                                                                                                    </ItemTemplate>
                                                                                                                                    <FooterTemplate>
                                                                                                                                        <asp:Label ID="lblTotalPretaxAmt" runat="server"></asp:Label>
                                                                                                                                    </FooterTemplate>
                                                                                                                                </telerik:GridTemplateColumn>
                                                                                                                                <telerik:GridTemplateColumn UniqueName="GSTTaxAmount" HeaderText="GST Tax" SortExpression="GSTAmount" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" HeaderStyle-Width="100">
                                                                                                                                    <ItemTemplate>
                                                                                                                                        <asp:Label ID="lblGSTAmount" runat="server" Text='<%# ((System.Data.DataRowView)Container.DataItem).DataView.Table.Columns.Contains("GSTAmount")== true?DataBinder.Eval(Container.DataItem, "GSTAmount", "{0:c}"):"0"  %>'></asp:Label>
                                                                                                                                    </ItemTemplate>
                                                                                                                                    <FooterTemplate>
                                                                                                                                        <asp:Label ID="lblTotalGSTAmount" runat="server"></asp:Label>
                                                                                                                                    </FooterTemplate>
                                                                                                                                </telerik:GridTemplateColumn>
                                                                                                                                <telerik:GridTemplateColumn UniqueName="PSTTaxAmount" HeaderText="HST/PST Tax" SortExpression="stax" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" HeaderStyle-Width="100">
                                                                                                                                    <ItemTemplate>
                                                                                                                                        <asp:Label ID="lblSalesTax" runat="server" Text='<%# ((System.Data.DataRowView)Container.DataItem).DataView.Table.Columns.Contains("StaxAmount")== true?DataBinder.Eval(Container.DataItem, "StaxAmount", "{0:c}"):"0"  %>'></asp:Label>
                                                                                                                                    </ItemTemplate>
                                                                                                                                    <FooterTemplate>
                                                                                                                                        <asp:Label ID="lblTotalSalesTax" runat="server"></asp:Label>
                                                                                                                                    </FooterTemplate>
                                                                                                                                </telerik:GridTemplateColumn>


                                                                                                                                <telerik:GridTemplateColumn HeaderText="Invoice Total" SortExpression="total" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" HeaderStyle-Width="100">
                                                                                                                                    <ItemTemplate>
                                                                                                                                        <asp:Label ID="lblInvoiceTotal" runat="server"><%# DataBinder.Eval(Container.DataItem, "total", "{0:c}")%></asp:Label>
                                                                                                                                    </ItemTemplate>
                                                                                                                                    <FooterTemplate>
                                                                                                                                        <asp:Label ID="InvTotalInvoice" runat="server"></asp:Label>
                                                                                                                                    </FooterTemplate>
                                                                                                                                </telerik:GridTemplateColumn>

                                                                                                                                <telerik:GridTemplateColumn HeaderText="Status" SortExpression="status" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" HeaderStyle-Width="100">
                                                                                                                                    <ItemTemplate>
                                                                                                                                        <asp:Label ID="lblStatus" runat="server"><%#Eval("status")%></asp:Label>
                                                                                                                                    </ItemTemplate>
                                                                                                                                </telerik:GridTemplateColumn>

                                                                                                                                <telerik:GridTemplateColumn HeaderText="PO" SortExpression="po" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" HeaderStyle-Width="100">
                                                                                                                                    <ItemTemplate>
                                                                                                                                        <asp:Label ID="lblPO" runat="server"><%#Eval("po")%></asp:Label>
                                                                                                                                    </ItemTemplate>
                                                                                                                                </telerik:GridTemplateColumn>

                                                                                                                                <telerik:GridTemplateColumn HeaderText="Department Type" SortExpression="type" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" HeaderStyle-Width="100">
                                                                                                                                    <ItemTemplate>
                                                                                                                                        <asp:Label ID="lblDepartmentType" runat="server"><%#Eval("type")%></asp:Label>
                                                                                                                                    </ItemTemplate>
                                                                                                                                </telerik:GridTemplateColumn>

                                                                                                                                <telerik:GridTemplateColumn HeaderText="Amount Due" SortExpression="balance" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" HeaderStyle-Width="100">
                                                                                                                                    <ItemTemplate>
                                                                                                                                        <asp:Label ID="lblDue" runat="server"><%# DataBinder.Eval(Container.DataItem, "balance", "{0:c}") %></asp:Label>
                                                                                                                                    </ItemTemplate>
                                                                                                                                    <FooterTemplate>
                                                                                                                                        <asp:Label ID="InvTotalDue" runat="server"></asp:Label>
                                                                                                                                    </FooterTemplate>
                                                                                                                                </telerik:GridTemplateColumn>

                                                                                                                            </Columns>
                                                                                                                        </MasterTableView>
                                                                                                                    </telerik:RadGrid>

                                                                                                                </div>

                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="cf"></div>
                                                                                                </asp:Panel>

                                                                                                <div style="clear: both"></div>
                                                                                            </div>
                                                                                        </li>
                                                                                        <li id="divAP" runat="server">
                                                                                            <div id="accrdAPInvoice" class="collapsible-header accrd accordian-text-custom "><i class="mdi-image-filter-frames"></i>AP Invoices</div>
                                                                                            <div class="collapsible-body" style="height: auto;">
                                                                                                <div class="form-content-wrap">
                                                                                                    <div class="form-content-pd">
                                                                                                        <div class="form-section-row">
                                                                                                            <asp:Panel ID="Panel3" runat="server" Style="padding: 10px 10px 10px 10px;">
                                                                                                                <div class="grid_container">
                                                                                                                    <telerik:RadAjaxLoadingPanel ID="RadAjaxLoadingPanel1" runat="server">
                                                                                                                    </telerik:RadAjaxLoadingPanel>
                                                                                                                    <div class="RadGrid RadGrid_Material">

                                                                                                                        <telerik:RadCodeBlock ID="RadAjaxLoadingPanel_gvAPInvoices" runat="server">
                                                                                                                            <script type="text/javascript">
                                                                                                                                function pageLoad() {
                                                                                                                                    var grid = $find("<%= gvAPInvoices.ClientID %>");
                                                                                                                                    var columns = grid.get_masterTableView().get_columns();
                                                                                                                                    for (var i = 0; i < columns.length; i++) {
                                                                                                                                        columns[i].resizeToFit(false, true);
                                                                                                                                    }
                                                                                                                                }
                                                                                                                                var requestInitiator = null;
                                                                                                                                var selectionStart = null;
                                                                                                                                function requestStart(sender, args) {
                                                                                                                                    requestInitiator = document.activeElement.id;
                                                                                                                                    if (document.activeElement.tagName == "INPUT") {
                                                                                                                                        selectionStart = document.activeElement.selectionStart;
                                                                                                                                    }
                                                                                                                                }
                                                                                                                                function responseEnd(sender, args) {
                                                                                                                                    var element = document.getElementById(requestInitiator);
                                                                                                                                    if (element && element.tagName == "INPUT") {
                                                                                                                                        element.focus();
                                                                                                                                        element.selectionStart = selectionStart;
                                                                                                                                    }
                                                                                                                                }
                                                                                                                                function LoadAP_ARInvoices() {
                                                                                                                                    if (document.getElementById('<%= hdnLoadAP_ARInvoices.ClientID%>').value == "0") {
                                                                                                                                        document.getElementById('<%= lnkLoadAP_ARInvoices.ClientID%>').click();
                                                                                                                                    }

                                                                                                                                }

                                                                                                                            </script>
                                                                                                                        </telerik:RadCodeBlock>

                                                                                                                        <asp:LinkButton ID="lnkLoadAP_ARInvoices" CausesValidation="false" runat="server" Text="" OnClick="lnkLoadAP_ARInvoices_Click" />

                                                                                                                        <asp:HiddenField ID="hdnLoadAP_ARInvoices" runat="server" Value="0" />

                                                                                                                        <telerik:RadAjaxPanel ID="RadAjaxPanel_gvAPInvoices" runat="server" LoadingPanelID="RadAjaxLoadingPanel_gvAPInvoices" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">

                                                                                                                            <div class=" grid_container RadGrid_Material">

                                                                                                                                <telerik:RadGrid ID="gvAPInvoices" runat="server" AutoGenerateColumns="False"
                                                                                                                                    RenderMode="Auto" AllowFilteringByColumn="true" ShowStatusBar="true"
                                                                                                                                    AllowCustomPaging="false" PageSize="10"
                                                                                                                                    AllowPaging="true"
                                                                                                                                    PagerStyle-AlwaysVisible="true"
                                                                                                                                    datakeynames="ID" Width="100%"
                                                                                                                                    ShowFooter="True" emptydatatext="No AP invoices found..." OnNeedDataSource="gvAPInvoices_NeedDataSource">

                                                                                                                                    <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false" AllowGroupExpandCollapse="false">
                                                                                                                                        <Scrolling AllowScroll="false" SaveScrollPosition="true" UseStaticHeaders="true" FrozenColumnsCount="2" />
                                                                                                                                    </ClientSettings>

                                                                                                                                    <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="true" ShowFooter="true" AllowPaging="true">
                                                                                                                                        <Columns>

                                                                                                                                            <telerik:GridTemplateColumn HeaderText="Ref" SortExpression="ref" Visible="true" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                                                                <ItemTemplate>
                                                                                                                                                    <asp:Label ID="lblID" runat="server" Visible="false" Text='<%# Bind("ref") %>'></asp:Label>
                                                                                                                                                    <asp:HyperLink ID="HyperLinkAPBills" runat="server" Text='<%# Bind("ref") %>' Target="_blank" NavigateUrl='<%# "addbills.aspx?id=" +Eval("ID")  %>'></asp:HyperLink>
                                                                                                                                                </ItemTemplate>
                                                                                                                                            </telerik:GridTemplateColumn>

                                                                                                                                            <telerik:GridTemplateColumn HeaderText="Description" SortExpression="fdesc" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                                                                <ItemTemplate>
                                                                                                                                                    <asp:Label ID="lblfdesc" runat="server" Text='<%# Bind("fdesc") %>'></asp:Label>
                                                                                                                                                </ItemTemplate>
                                                                                                                                            </telerik:GridTemplateColumn>

                                                                                                                                            <telerik:GridTemplateColumn HeaderText="Invoice date" SortExpression="fdate" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                                                                <ItemTemplate>
                                                                                                                                                    <asp:Label ID="lblInvDate" runat="server" Text='<%# Eval("fdate", "{0:MM/dd/yy}") %>'></asp:Label>
                                                                                                                                                </ItemTemplate>
                                                                                                                                            </telerik:GridTemplateColumn>

                                                                                                                                            <telerik:GridTemplateColumn HeaderText="Project Amount" SortExpression="amount" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                                                                <ItemTemplate>
                                                                                                                                                    <asp:Label ID="lblprojectamount" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "PAmount", "{0:c}")%>'></asp:Label>
                                                                                                                                                </ItemTemplate>
                                                                                                                                            </telerik:GridTemplateColumn>

                                                                                                                                            <telerik:GridTemplateColumn HeaderText="Total Amount" SortExpression="amount" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                                                                <ItemTemplate>
                                                                                                                                                    <asp:Label ID="lblamount" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "amount", "{0:c}")%>'></asp:Label>
                                                                                                                                                </ItemTemplate>
                                                                                                                                            </telerik:GridTemplateColumn>

                                                                                                                                        </Columns>
                                                                                                                                    </MasterTableView>

                                                                                                                                </telerik:RadGrid>
                                                                                                                            </div>

                                                                                                                        </telerik:RadAjaxPanel>

                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </asp:Panel>
                                                                                                            <div class="cf"></div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div style="clear: both"></div>
                                                                                            </div>
                                                                                        </li>
                                                                                    </ul>
                                                                                </div>
                                                                                <div class="form-section-row">
                                                                                    <%--<asp:UpdatePanel ID="UpdatePanel13" runat="server" UpdateMode="Always">
                                                                                            <ContentTemplate>
                                                                                                <div class="section-ttle">Finance Budgets Workflow</div>
                                                                                                <asp:PlaceHolder ID="PlaceHolderFinceBill" runat="server"></asp:PlaceHolder>
                                                                                            </ContentTemplate>
                                                                                        </asp:UpdatePanel>--%>
                                                                                    <div class="section-ttle">Finance Bill Workflow</div>
                                                                                    <asp:Panel ID="pnlCustomFinanceBill" runat="server">
                                                                                        <div class="grid_container" style="margin-bottom: 0 !important;">
                                                                                            <div class="RadGrid RadGrid_Material FormGrid">
                                                                                                <telerik:RadAjaxPanel ID="RadAjaxPanel9" runat="server" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">
                                                                                                    <telerik:RadGrid RenderMode="Auto" ID="RadGrid_CustomFinanceBill" ShowFooter="false" PageSize="50"
                                                                                                        PagerStyle-AlwaysVisible="false" OnItemDataBound="RadGrid_Custom_ItemDataBound" OnItemCommand="RadGrid_CustomHeader_ItemCommand"
                                                                                                        ShowStatusBar="true" runat="server" AllowPaging="True" Width="100%" AllowCustomPaging="false">
                                                                                                        <CommandItemStyle />
                                                                                                        <GroupingSettings CaseSensitive="false" />
                                                                                                        <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false">
                                                                                                            <Selecting AllowRowSelect="false"></Selecting>
                                                                                                            <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                                                                                            <Resizing AllowColumnResize="true" ResizeGridOnColumnResize="true"></Resizing>
                                                                                                        </ClientSettings>
                                                                                                        <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="false" ShowFooter="True">
                                                                                                            <Columns>

                                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="10" AllowFiltering="false" ItemStyle-Width="0.5%" FooterStyle-Width="0.5%">

                                                                                                                    <ItemTemplate>
                                                                                                                        <%--<asp:HiddenField ID="txtOrderNo" Value='<%# Eval("OrderNo") %>' runat="server"></asp:HiddenField>--%>
                                                                                                                        <asp:Label ID="lblIndex" Visible="true" runat="server" Text="<%# Container.ItemIndex +1 %>"></asp:Label>
                                                                                                                        <asp:Label ID="lblID" runat="server" Text='<%# Eval("ID") %>' Style="display: none;"></asp:Label>
                                                                                                                        <asp:Label ID="lblLine" runat="server" Text='<%# Eval("Line") %>' Style="display: none;" class="customline"></asp:Label>
                                                                                                                        <asp:Label ID="lblFormat" runat="server" Text='<%# Eval("Format") %>' Visible="false"></asp:Label>
                                                                                                                        <asp:Label ID="lblCustom" runat="server" Text='<%# Eval("Label") %>' Style="display: none;"></asp:Label>
                                                                                                                    </ItemTemplate>

                                                                                                                </telerik:GridTemplateColumn>

                                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Name" HeaderStyle-CssClass="itemHeader">
                                                                                                                    <ItemTemplate>
                                                                                                                        <div style="text-align: left">
                                                                                                                            <asp:HiddenField ID="hdnTestItemValueID" Value='' runat="server"></asp:HiddenField>
                                                                                                                            <asp:Panel ID="divFormatText" runat="server" Visible="false">
                                                                                                                                <label class="fontHeader" for="txtFormatText"><%# Eval("Label") %></label>
                                                                                                                                <asp:TextBox ID="txtFormatText" runat="server" Text='' MaxLength="255"></asp:TextBox>
                                                                                                                            </asp:Panel>

                                                                                                                            <asp:Panel ID="divFormatDrop" runat="server" Visible="false">
                                                                                                                                <label class="fontHeader" for="drpdwnCustom"><%# Eval("Label") %></label>
                                                                                                                                <asp:DropDownList ID="drpdwnCustom" runat="server" CssClass="browser-default fontHeader">
                                                                                                                                </asp:DropDownList>
                                                                                                                            </asp:Panel>
                                                                                                                            <asp:Panel ID="divFormatCurrent" runat="server" Visible="false">
                                                                                                                                <label class="fontHeader" for="txtFormatCurrent"><%# Eval("Label") %></label>
                                                                                                                                <asp:TextBox ID="txtFormatCurrent" runat="server" Text=''
                                                                                                                                    CssClass="custom currency"></asp:TextBox>
                                                                                                                            </asp:Panel>
                                                                                                                            <asp:Panel ID="divFormatDate" runat="server" Visible="false">
                                                                                                                                <label class="fontHeader" for="txtFormatDate"><%# Eval("Label") %></label>
                                                                                                                                <asp:TextBox ID="txtFormatDate" runat="server" Text=''
                                                                                                                                    CssClass="custom datepicker_mom"></asp:TextBox>
                                                                                                                            </asp:Panel>
                                                                                                                            <asp:Panel ID="divFormatCheckbox" runat="server" Visible="false">

                                                                                                                                <asp:CheckBox ID="chkCustomFormat" runat="server" Text='&nbsp'
                                                                                                                                    CssClass="css-checkbox custom"></asp:CheckBox>
                                                                                                                                <label class="fontHeader" for="chkCustomFormat"><%# Eval("Label") %></label>
                                                                                                                            </asp:Panel>
                                                                                                                            <asp:Panel ID="divFormatNotes" runat="server" Visible="false">
                                                                                                                                <label class="fontHeader" for="txtFormatNotes"><%# Eval("Label") %></label>
                                                                                                                                <asp:TextBox ID="txtFormatNotes" runat="server" Text='' MaxLength="255" TextMode="MultiLine"
                                                                                                                                    Style="padding: 0.4rem 0 !important" CssClass="materialize-textarea textarea-border1">
                                                                                                                                </asp:TextBox>
                                                                                                                            </asp:Panel>
                                                                                                                            <asp:Panel ID="divFormatChkWithComment" runat="server" Visible="false">
                                                                                                                                <asp:CheckBox ID="chkWithComment" runat="server" Text='&nbsp'
                                                                                                                                    CssClass="css-checkbox custom"></asp:CheckBox>
                                                                                                                                <label class="fontHeader" for="chkWithComment"><%# Eval("Label") %></label>
                                                                                                                                <asp:TextBox ID="txtChkComment" placeholder="Checkbox comment" runat="server" Text='' MaxLength="255"></asp:TextBox>

                                                                                                                            </asp:Panel>
                                                                                                                        </div>

                                                                                                                    </ItemTemplate>
                                                                                                                    <FooterStyle VerticalAlign="Middle" />

                                                                                                                </telerik:GridTemplateColumn>

                                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="20" AllowFiltering="false" HeaderText="Alert " HeaderStyle-CssClass="itemHeader">
                                                                                                                    <ItemTemplate>
                                                                                                                        <asp:CheckBox ID="chkSelectAlert" CssClass="css-checkbox" Text=" " runat="server" />
                                                                                                                    </ItemTemplate>
                                                                                                                    <FooterStyle VerticalAlign="Middle" />

                                                                                                                </telerik:GridTemplateColumn>
                                                                                                                <%--<telerik:GridTemplateColumn HeaderStyle-Width="20" AllowFiltering="false" HeaderText="Task " HeaderStyle-CssClass="itemHeader">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:CheckBox ID="chkSelectTask" CssClass="css-checkbox" Text=" " runat="server" />
                                                                                                                        </ItemTemplate>
                                                                                                                        <FooterStyle VerticalAlign="Middle" />

                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false"  HeaderText="User Role" HeaderStyle-CssClass="itemHeader">
                                                                                                                    <ItemTemplate>
                                                                                                                        <div class="tag-div materialize-textarea textarea-border" id="cusLabelTagUR" style="text-align: left !important; cursor: pointer;" onclick="ShowUserRoleWindow(this);" runat="server"></div>
                                                                                                                        <asp:HiddenField ID="hdnUserRoles" runat="server" Value='<%# Eval("UserRole") %>' />
                                                                                                                        <asp:TextBox ID="txtUserRoles" class='<%# "txtUserRoles_" + Eval("Line") %>' runat="server" Style='min-width: 100px !important; display: none;'
                                                                                                                            Text='<%# Eval("UserRoleDisplay") %>'></asp:TextBox>
                                                                                                                    </ItemTemplate>
                                                                                                                    <FooterStyle VerticalAlign="Middle" />
                                                                                                                </telerik:GridTemplateColumn>--%>
                                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Team Member" HeaderStyle-CssClass="itemHeader">

                                                                                                                    <ItemTemplate>
                                                                                                                        <div class="tag-div materialize-textarea textarea-border" id="cusLabelTag" style="text-align: left !important; cursor: pointer;" onclick="ShowTeamMemberWindow(this);" runat="server"></div>
                                                                                                                        <asp:HiddenField ID="hdnMembers" runat="server" Value='<%# Eval("TeamMember") %>' />
                                                                                                                        <asp:TextBox ID="txtMembers" class='<%# "txtMembers_" + Eval("Line") %>' runat="server" Style='min-width: 100px !important; display: none;'
                                                                                                                            Text='<%# Eval("TeamMemberDisplay") %>'></asp:TextBox>
                                                                                                                    </ItemTemplate>

                                                                                                                </telerik:GridTemplateColumn>

                                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated By" HeaderStyle-CssClass="itemHeader">
                                                                                                                    <ItemTemplate>
                                                                                                                        <%--<asp:Label ID="lbUpdatedBy" runat="server"><%# Eval("Username") %></asp:Label>--%>
                                                                                                                        <asp:Label ID="lbUpdatedBy" runat="server" Text='<%# Eval("Username") %>'></asp:Label>
                                                                                                                    </ItemTemplate>


                                                                                                                </telerik:GridTemplateColumn>
                                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated Date" HeaderStyle-CssClass="itemHeader">
                                                                                                                    <ItemTemplate>
                                                                                                                        <asp:Label ID="lbUpdatedDate" runat="server"><%# Eval("UpdatedDate") %></asp:Label>
                                                                                                                    </ItemTemplate>
                                                                                                                </telerik:GridTemplateColumn>
                                                                                                            </Columns>
                                                                                                        </MasterTableView>
                                                                                                    </telerik:RadGrid>
                                                                                                </telerik:RadAjaxPanel>

                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="cf"></div>
                                                                                    </asp:Panel>
                                                                                    <div style="clear: both;"></div>
                                                                                </div>
                                                                            </div>
                                                                        </asp:Panel>
                                                                        <asp:Panel ID="tbpnlWageCategories" ClientIDMode="Static" runat="server" CssClass="col s12 tab-container-border lighten-4" Style="display: none;">


                                                                            <div class="tabs-custom-mgn1">
                                                                                <div class="form-section-row">
                                                                                    <%-- <asp:UpdatePanel ID="UpdatePanel11" runat="server" UpdateMode="Always">
                                                                                        <ContentTemplate>--%>
                                                                                    <div class="section-ttle">Wage Categories</div>
                                                                                    <div class="form-section3">
                                                                                        <div class="input-field col s12">
                                                                                            <div class="row">
                                                                                                <%--<label class="drpdwn-label">Multiple Wage Categories</label>															                                            
															                                            <div class="fc-input">
																                                            <asp:DropDownList ID="ddlmultiWageCategory" CssClass="browser-default" runat="server">
                                                                                                                <asp:ListItem Text="No" Value="0"></asp:ListItem>
                                                                                                                <asp:ListItem Text="Yes" Value="1"></asp:ListItem>
																                                            </asp:DropDownList>																                                            
															                                            </div>--%>
                                                                                                <div style="float: left; padding-right: 10px; padding-top: 5px;">
                                                                                                    <span>Multiple Wage Categories </span>
                                                                                                </div>
                                                                                                <div class="rd-flt">
                                                                                                    <input id="rdYesMultiWage" runat="server" class="radio-custom" name="radio-group-multiwage" type="radio" value="1">
                                                                                                    <asp:Label runat="server" ID="lblrdYesMultiWage" CssClass="radio-custom-label" AssociatedControlID="rdYesMultiWage">Yes</asp:Label>
                                                                                                </div>
                                                                                                <div class="rd-flt">
                                                                                                    <input id="rdNoMultiWage" runat="server" class="radio-custom" name="radio-group-multiwage" type="radio" value="0" checked>
                                                                                                    <asp:Label runat="server" ID="lblrdNoMultiWage" CssClass="radio-custom-label" AssociatedControlID="rdNoMultiWage">No</asp:Label>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>

                                                                                    </div>

                                                                                    <div class="form-section3-blank">
                                                                                        &nbsp;
                                                                                    </div>
                                                                                    <div class="form-section3">
                                                                                        <div class="input-field col s12">
                                                                                            <div class="row">
                                                                                                <div class="buttonContainer">
                                                                                                    <div class="btnlinks">
                                                                                                        <%--<asp:LinkButton ID="lnkbtnAddWageCategory" runat="server" CssClass="icon-save" Style="margin-left: 20px;" ToolTip="Add Wage Category" Text="Add Wage Category" OnClientClick="OpenWageCategoryModal();return false" >											                                                                      </asp:LinkButton>--%>
                                                                                                        <a id="lnkbtnAddWageCategory" onclick="OpenWageCategoryModal();" style="cursor: pointer; margin-left: 20px;">Add Wage Category</a>


                                                                                                    </div>
                                                                                                    <div class="btnlinks">
                                                                                                        <asp:LinkButton ID="lnkbtnRemoveWageCategory" runat="server" CausesValidation="false" CssClass="icon-save" Style="margin-left: 20px;" ToolTip="Remove Wage Category" Text="Remove Wage Category" OnClick="lnkbtnRemoveWageCategory_Click">
                                                                                                        </asp:LinkButton>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="input-field col s12" style="margin-top: 30px;">
                                                                                            <div class="checkrow">
                                                                                                <span class="tro"></span>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>



                                                                                    <div class="form-section-row">
                                                                                        <div class="grid_container">
                                                                                            <div class="form-section-row" style="margin-bottom: 0 !important;">
                                                                                                <div class="table-scrollable" style="height: auto; overflow-y: auto;">
                                                                                                    <div class="RadGrid RadGrid_Material">
                                                                                                        <telerik:RadCodeBlock ID="RadCodeBlock7" runat="server">
                                                                                                            <script type="text/javascript">
                                                                                                                function pageLoad() {
                                                                                                                    // debugger;
                                                                                                                    var grid = $find("<%= RadGrid_WageCategory.ClientID %>");
                                                                                                                    var columns = grid.get_masterTableView().get_columns();
                                                                                                                    for (var i = 0; i < columns.length; i++) {
                                                                                                                        columns[i].resizeToFit(false, true);
                                                                                                                    }
                                                                                                                }
                                                                                                                var requestInitiator = null;
                                                                                                                var selectionStart = null;
                                                                                                                function requestStart(sender, args) {
                                                                                                                    requestInitiator = document.activeElement.id;
                                                                                                                    if (document.activeElement.tagName == "INPUT") {
                                                                                                                        selectionStart = document.activeElement.selectionStart;
                                                                                                                    }
                                                                                                                }
                                                                                                                function responseEnd(sender, args) {
                                                                                                                    var element = document.getElementById(requestInitiator);
                                                                                                                    if (element && element.tagName == "INPUT") {
                                                                                                                        element.focus();
                                                                                                                        element.selectionStart = selectionStart;
                                                                                                                    }
                                                                                                                }

                                                                                                            </script>
                                                                                                        </telerik:RadCodeBlock>




                                                                                                        <div id="gvWageCatDIV1">




                                                                                                            <telerik:RadGrid ID="RadGrid_WageCategory" runat="server" CssClass="BomGrid" AutoGenerateColumns="False" Width="100%"
                                                                                                                RenderMode="Auto" AllowFilteringByColumn="true" ShowStatusBar="true" AllowMultiRowSelection="True" AllowPaging="true"
                                                                                                                OnItemDataBound="RadGrid_WageCategory_ItemDataBound" OnNeedDataSource="RadGrid_WageCategory_NeedDataSource" OnPreRender="RadGrid_WageCategory_PreRender"
                                                                                                                ShowGroupPanel="false"
                                                                                                                PagerStyle-AlwaysVisible="true"
                                                                                                                PageSize="50" ShowFooter="true">
                                                                                                                <CommandItemStyle />
                                                                                                                <GroupHeaderItemStyle Font-Size="Medium" Font-Bold="true" />
                                                                                                                <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false" AllowGroupExpandCollapse="false">
                                                                                                                    <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                                                                                                    <ClientEvents OnRowContextMenu="RowContextMenu" />
                                                                                                                </ClientSettings>
                                                                                                                <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="false" ShowFooter="true" AllowPaging="true">
                                                                                                                    <GroupByExpressions>
                                                                                                                    </GroupByExpressions>
                                                                                                                    <Columns>
                                                                                                                        <telerik:GridTemplateColumn UniqueName="TemplateColumn" HeaderStyle-Width="30">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:CheckBox ID="checkColumnWageCategory" runat="server" />
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Wage Category" HeaderStyle-Width="150" ItemStyle-HorizontalAlign="Right" HeaderStyle-CssClass="MatPart" ItemStyle-CssClass="MatPart" HeaderStyle-HorizontalAlign="Center" DataField="fdesc" UniqueName="fdesc" SortExpression="fdesc">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:Label ID="lblwagecatedesc" runat="server" Text='<%# Eval("fdesc") %>' Width="125" CssClass="left-align"></asp:Label>
                                                                                                                                <asp:HiddenField ID="hdnwagecateid" runat="server" Value='<%# Eval("id") %>' />
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="GL Expences" HeaderStyle-Width="150" ItemStyle-HorizontalAlign="Right" HeaderStyle-CssClass="MatPart" ItemStyle-CssClass="MatPart" HeaderStyle-HorizontalAlign="Center" DataField="GLName" UniqueName="GLName" SortExpression="GLName">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:Label ID="lblwagecategl" runat="server" Text='<%# Eval("GLName") %>' Width="125" CssClass="left-align"></asp:Label>
                                                                                                                                <asp:HiddenField ID="hdnwagecategl" runat="server" Value='<%# Eval("GL") %>' />
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>

                                                                                                                        <telerik:GridTemplateColumn HeaderText="Regular Rate(Pay)" HeaderStyle-Width="125" ItemStyle-HorizontalAlign="Right" HeaderStyle-CssClass="MatPart" ItemStyle-CssClass="MatPart" HeaderStyle-HorizontalAlign="Center" DataField="Reg" UniqueName="Reg" SortExpression="Reg">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtregratepay" runat="server" Text='<%# Eval("Reg","{0:n}") %>'
                                                                                                                                    CssClass="form-control input-sm input-small right-align" Width="100" onkeypress="return numericOnly(this);"></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Overtime(Pay)" HeaderStyle-Width="125" ItemStyle-HorizontalAlign="Right" HeaderStyle-CssClass="MatPart" ItemStyle-CssClass="MatPart" HeaderStyle-HorizontalAlign="Center" DataField="OT" UniqueName="OT" SortExpression="OT">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtotratepay" runat="server" Text='<%# Eval("OT","{0:n}") %>'
                                                                                                                                    CssClass="form-control input-sm input-small right-align" Width="100" onkeypress="return numericOnly(this);"></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="1.7 Time(Pay)" HeaderStyle-Width="125" ItemStyle-HorizontalAlign="Right" HeaderStyle-CssClass="MatPart" ItemStyle-CssClass="MatPart" HeaderStyle-HorizontalAlign="Center" DataField="NT" UniqueName="NT" SortExpression="NT">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtntratepay" runat="server" Text='<%# Eval("NT","{0:n}") %>'
                                                                                                                                    CssClass="form-control input-sm input-small right-align" Width="100" onkeypress="return numericOnly(this);"></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Double Time(Pay)" HeaderStyle-Width="125" ItemStyle-HorizontalAlign="Right" HeaderStyle-CssClass="MatPart" ItemStyle-CssClass="MatPart" HeaderStyle-HorizontalAlign="Center" DataField="DT" UniqueName="DT" SortExpression="DT">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtdtratepay" runat="server" Text='<%# Eval("DT","{0:n}") %>'
                                                                                                                                    CssClass="form-control input-sm input-small right-align" Width="100" onkeypress="return numericOnly(this);"></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Travel Time(Pay)" HeaderStyle-Width="125" ItemStyle-HorizontalAlign="Right" HeaderStyle-CssClass="MatPart" ItemStyle-CssClass="MatPart" HeaderStyle-HorizontalAlign="Center" DataField="TT" UniqueName="TT" SortExpression="TT">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtttratepay" runat="server" Text='<%# Eval("TT","{0:n}") %>'
                                                                                                                                    CssClass="form-control input-sm input-small right-align" Width="100" onkeypress="return numericOnly(this);"></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Regular Rate(Burden)" HeaderStyle-Width="125" ItemStyle-HorizontalAlign="Right" HeaderStyle-CssClass="MatPart" ItemStyle-CssClass="MatPart" HeaderStyle-HorizontalAlign="Center" DataField="CReg" UniqueName="CReg" SortExpression="CReg">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtregrateburden" runat="server" Text='<%# Eval("CReg","{0:n}") %>'
                                                                                                                                    CssClass="form-control input-sm input-small right-align" Width="100" onkeypress="return numericOnly(this);"></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Overtime(Burden)" HeaderStyle-Width="125" ItemStyle-HorizontalAlign="Right" HeaderStyle-CssClass="MatPart" ItemStyle-CssClass="MatPart" HeaderStyle-HorizontalAlign="Center" DataField="COT" UniqueName="COT" SortExpression="COT">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtotrateburden" runat="server" Text='<%# Eval("COT","{0:n}") %>'
                                                                                                                                    CssClass="form-control input-sm input-small right-align" Width="100" onkeypress="return numericOnly(this);"></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="1.7 Time(Burden)" HeaderStyle-Width="125" ItemStyle-HorizontalAlign="Right" HeaderStyle-CssClass="MatPart" ItemStyle-CssClass="MatPart" HeaderStyle-HorizontalAlign="Center" DataField="CNT" UniqueName="CNT" SortExpression="CNT">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtntrateburden" runat="server" Text='<%# Eval("CNT","{0:n}") %>'
                                                                                                                                    CssClass="form-control input-sm input-small right-align" Width="100" onkeypress="return numericOnly(this);"></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Double Time(Burden)" HeaderStyle-Width="125" ItemStyle-HorizontalAlign="Right" HeaderStyle-CssClass="MatPart" ItemStyle-CssClass="MatPart" HeaderStyle-HorizontalAlign="Center" DataField="CDT" UniqueName="CDT" SortExpression="CDT">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtdtrateburden" runat="server" Text='<%# Eval("CDT","{0:n}") %>'
                                                                                                                                    CssClass="form-control input-sm input-small right-align" Width="100" onkeypress="return numericOnly(this);"></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Travel Time(Burden)" HeaderStyle-Width="125" ItemStyle-HorizontalAlign="Right" HeaderStyle-CssClass="MatPart" ItemStyle-CssClass="MatPart" HeaderStyle-HorizontalAlign="Center" DataField="CTT" UniqueName="CTT" SortExpression="CTT">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtttrateburden" runat="server" Text='<%# Eval("CTT","{0:n}") %>'
                                                                                                                                    CssClass="form-control input-sm input-small right-align" Width="100" onkeypress="return numericOnly(this);"></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>

                                                                                                                    </Columns>
                                                                                                                </MasterTableView>
                                                                                                            </telerik:RadGrid>

                                                                                                        </div>

                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>

















                                                                                    <%--</ContentTemplate>
                                                                                        <Triggers>
                                                                                            <asp:AsyncPostBackTrigger ControlID="lnkWageCategorySave" />
                                                                                        </Triggers>
                                                                                    </asp:UpdatePanel>--%>
                                                                                </div>
                                                                                <div class="form-section-row">
                                                                                    <div class="section-ttle">Finance General Workflow</div>
                                                                                    <div style="clear: both;"></div>
                                                                                </div>
                                                                            </div>

                                                                        </asp:Panel>
                                                                        <asp:Panel ID="tbpnlDeductionCat" ClientIDMode="Static" runat="server" CssClass="col s12 tab-container-border lighten-4" Style="display: none;">
                                                                            <div class="tabs-custom-mgn1">
                                                                                <div class="form-section-row">
                                                                                    <%-- <asp:UpdatePanel ID="UpdatePanel11" runat="server" UpdateMode="Always">
                                                                                        <ContentTemplate>--%>
                                                                                    <div class="section-ttle">Wage Dedcutions</div>
                                                                                    <div class="form-section2">
                                                                                        <div class="input-field col s12">
                                                                                            <div class="row">
                                                                                                <%--<label class="drpdwn-label">Multiple Deduction Categories</label>															                                            
															                                            <div class="fc-input">
																                                            <asp:DropDownList ID="ddlmultideductionCategory" CssClass="browser-default" runat="server">
                                                                                                                <asp:ListItem Text="No" Value="0"></asp:ListItem>
                                                                                                                <asp:ListItem Text="Yes" Value="1"></asp:ListItem>
																                                            </asp:DropDownList>																                                            
															                                            </div>--%>

                                                                                                <div style="float: left; padding-right: 10px; padding-top: 5px;">
                                                                                                    <span>Multiple Deduction Categories </span>
                                                                                                </div>
                                                                                                <div class="rd-flt">
                                                                                                    <input id="rdYesMultiWageD" runat="server" class="radio-custom" name="radio-group-multiwageD" type="radio" value="1">
                                                                                                    <asp:Label runat="server" ID="lblrdYesMultiWageD" CssClass="radio-custom-label" AssociatedControlID="rdYesMultiWageD">Yes</asp:Label>
                                                                                                </div>
                                                                                                <div class="rd-flt">
                                                                                                    <input id="rdNoMultiWageD" runat="server" class="radio-custom" name="radio-group-multiwageD" type="radio" value="0" checked>
                                                                                                    <asp:Label runat="server" ID="lblrdNoMultiWageD" CssClass="radio-custom-label" AssociatedControlID="rdNoMultiWageD">No</asp:Label>
                                                                                                </div>

                                                                                            </div>
                                                                                        </div>

                                                                                    </div>

                                                                                    <div class="form-section3-blank">
                                                                                        &nbsp;
                                                                                    </div>
                                                                                    <div class="form-section2">
                                                                                        <div class="input-field col s12">
                                                                                            <div class="row">
                                                                                                <div class="buttonContainer">
                                                                                                    <div class="btnlinks">
                                                                                                        <%--<asp:LinkButton ID="lnkbtnAddWageCategory" runat="server" CssClass="icon-save" Style="margin-left: 20px;" ToolTip="Add Wage Category" Text="Add Wage Category" OnClientClick="OpenWageCategoryModal();return false" >											                                                                      </asp:LinkButton>--%>
                                                                                                        <a id="lnkbtnAdddedcutionCategory" onclick="OpenWageDeductionModal();" style="cursor: pointer; margin-left: 20px;">Add Deduction Category</a>
                                                                                                    </div>
                                                                                                    <div class="btnlinks">
                                                                                                        <asp:LinkButton ID="lnkbtnRemovededcutionCategory" CausesValidation="false" runat="server" CssClass="icon-save" Style="margin-left: 20px;" ToolTip="Remove Wage Category" Text="Remove Deduction Category" OnClick="lnkbtnRemovededcutionCategory_Click">
                                                                                                        </asp:LinkButton>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="input-field col s12" style="margin-top: 30px;">
                                                                                            <div class="checkrow">
                                                                                                <span class="tro"></span>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>



                                                                                    <div class="form-section-row">
                                                                                        <div class="grid_container">
                                                                                            <div class="form-section-row" style="margin-bottom: 0 !important;">
                                                                                                <div class="table-scrollable" style="height: auto; overflow-y: auto;">
                                                                                                    <div class="RadGrid RadGrid_Material">
                                                                                                        <telerik:RadCodeBlock ID="RadCodeBlock10" runat="server">
                                                                                                            <script type="text/javascript">
                                                                                                                function pageLoad() {
                                                                                                                    // debugger;
                                                                                                                    var grid = $find("<%= RadGrid_WageDeduction.ClientID %>");
                                                                                                                    var columns = grid.get_masterTableView().get_columns();
                                                                                                                    for (var i = 0; i < columns.length; i++) {
                                                                                                                        columns[i].resizeToFit(false, true);
                                                                                                                    }
                                                                                                                }
                                                                                                                var requestInitiator = null;
                                                                                                                var selectionStart = null;
                                                                                                                function requestStart(sender, args) {
                                                                                                                    requestInitiator = document.activeElement.id;
                                                                                                                    if (document.activeElement.tagName == "INPUT") {
                                                                                                                        selectionStart = document.activeElement.selectionStart;
                                                                                                                    }
                                                                                                                }
                                                                                                                function responseEnd(sender, args) {
                                                                                                                    var element = document.getElementById(requestInitiator);
                                                                                                                    if (element && element.tagName == "INPUT") {
                                                                                                                        element.focus();
                                                                                                                        element.selectionStart = selectionStart;
                                                                                                                    }
                                                                                                                }

                                                                                                            </script>
                                                                                                        </telerik:RadCodeBlock>




                                                                                                        <div id="gvWageCatDIV">




                                                                                                            <telerik:RadGrid ID="RadGrid_WageDeduction" runat="server" CssClass="BomGrid" AutoGenerateColumns="False" Width="100%"
                                                                                                                RenderMode="Auto" AllowFilteringByColumn="true" ShowStatusBar="true" AllowMultiRowSelection="True" AllowPaging="true"
                                                                                                                OnItemDataBound="RadGrid_WageDeduction_ItemDataBound" OnNeedDataSource="RadGrid_WageDeduction_NeedDataSource" OnPreRender="RadGrid_WageDeduction_PreRender"
                                                                                                                ShowGroupPanel="false"
                                                                                                                PagerStyle-AlwaysVisible="true"
                                                                                                                PageSize="50" ShowFooter="true">
                                                                                                                <CommandItemStyle />
                                                                                                                <GroupHeaderItemStyle Font-Size="Medium" Font-Bold="true" />
                                                                                                                <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false" AllowGroupExpandCollapse="false">
                                                                                                                    <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                                                                                                    <ClientEvents OnRowContextMenu="RowContextMenu" />
                                                                                                                </ClientSettings>
                                                                                                                <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="false" ShowFooter="true" AllowPaging="true">
                                                                                                                    <GroupByExpressions>
                                                                                                                    </GroupByExpressions>
                                                                                                                    <Columns>
                                                                                                                        <telerik:GridTemplateColumn UniqueName="TemplateColumn" HeaderStyle-Width="30">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:CheckBox ID="checkColumnWageDeduction" runat="server" />
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Dedcution" HeaderStyle-Width="250" ItemStyle-HorizontalAlign="Left" HeaderStyle-CssClass="MatPart" ItemStyle-CssClass="MatPart" HeaderStyle-HorizontalAlign="Center" DataField="fdesc" UniqueName="fdesc" SortExpression="fdesc">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:Label ID="lbldeductioncatedesc" runat="server" Text='<%# Eval("fdesc") %>' Width="125" CssClass="left-align"></asp:Label>
                                                                                                                                <asp:HiddenField ID="hdndeductioncateid" runat="server" Value='<%# Eval("id") %>' />
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Based on" HeaderStyle-Width="100" ItemStyle-HorizontalAlign="Left" HeaderStyle-CssClass="MatPart" ItemStyle-CssClass="MatPart" HeaderStyle-HorizontalAlign="Center" DataField="BasedOn" UniqueName="BasedOn" SortExpression="BasedOn">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:Label ID="lbldeductioncatebasedon" runat="server" Text='<%# Eval("BasedOnDesc") %>' Width="125" CssClass="left-align"></asp:Label>

                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Accured on" HeaderStyle-Width="100" ItemStyle-HorizontalAlign="Left" HeaderStyle-CssClass="MatPart" ItemStyle-CssClass="MatPart" HeaderStyle-HorizontalAlign="Center" DataField="AccruedOn" UniqueName="AccruedOn" SortExpression="AccruedOn">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:Label ID="lbldeductioncateaccured" runat="server" Text='<%# Eval("AccruedOnDesc") %>' Width="125" CssClass="left-align"></asp:Label>

                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Employee" HeaderStyle-Width="100" ItemStyle-HorizontalAlign="Left" HeaderStyle-CssClass="MatPart" ItemStyle-CssClass="MatPart" HeaderStyle-HorizontalAlign="Center" DataField="EmpRate" UniqueName="EmpRate" SortExpression="EmpRate">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:Label ID="lbldeductioncateemployee" runat="server" Text='<%# Eval("EmpRate") %>' Width="125" CssClass="right-align"></asp:Label>

                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Employee Ceiling" HeaderStyle-Width="100" ItemStyle-HorizontalAlign="Left" HeaderStyle-CssClass="MatPart" ItemStyle-CssClass="MatPart" HeaderStyle-HorizontalAlign="Center" DataField="EmpTop" UniqueName="EmpTop" SortExpression="EmpTop">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:Label ID="lbldeductioncateemployeeceil" runat="server" Text='<%# Eval("EmpTop") %>' Width="125" CssClass="left-align"></asp:Label>

                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Employee GL" HeaderStyle-Width="150" ItemStyle-HorizontalAlign="Left" HeaderStyle-CssClass="MatPart" ItemStyle-CssClass="MatPart" HeaderStyle-HorizontalAlign="Center" DataField="EmpGL" UniqueName="EmpGL" SortExpression="EmpGL">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:Label ID="lbldeductioncateemployeegl" runat="server" Text='<%# Eval("EmpGLName") %>' Width="125" CssClass="left-align"></asp:Label>
                                                                                                                                <asp:HiddenField ID="hdndeductioncateemployeegl" runat="server" Value='<%# Eval("EmpGL") %>' />
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Company" HeaderStyle-Width="100" ItemStyle-HorizontalAlign="Left" HeaderStyle-CssClass="MatPart" ItemStyle-CssClass="MatPart" HeaderStyle-HorizontalAlign="Center" DataField="CompRate" UniqueName="CompRate" SortExpression="CompRate">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:Label ID="lbldeductioncatecompany" runat="server" Text='<%# Eval("CompRate") %>' Width="125" CssClass="left-align"></asp:Label>

                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Company Ceiling" HeaderStyle-Width="100" ItemStyle-HorizontalAlign="Left" HeaderStyle-CssClass="MatPart" ItemStyle-CssClass="MatPart" HeaderStyle-HorizontalAlign="Center" DataField="CompTop" UniqueName="CompTop" SortExpression="CompTop">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:Label ID="lbldeductioncatecompanyceil" runat="server" Text='<%# Eval("CompTop") %>' Width="125" CssClass="left-align"></asp:Label>

                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Company GL" HeaderStyle-Width="150" ItemStyle-HorizontalAlign="Left" HeaderStyle-CssClass="MatPart" ItemStyle-CssClass="MatPart" HeaderStyle-HorizontalAlign="Center" DataField="CompGL" UniqueName="CompGL" SortExpression="CompGL">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:Label ID="lbldeductioncatecomapnygl" runat="server" Text='<%# Eval("CompGLName") %>' Width="125" CssClass="left-align"></asp:Label>
                                                                                                                                <asp:HiddenField ID="hdndeductioncatecomapnygl" runat="server" Value='<%# Eval("CompGL") %>' />
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Company Exp GL" HeaderStyle-Width="150" ItemStyle-HorizontalAlign="Left" HeaderStyle-CssClass="MatPart" ItemStyle-CssClass="MatPart" HeaderStyle-HorizontalAlign="Center" DataField="CompGLE" UniqueName="CompGLE" SortExpression="CompGLE">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:Label ID="lbldeductioncatecomapnyexpgl" runat="server" Text='<%# Eval("CompGLEName") %>' Width="125" CssClass="left-align"></asp:Label>
                                                                                                                                <asp:HiddenField ID="hdndeductioncatecomapnyexpgl" runat="server" Value='<%# Eval("CompGLE") %>' />
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>


                                                                                                                    </Columns>
                                                                                                                </MasterTableView>
                                                                                                            </telerik:RadGrid>

                                                                                                        </div>

                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="form-section-row">
                                                                                    <div class="section-ttle">Finance General Workflow</div>
                                                                                    <div style="clear: both;"></div>
                                                                                </div>
                                                                            </div>
                                                                        </asp:Panel>
                                                                    </div>
                                                                </div>


                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>

                                    <div id="tbpnlTicket" class="col s12 tab-container-border lighten-4" style="display: none;">

                                        <div class="form-content-wrap">
                                            <div class="tabs-custom-mgn1" style="padding-top: 20px;">
                                                <div class="form-section-row">
                                                    <div class="row">
                                                        <div class="col s12">
                                                            <div id="divTickets" runat="server">


                                                                <div id="divTicketList" style="margin-top: 20px">
                                                                    <div class="form-section-row">
                                                                        <div class="form-section4">
                                                                            <div class="input-field col s12">
                                                                                <div class="row">
                                                                                    <label class="drpdwn-label">Tickets</label>
                                                                                    <asp:DropDownList ID="ddlStatus" runat="server" CssClass="browser-default" AutoPostBack="true"
                                                                                        TabIndex="14" Width="200px" OnSelectedIndexChanged="ddlStatus_SelectedIndexChanged" CausesValidation="false">
                                                                                        <asp:ListItem Value="-1">All</asp:ListItem>
                                                                                        <asp:ListItem Value="-2">All Open</asp:ListItem>
                                                                                        <asp:ListItem Value="0">Un-Assigned</asp:ListItem>
                                                                                        <asp:ListItem Value="1">Assigned</asp:ListItem>
                                                                                        <asp:ListItem Value="2">Enroute</asp:ListItem>
                                                                                        <asp:ListItem Value="3">Onsite</asp:ListItem>
                                                                                        <asp:ListItem Value="4">Completed</asp:ListItem>
                                                                                        <asp:ListItem Value="5">Hold</asp:ListItem>
                                                                                    </asp:DropDownList>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-section4">
                                                                            <div class="input-field col s12">
                                                                                <div class="row">
                                                                                    <label class="drpdwn-label">Mobile</label>
                                                                                    <asp:DropDownList ID="ddlComp" runat="server" CssClass="browser-default" AutoPostBack="true"
                                                                                        TabIndex="14" Width="200px" OnSelectedIndexChanged="ddlComp_SelectedIndexChanged" CausesValidation="false">
                                                                                        <asp:ListItem Value="">All</asp:ListItem>
                                                                                        <asp:ListItem Value="2">Yes</asp:ListItem>
                                                                                        <asp:ListItem Value="1">No</asp:ListItem>
                                                                                    </asp:DropDownList>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-section2">
                                                                            <div class="input-field col s12">
                                                                                <div class="row">
                                                                                    <div class="btnlinks">

                                                                                        <a id="lnkaddticket11" href="#" style="cursor: pointer;" onclick='ShowProjectAddTicketPopup()'>Add Ticket</a>

                                                                                        <asp:HiddenField ID="lnkaddTicket" Value="0" runat="server" />

                                                                                    </div>

                                                                                    <div class="btnlinks">
                                                                                        <asp:LinkButton ID="lnkDeleteTicket" runat="server" OnClick="lnkDeleteTicket_Click" OnClientClick='return DeleteTicketClick(this)'>Delete Ticket</asp:LinkButton>
                                                                                    </div>
                                                                                    <div class="btnlinks">
                                                                                        <asp:LinkButton ID="lnkExcelTicket" runat="server" OnClick="lnkExcelTicket_Click">Export to Excel</asp:LinkButton>
                                                                                    </div>
                                                                                    <div class="btnlinks">
                                                                                        <asp:LinkButton ID="lnkjobticketSearch" CausesValidation="false" runat="server" OnClick="lnkjobticketSearch_Click">Search</asp:LinkButton>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>

                                                                <asp:Panel runat="server" ID="pnlTicketButtons" Style="background: #316b9d; width: 100%;" Visible="false">
                                                                    <ul class="lnklist-header lnklist-panel">
                                                                        <li>
                                                                            <asp:LinkButton ID="lnkDelete" runat="server" CausesValidation="False" OnClick="lnkDelete_Click" ToolTip="Delete" CssClass="icon-delete"
                                                                                OnClientClick="return DeleteAlert();" TabIndex="23"></asp:LinkButton>
                                                                        </li>
                                                                    </ul>
                                                                </asp:Panel>

                                                                <div class="grid_container">
                                                                    <div class="form-section-row">


                                                                        <%-- <asp:UpdatePanel ID="UpdatePanel27" runat="server" UpdateMode="Always">
                                                                                    <ContentTemplate>--%>
                                                                        <div class="RadGrid RadGrid_Material">
                                                                            <telerik:RadCodeBlock ID="RadCodeBlock4" runat="server">
                                                                                <script type="text/javascript">
                                                                                    function pageLoad() {
                                                                                        var grid = $find("<%= gvTickets.ClientID %>");
                                                                                        var columns = grid.get_masterTableView().get_columns();
                                                                                        for (var i = 0; i < columns.length; i++) {
                                                                                            columns[i].resizeToFit(false, true);
                                                                                        }
                                                                                    }
                                                                                    var requestInitiator = null;
                                                                                    var selectionStart = null;
                                                                                    function requestStart(sender, args) {
                                                                                        requestInitiator = document.activeElement.id;
                                                                                        if (document.activeElement.tagName == "INPUT") {
                                                                                            selectionStart = document.activeElement.selectionStart;
                                                                                        }
                                                                                    }
                                                                                    function responseEnd(sender, args) {
                                                                                        var element = document.getElementById(requestInitiator);
                                                                                        if (element && element.tagName == "INPUT") {
                                                                                            element.focus();
                                                                                            element.selectionStart = selectionStart;
                                                                                        }
                                                                                    }

                                                                                </script>
                                                                            </telerik:RadCodeBlock>

                                                                            <asp:LinkButton ID="lnkTicketpostback" CausesValidation="false" runat="server" Text="" OnClick="lnkTicketpostback_Click" />
                                                                            <asp:HiddenField ID="hdnloadticket" runat="server" Value="0" />

                                                                            <telerik:RadAjaxPanel ID="RadAjaxPanel_gvTickets" runat="server" LoadingPanelID="RadAjaxLoadingPanel_gvTickets" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">

                                                                                <telerik:RadGrid ID="gvTickets" runat="server" AutoGenerateColumns="False" RenderMode="Auto" AllowFilteringByColumn="false" ShowStatusBar="true" AllowPaging="true" AllowSorting="true" PageSize="50"
                                                                                    onsorting="gvTickets_Sorting"
                                                                                    emptydatatext="No tickets to display" howFooter="True" showheaderwhenempty="true"
                                                                                    OnDataBound="gvOpenCalls_DataBound" onrowcommand="gvOpenCalls_RowCommand" OnNeedDataSource="gvTickets_OnNeedDataSource">
                                                                                    <ClientSettings AllowColumnsReorder="true" ReorderColumnsOnClient="true" AllowGroupExpandCollapse="false">
                                                                                        <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" FrozenColumnsCount="2" />
                                                                                    </ClientSettings>
                                                                                    <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="false" ShowFooter="true" AllowPaging="true" PagerStyle-AlwaysVisible="true" AllowSorting="true">
                                                                                        <Columns>
                                                                                            <telerik:GridTemplateColumn AllowFiltering="false" UniqueName="chkSelect" AutoPostBackOnFilter="true" HeaderStyle-Width="30">
                                                                                                <ItemTemplate>
                                                                                                    <asp:CheckBox ID="chkSelect" runat="server" />
                                                                                                </ItemTemplate>
                                                                                            </telerik:GridTemplateColumn>
                                                                                            <telerik:GridTemplateColumn HeaderText=" " UniqueName="imgMobileService" AllowFiltering="false" AutoPostBackOnFilter="true" HeaderStyle-Width="30">
                                                                                                <ItemTemplate>
                                                                                                    <asp:Image ID="imgMobileService" ToolTip="Mobile Service" runat="server" Width="15px" ImageUrl='<%# Eval("comp").ToString().Trim() == "2" ? "images/1331034893_pda.png" : "data:image/png;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"%>' />
                                                                                                </ItemTemplate>
                                                                                            </telerik:GridTemplateColumn>
                                                                                            <telerik:GridTemplateColumn HeaderText="Hold" UniqueName="chkHold" AllowFiltering="false" AutoPostBackOnFilter="true" HeaderStyle-Width="50">
                                                                                                <ItemTemplate>
                                                                                                    <asp:CheckBox ID="chkHold" Enabled="false" Checked='<%# (Eval("assigned").ToString()=="5")?true:false %>'
                                                                                                        runat="server" />
                                                                                                </ItemTemplate>
                                                                                            </telerik:GridTemplateColumn>
                                                                                            <telerik:GridTemplateColumn AllowSorting="true" SortExpression="id" ShowSortIcon="true" HeaderText="Ticket #" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" HeaderStyle-Width="70">
                                                                                                <ItemTemplate>
                                                                                                    <asp:Label ID="lblTicketId" Style="display: none" runat="server" Text='<%# Bind("id") %>'></asp:Label>
                                                                                                    <asp:HyperLink ID="HyperLink1" OnClick='return EditTicketClick(this)' runat="server" Text='<%# Bind("id") %>' Target="_blank" NavigateUrl='<%# "addticket.aspx?id=" +Eval("id") +"&comp="+ Eval("comp")+"&pop=1&fr=proj" %>'></asp:HyperLink>
                                                                                                </ItemTemplate>
                                                                                                <ItemStyle HorizontalAlign="Center"></ItemStyle>
                                                                                            </telerik:GridTemplateColumn>

                                                                                            <telerik:GridTemplateColumn AllowSorting="true" SortExpression="dwork" ShowSortIcon="true" HeaderText="Assigned to" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" HeaderStyle-Width="120">
                                                                                                <ItemTemplate>
                                                                                                    <asp:Label ID="lblAssdTo" runat="server" Text='<%# Bind("dwork") %>'></asp:Label>
                                                                                                </ItemTemplate>
                                                                                            </telerik:GridTemplateColumn>
                                                                                            <telerik:GridTemplateColumn HeaderText="Category" SortExpression="cat" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" HeaderStyle-Width="100">
                                                                                                <ItemTemplate>
                                                                                                    <asp:Label ID="lblCategory" runat="server" Text='<%# Bind("cat") %>'></asp:Label>
                                                                                                </ItemTemplate>
                                                                                            </telerik:GridTemplateColumn>
                                                                                            <telerik:GridTemplateColumn AllowSorting="true" SortExpression="description" ShowSortIcon="true" HeaderText="Work Complete Desc." AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" HeaderStyle-Width="300">
                                                                                                <ItemTemplate>
                                                                                                    <asp:Label ID="lblDesc" Width="200px" Style="word-wrap: break-word;" runat="server" Text='<%# Eval("description")%>'></asp:Label>
                                                                                                </ItemTemplate>
                                                                                            </telerik:GridTemplateColumn>
                                                                                            <telerik:GridTemplateColumn HeaderText="Status" AllowSorting="true" SortExpression="assignname" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" HeaderStyle-Width="80">
                                                                                                <ItemTemplate>
                                                                                                    <asp:Label ID="lblStatus" runat="server" Text='<%# Bind("assignname") %>'></asp:Label>
                                                                                                </ItemTemplate>
                                                                                            </telerik:GridTemplateColumn>
                                                                                            <telerik:GridTemplateColumn HeaderText="Schedule Date" AllowSorting="true" SortExpression="edate" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" HeaderStyle-Width="150">
                                                                                                <ItemTemplate>
                                                                                                    <asp:Label ID="lbledate" runat="server" Text='<%# Eval("edate", "{0:MM/dd/yy hh:mm tt}") %>'></asp:Label>
                                                                                                </ItemTemplate>
                                                                                                <ItemStyle HorizontalAlign="Center"></ItemStyle>
                                                                                            </telerik:GridTemplateColumn>
                                                                                            <telerik:GridTemplateColumn HeaderText="EST" AllowSorting="true" SortExpression="est" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" HeaderStyle-Width="80">
                                                                                                <ItemTemplate>
                                                                                                    <asp:Label ID="lblEst" runat="server" Text='<%# Eval("est") %>'></asp:Label>
                                                                                                </ItemTemplate>
                                                                                                <FooterTemplate>
                                                                                                    <asp:Label ID="lblESTFooter" runat="server"></asp:Label>
                                                                                                </FooterTemplate>
                                                                                                <ItemStyle HorizontalAlign="Center"></ItemStyle>
                                                                                            </telerik:GridTemplateColumn>
                                                                                            <telerik:GridTemplateColumn HeaderText="Total Time" AllowSorting="true" SortExpression="Tottime" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" Aggregate="Sum" FooterText=" " DataType="System.Decimal" DataField="Tottime" HeaderStyle-Width="80">
                                                                                                <ItemTemplate>
                                                                                                    <asp:Label ID="lblTot" runat="server" Text='<%# Eval("Tottime") %>'></asp:Label>
                                                                                                </ItemTemplate>
                                                                                                <ItemStyle HorizontalAlign="Center"></ItemStyle>
                                                                                            </telerik:GridTemplateColumn>
                                                                                            <telerik:GridTemplateColumn HeaderText="RT" AllowSorting="true" SortExpression="reg" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" Aggregate="Sum" FooterText=" " DataType="System.Decimal" DataField="reg" HeaderStyle-Width="80">
                                                                                                <ItemTemplate>
                                                                                                    <asp:Label ID="lblRT" runat="server" Text='<%# Eval("reg") %>'></asp:Label>
                                                                                                </ItemTemplate>
                                                                                                <ItemStyle HorizontalAlign="Center"></ItemStyle>
                                                                                            </telerik:GridTemplateColumn>
                                                                                            <telerik:GridTemplateColumn HeaderText="OT" AllowSorting="true" SortExpression="OT" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" Aggregate="Sum" FooterText=" " DataType="System.Decimal" DataField="OT" HeaderStyle-Width="80">
                                                                                                <ItemTemplate>
                                                                                                    <asp:Label ID="lblOT" runat="server" Text='<%# Eval("OT") %>'></asp:Label>
                                                                                                </ItemTemplate>
                                                                                                <ItemStyle HorizontalAlign="Center"></ItemStyle>
                                                                                            </telerik:GridTemplateColumn>
                                                                                            <telerik:GridTemplateColumn HeaderText="NT" AllowSorting="true" SortExpression="NT" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" Aggregate="Sum" FooterText=" " DataType="System.Decimal" DataField="NT" HeaderStyle-Width="80">
                                                                                                <ItemTemplate>
                                                                                                    <asp:Label ID="lblNT" runat="server" Text='<%# Eval("NT") %>'></asp:Label>
                                                                                                </ItemTemplate>
                                                                                                <ItemStyle HorizontalAlign="Center"></ItemStyle>
                                                                                            </telerik:GridTemplateColumn>
                                                                                            <telerik:GridTemplateColumn HeaderText="DT" AllowSorting="true" SortExpression="DT" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" Aggregate="Sum" FooterText=" " DataType="System.Decimal" DataField="DT" HeaderStyle-Width="80">
                                                                                                <ItemTemplate>
                                                                                                    <asp:Label ID="lblDT" runat="server" Text='<%# Eval("DT") %>'></asp:Label>
                                                                                                </ItemTemplate>
                                                                                                <ItemStyle HorizontalAlign="Center"></ItemStyle>
                                                                                            </telerik:GridTemplateColumn>
                                                                                            <telerik:GridTemplateColumn HeaderText="TT" AllowSorting="true" SortExpression="TT" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" Aggregate="Sum" FooterText=" " DataType="System.Decimal" DataField="TT" HeaderStyle-Width="80">
                                                                                                <ItemTemplate>
                                                                                                    <asp:Label ID="lblTT" runat="server" Text='<%# Eval("TT") %>'></asp:Label>
                                                                                                </ItemTemplate>
                                                                                                <ItemStyle HorizontalAlign="Center"></ItemStyle>
                                                                                            </telerik:GridTemplateColumn>
                                                                                            <telerik:GridTemplateColumn HeaderText="Labor Expenses" AllowSorting="true" SortExpression="laborexp" ItemStyle-HorizontalAlign="Right" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" Aggregate="Sum" FooterText="$" DataType="System.Decimal" DataField="laborexp" HeaderStyle-Width="80">
                                                                                                <ItemTemplate>
                                                                                                    <asp:Label ID="lblLAbExpense" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "laborexp", "{0:c}")%>'></asp:Label>
                                                                                                </ItemTemplate>
                                                                                                <ItemStyle HorizontalAlign="Center"></ItemStyle>
                                                                                            </telerik:GridTemplateColumn>
                                                                                            <telerik:GridTemplateColumn HeaderText="Expenses" AllowSorting="true" SortExpression="expenses" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false" Aggregate="Sum" FooterText="$" DataType="System.Decimal" DataField="expenses" HeaderStyle-Width="80">
                                                                                                <ItemTemplate>
                                                                                                    <asp:Label ID="lblExpense" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "expenses", "{0:c}")%>'></asp:Label>
                                                                                                </ItemTemplate>
                                                                                                <ItemStyle HorizontalAlign="Center"></ItemStyle>
                                                                                            </telerik:GridTemplateColumn>
                                                                                        </Columns>
                                                                                    </MasterTableView>
                                                                                </telerik:RadGrid>

                                                                            </telerik:RadAjaxPanel>
                                                                        </div>

                                                                    </div>
                                                                </div>

                                                                <asp:HiddenField runat="server" ID="hdTicketListOrderBy" Value=" ASC" />
                                                                <br />

                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-section-row">
                                                <div class="row">

                                                    <div class="section-ttle">Ticket List Workflow</div>
                                                    <asp:Panel ID="pnlCustomTicketList" runat="server">
                                                        <div class="grid_container" style="margin-bottom: 0 !important;">
                                                            <div class="RadGrid RadGrid_Material FormGrid">
                                                                <telerik:RadAjaxPanel ID="RadAjaxPanel10" runat="server" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">
                                                                    <telerik:RadGrid RenderMode="Auto" ID="RadGrid_CustomTicketList" ShowFooter="false" PageSize="50"
                                                                        PagerStyle-AlwaysVisible="false" OnItemDataBound="RadGrid_Custom_ItemDataBound" OnItemCommand="RadGrid_CustomHeader_ItemCommand"
                                                                        ShowStatusBar="true" runat="server" AllowPaging="True" Width="100%" AllowCustomPaging="false">
                                                                        <CommandItemStyle />
                                                                        <GroupingSettings CaseSensitive="false" />
                                                                        <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false">
                                                                            <Selecting AllowRowSelect="false"></Selecting>
                                                                            <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                                                            <Resizing AllowColumnResize="true" ResizeGridOnColumnResize="true"></Resizing>
                                                                        </ClientSettings>
                                                                        <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="false" ShowFooter="True">
                                                                            <Columns>

                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="10" AllowFiltering="false" ItemStyle-Width="0.5%" FooterStyle-Width="0.5%">

                                                                                    <ItemTemplate>
                                                                                        <%--<asp:HiddenField ID="txtOrderNo" Value='<%# Eval("OrderNo") %>' runat="server"></asp:HiddenField>--%>
                                                                                        <asp:Label ID="lblIndex" Visible="true" runat="server" Text="<%# Container.ItemIndex +1 %>"></asp:Label>
                                                                                        <asp:Label ID="lblID" runat="server" Text='<%# Eval("ID") %>' Style="display: none;"></asp:Label>
                                                                                        <asp:Label ID="lblLine" runat="server" Text='<%# Eval("Line") %>' Style="display: none;" class="customline"></asp:Label>
                                                                                        <asp:Label ID="lblFormat" runat="server" Text='<%# Eval("Format") %>' Visible="false"></asp:Label>
                                                                                        <asp:Label ID="lblCustom" runat="server" Text='<%# Eval("Label") %>' Style="display: none;"></asp:Label>
                                                                                    </ItemTemplate>

                                                                                </telerik:GridTemplateColumn>

                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Name" HeaderStyle-CssClass="itemHeader">
                                                                                    <ItemTemplate>
                                                                                        <div style="text-align: left">
                                                                                            <asp:HiddenField ID="hdnTestItemValueID" Value='' runat="server"></asp:HiddenField>
                                                                                            <asp:Panel ID="divFormatText" runat="server" Visible="false">
                                                                                                <label class="fontHeader" for="txtFormatText"><%# Eval("Label") %></label>
                                                                                                <asp:TextBox ID="txtFormatText" runat="server" Text='' MaxLength="255"></asp:TextBox>
                                                                                            </asp:Panel>

                                                                                            <asp:Panel ID="divFormatDrop" runat="server" Visible="false">
                                                                                                <label class="fontHeader" for="drpdwnCustom"><%# Eval("Label") %></label>
                                                                                                <asp:DropDownList ID="drpdwnCustom" runat="server" CssClass="browser-default fontHeader">
                                                                                                </asp:DropDownList>
                                                                                            </asp:Panel>
                                                                                            <asp:Panel ID="divFormatCurrent" runat="server" Visible="false">
                                                                                                <label class="fontHeader" for="txtFormatCurrent"><%# Eval("Label") %></label>
                                                                                                <asp:TextBox ID="txtFormatCurrent" runat="server" Text=''
                                                                                                    CssClass="custom currency"></asp:TextBox>
                                                                                            </asp:Panel>
                                                                                            <asp:Panel ID="divFormatDate" runat="server" Visible="false">
                                                                                                <label class="fontHeader" for="txtFormatDate"><%# Eval("Label") %></label>
                                                                                                <asp:TextBox ID="txtFormatDate" runat="server" Text=''
                                                                                                    CssClass="custom datepicker_mom"></asp:TextBox>
                                                                                            </asp:Panel>
                                                                                            <asp:Panel ID="divFormatCheckbox" runat="server" Visible="false">

                                                                                                <asp:CheckBox ID="chkCustomFormat" runat="server" Text='&nbsp'
                                                                                                    CssClass="css-checkbox custom"></asp:CheckBox>
                                                                                                <label class="fontHeader" for="chkCustomFormat"><%# Eval("Label") %></label>
                                                                                            </asp:Panel>
                                                                                            <asp:Panel ID="divFormatNotes" runat="server" Visible="false">
                                                                                                <label class="fontHeader" for="txtFormatNotes"><%# Eval("Label") %></label>
                                                                                                <asp:TextBox ID="txtFormatNotes" runat="server" Text='' MaxLength="255" TextMode="MultiLine"
                                                                                                    Style="padding: 0.4rem 0 !important" CssClass="materialize-textarea textarea-border1">
                                                                                                </asp:TextBox>
                                                                                            </asp:Panel>
                                                                                            <asp:Panel ID="divFormatChkWithComment" runat="server" Visible="false">
                                                                                                <asp:CheckBox ID="chkWithComment" runat="server" Text='&nbsp'
                                                                                                    CssClass="css-checkbox custom"></asp:CheckBox>
                                                                                                <label class="fontHeader" for="chkWithComment"><%# Eval("Label") %></label>
                                                                                                <asp:TextBox ID="txtChkComment" placeholder="Checkbox comment" runat="server" Text='' MaxLength="255"></asp:TextBox>

                                                                                            </asp:Panel>
                                                                                        </div>

                                                                                    </ItemTemplate>
                                                                                    <FooterStyle VerticalAlign="Middle" />

                                                                                </telerik:GridTemplateColumn>

                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="20" AllowFiltering="false" HeaderText="Alert " HeaderStyle-CssClass="itemHeader">
                                                                                    <ItemTemplate>
                                                                                        <asp:CheckBox ID="chkSelectAlert" CssClass="css-checkbox" Text=" " runat="server" />
                                                                                    </ItemTemplate>
                                                                                    <FooterStyle VerticalAlign="Middle" />

                                                                                </telerik:GridTemplateColumn>
                                                                                <%--<telerik:GridTemplateColumn HeaderStyle-Width="20" AllowFiltering="false" HeaderText="Task " HeaderStyle-CssClass="itemHeader">
                                                                                            <ItemTemplate>
                                                                                                <asp:CheckBox ID="chkSelectTask" CssClass="css-checkbox" Text=" " runat="server" />
                                                                                            </ItemTemplate>
                                                                                            <FooterStyle VerticalAlign="Middle" />

                                                                                        </telerik:GridTemplateColumn>
                                                                                        <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false"  HeaderText="User Role" HeaderStyle-CssClass="itemHeader">
                                                                                            <ItemTemplate>
                                                                                                <div class="tag-div materialize-textarea textarea-border" id="cusLabelTagUR" style="text-align: left !important; cursor: pointer;" onclick="ShowUserRoleWindow(this);" runat="server"></div>
                                                                                                <asp:HiddenField ID="hdnUserRoles" runat="server" Value='<%# Eval("UserRole") %>' />
                                                                                                <asp:TextBox ID="txtUserRoles" class='<%# "txtUserRoles_" + Eval("Line") %>' runat="server" Style='min-width: 100px !important; display: none;'
                                                                                                    Text='<%# Eval("UserRoleDisplay") %>'></asp:TextBox>
                                                                                            </ItemTemplate>
                                                                                            <FooterStyle VerticalAlign="Middle" />
                                                                                        </telerik:GridTemplateColumn>--%>
                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Team Member" HeaderStyle-CssClass="itemHeader">

                                                                                    <ItemTemplate>
                                                                                        <div class="tag-div materialize-textarea textarea-border" id="cusLabelTag" style="text-align: left !important; cursor: pointer;" onclick="ShowTeamMemberWindow(this);" runat="server"></div>
                                                                                        <asp:HiddenField ID="hdnMembers" runat="server" Value='<%# Eval("TeamMember") %>' />
                                                                                        <asp:TextBox ID="txtMembers" class='<%# "txtMembers_" + Eval("Line") %>' runat="server" Style='min-width: 100px !important; display: none;'
                                                                                            Text='<%# Eval("TeamMemberDisplay") %>'></asp:TextBox>
                                                                                    </ItemTemplate>

                                                                                </telerik:GridTemplateColumn>

                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated By" HeaderStyle-CssClass="itemHeader">
                                                                                    <ItemTemplate>
                                                                                        <%--<asp:Label ID="lbUpdatedBy" runat="server"><%# Eval("Username") %></asp:Label>--%>
                                                                                        <asp:Label ID="lbUpdatedBy" runat="server" Text='<%# Eval("Username") %>'></asp:Label>
                                                                                    </ItemTemplate>


                                                                                </telerik:GridTemplateColumn>
                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated Date" HeaderStyle-CssClass="itemHeader">
                                                                                    <ItemTemplate>
                                                                                        <asp:Label ID="lbUpdatedDate" runat="server"><%# Eval("UpdatedDate") %></asp:Label>
                                                                                    </ItemTemplate>
                                                                                </telerik:GridTemplateColumn>
                                                                            </Columns>
                                                                        </MasterTableView>
                                                                    </telerik:RadGrid>
                                                                </telerik:RadAjaxPanel>

                                                            </div>
                                                        </div>
                                                        <div class="cf"></div>
                                                    </asp:Panel>
                                                    <div style="clear: both;"></div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>

                                    <div id="tbpnlTicketTask" class="col s12 tab-container-border lighten-4" style="display: none;">
                                        <div class="form-content-wrap">
                                            <div class="tabs-custom-mgn1" style="padding-top: 20px;">
                                                <div class="form-section-row">
                                                    <div class="row">
                                                        <div class="grid_container">
                                                            <div class="form-section-row" style="margin-bottom: 0 !important;">
                                                                <div class="table-scrollable" style="height: auto; max-height: 400px; overflow-y: auto; border: none">
                                                                    <asp:Repeater ID="rptTicketTask" runat="server" OnItemDataBound="rptTicketTask_ItemDataBound">
                                                                        <HeaderTemplate>
                                                                            <table class="table table-bordered table-striped table-condensed flip-content">
                                                                                <tr>
                                                                                    <th scope="col" class="rgHeader">Ticket #</th>
                                                                                    <th scope="col" class="rgHeader">Assigned to</th>
                                                                                    <th scope="col" class="rgHeader">Category</th>
                                                                                    <th scope="col" class="rgHeader">Status</th>
                                                                                    <th scope="col" class="rgHeader">Schedule Date</th>
                                                                                </tr>
                                                                        </HeaderTemplate>
                                                                        <ItemTemplate>
                                                                            <tr>
                                                                                <td>
                                                                                    <asp:Label ID="lblID" runat="server" Text='<%# Bind("id") %>'></asp:Label>
                                                                                </td>
                                                                                <td>
                                                                                    <asp:Label ID="lblAssdTo" runat="server" Text='<%# Bind("dwork") %>'></asp:Label>
                                                                                </td>
                                                                                <td>
                                                                                    <asp:Label ID="lblCategory" runat="server" Text='<%# Bind("cat") %>'></asp:Label>
                                                                                </td>
                                                                                <td>
                                                                                    <asp:Label ID="lblStatus" runat="server" Text='<%# Bind("assignname") %>'></asp:Label>
                                                                                </td>
                                                                                <td>
                                                                                    <asp:Label ID="lbledate" runat="server" Text='<%# Eval("edate", "{0:MM/dd/yy hh:mm tt}") %>'></asp:Label>
                                                                                </td>
                                                                            </tr>
                                                                            <tr>
                                                                                <td colspan="5">
                                                                                    <div id="divCustom">
                                                                                        <asp:Repeater ID="rtTasks" runat="server">
                                                                                            <HeaderTemplate>
                                                                                                <table style="width: 400px; margin-left: 170px" class="table table-bordered table-condensed flip-content">
                                                                                            </HeaderTemplate>
                                                                                            <ItemTemplate>
                                                                                                <tr>
                                                                                                    <td>
                                                                                                        <asp:Label ID="Label4" runat="server" Text='<%# Container.ItemIndex + 1 %>'></asp:Label>
                                                                                                    </td>
                                                                                                    <td>
                                                                                                        <asp:Label ID="lblDesc" runat="server" Text='<%# Eval("task_code") %>'></asp:Label>
                                                                                                    </td>
                                                                                                </tr>
                                                                                            </ItemTemplate>
                                                                                            <FooterTemplate>
                                                                                                </table>
                                                                                            </FooterTemplate>
                                                                                        </asp:Repeater>
                                                                                    </div>
                                                                                </td>
                                                                            </tr>
                                                                        </ItemTemplate>
                                                                        <FooterTemplate>
                                                                            </table>
                                                                        </FooterTemplate>
                                                                    </asp:Repeater>
                                                                </div>
                                                                <asp:UpdatePanel ID="UpdatePanel22" runat="server">
                                                                    <ContentTemplate>
                                                                        <asp:Panel ID="pnlCodes" runat="server" Width="100%">
                                                                            <div style="background: #316b9d; width: 100%; border: 1px solid #316b9d; height: 43px">
                                                                                <ul class="lnklist-header lnklist-panel" style="height: 31px">
                                                                                    <li>
                                                                                        <span style="color: #fff; font-size: 20px;">Resolution Tasks </span>
                                                                                    </li>
                                                                                    <li style="float: right">
                                                                                        <ul>
                                                                                        </ul>
                                                                                    </li>
                                                                                </ul>
                                                                            </div>
                                                                            <div style="width: 100%; border: 1px solid #316b9d">
                                                                                <table style="width: 100%">
                                                                                    <tr>
                                                                                        <td>
                                                                                            <div style="height: 200px; width: 100%; overflow-y: scroll;">
                                                                                                <asp:Repeater ID="rptCodesList" runat="server">
                                                                                                    <HeaderTemplate>
                                                                                                        <table id="tblCodesList" style="width: 100%;" class="table table-bordered table-striped table-condensed flip-content ">
                                                                                                            <th>Code</th>
                                                                                                            <th>Updated</th>
                                                                                                            <th>Ticket#</th>
                                                                                                    </HeaderTemplate>
                                                                                                    <ItemTemplate>
                                                                                                        <tr>
                                                                                                            <td>
                                                                                                                <asp:CheckBox ID="chkCode" onchange="checkedHidden(this);" runat="server" Text='<%# Eval("fdesc") %>' />
                                                                                                                <asp:HiddenField ID="hdnCodeCat" runat="server" Value='<%# Eval("category") %>' />
                                                                                                                <asp:HiddenField ID="hdnTicket" runat="server" />
                                                                                                                <asp:HiddenField ID="hdnDate" runat="server" />
                                                                                                                <asp:HiddenField ID="hdnUsername" runat="server" />
                                                                                                                <asp:HiddenField ID="hdnChecked" runat="server" />
                                                                                                            </td>
                                                                                                            <td>
                                                                                                                <asp:Label ID="lblDesc" runat="server"></asp:Label>
                                                                                                            </td>
                                                                                                            <td>
                                                                                                                <asp:HyperLink ID="lnkTicket" Target="_blank" runat="server"></asp:HyperLink>
                                                                                                            </td>
                                                                                                        </tr>
                                                                                                    </ItemTemplate>
                                                                                                    <FooterTemplate>
                                                                                                        </table>
                                                                                                    </FooterTemplate>
                                                                                                </asp:Repeater>
                                                                                            </div>
                                                                                        </td>
                                                                                    </tr>
                                                                                </table>
                                                                            </div>
                                                                        </asp:Panel>
                                                                    </ContentTemplate>
                                                                </asp:UpdatePanel>
                                                                <div class="col-md-12 col-lg-12">
                                                                    <%--<asp:PlaceHolder ID="TaskPlaceholder" runat="server"></asp:PlaceHolder>--%>
                                                                    <div class="section-ttle">Attributes Task Workflow</div>
                                                                    <asp:Panel ID="pnlCustomTask" runat="server">
                                                                        <div class="grid_container" style="margin-bottom: 0 !important;">
                                                                            <div class="RadGrid RadGrid_Material FormGrid">
                                                                                <telerik:RadAjaxPanel ID="RadAjaxPanel13" runat="server" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">
                                                                                    <telerik:RadGrid RenderMode="Auto" ID="RadGrid_CustomTask" ShowFooter="false" PageSize="50"
                                                                                        PagerStyle-AlwaysVisible="false" OnItemDataBound="RadGrid_Custom_ItemDataBound" OnItemCommand="RadGrid_CustomAttributesGeneral_ItemCommand"
                                                                                        ShowStatusBar="true" runat="server" AllowPaging="True" Width="100%" AllowCustomPaging="false">
                                                                                        <CommandItemStyle />
                                                                                        <GroupingSettings CaseSensitive="false" />
                                                                                        <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false">
                                                                                            <Selecting AllowRowSelect="false"></Selecting>
                                                                                            <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                                                                            <Resizing AllowColumnResize="true" ResizeGridOnColumnResize="true"></Resizing>
                                                                                        </ClientSettings>
                                                                                        <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="false" ShowFooter="True">
                                                                                            <Columns>

                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="10" AllowFiltering="false" ItemStyle-Width="0.5%" FooterStyle-Width="0.5%">

                                                                                                    <ItemTemplate>
                                                                                                        <asp:Label ID="lblIndex" Visible="true" runat="server" Text="<%# Container.ItemIndex +1 %>"></asp:Label>
                                                                                                        <asp:Label ID="lblID" runat="server" Text='<%# Eval("ID") %>' Style="display: none;"></asp:Label>
                                                                                                        <asp:Label ID="lblLine" runat="server" Text='<%# Eval("Line") %>' Style="display: none;" class="customline"></asp:Label>
                                                                                                        <asp:Label ID="lblFormat" runat="server" Text='<%# Eval("Format") %>' Visible="false"></asp:Label>
                                                                                                        <asp:Label ID="lblCustom" runat="server" Text='<%# Eval("Label") %>' Style="display: none;"></asp:Label>
                                                                                                    </ItemTemplate>

                                                                                                </telerik:GridTemplateColumn>

                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Name" HeaderStyle-CssClass="itemHeader">
                                                                                                    <ItemTemplate>
                                                                                                        <div style="text-align: left">
                                                                                                            <asp:HiddenField ID="hdnTestItemValueID" Value='' runat="server"></asp:HiddenField>
                                                                                                            <asp:Panel ID="divFormatText" runat="server" Visible="false">
                                                                                                                <label class="fontHeader" for="txtFormatText"><%# Eval("Label") %></label>
                                                                                                                <asp:TextBox ID="txtFormatText" runat="server" Text='' MaxLength="255"></asp:TextBox>
                                                                                                            </asp:Panel>

                                                                                                            <asp:Panel ID="divFormatDrop" runat="server" Visible="false">
                                                                                                                <label class="fontHeader" for="drpdwnCustom"><%# Eval("Label") %></label>
                                                                                                                <asp:DropDownList ID="drpdwnCustom" runat="server" CssClass="browser-default fontHeader">
                                                                                                                </asp:DropDownList>
                                                                                                            </asp:Panel>
                                                                                                            <asp:Panel ID="divFormatCurrent" runat="server" Visible="false">
                                                                                                                <label class="fontHeader" for="txtFormatCurrent"><%# Eval("Label") %></label>
                                                                                                                <asp:TextBox ID="txtFormatCurrent" runat="server" Text=''
                                                                                                                    CssClass="custom currency"></asp:TextBox>
                                                                                                            </asp:Panel>
                                                                                                            <asp:Panel ID="divFormatDate" runat="server" Visible="false">
                                                                                                                <label class="fontHeader" for="txtFormatDate"><%# Eval("Label") %></label>
                                                                                                                <asp:TextBox ID="txtFormatDate" runat="server" Text=''
                                                                                                                    CssClass="custom datepicker_mom"></asp:TextBox>
                                                                                                            </asp:Panel>
                                                                                                            <asp:Panel ID="divFormatCheckbox" runat="server" Visible="false">

                                                                                                                <asp:CheckBox ID="chkCustomFormat" runat="server" Text='&nbsp'
                                                                                                                    CssClass="css-checkbox custom"></asp:CheckBox>
                                                                                                                <label class="fontHeader" for="chkCustomFormat"><%# Eval("Label") %></label>
                                                                                                            </asp:Panel>
                                                                                                            <asp:Panel ID="divFormatNotes" runat="server" Visible="false">
                                                                                                                <label class="fontHeader" for="txtFormatNotes"><%# Eval("Label") %></label>
                                                                                                                <asp:TextBox ID="txtFormatNotes" runat="server" Text='' MaxLength="255" TextMode="MultiLine"
                                                                                                                    Style="padding: 0.4rem 0 !important" CssClass="materialize-textarea textarea-border1">
                                                                                                                </asp:TextBox>
                                                                                                            </asp:Panel>
                                                                                                            <asp:Panel ID="divFormatChkWithComment" runat="server" Visible="false">
                                                                                                                <asp:CheckBox ID="chkWithComment" runat="server" Text='&nbsp'
                                                                                                                    CssClass="css-checkbox custom"></asp:CheckBox>
                                                                                                                <label class="fontHeader" for="chkWithComment"><%# Eval("Label") %></label>
                                                                                                                <asp:TextBox ID="txtChkComment" placeholder="Checkbox comment" runat="server" Text='' MaxLength="255"></asp:TextBox>

                                                                                                            </asp:Panel>
                                                                                                        </div>

                                                                                                    </ItemTemplate>
                                                                                                    <FooterStyle VerticalAlign="Middle" />

                                                                                                </telerik:GridTemplateColumn>

                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="20" AllowFiltering="false" HeaderText="Alert " HeaderStyle-CssClass="itemHeader">
                                                                                                    <ItemTemplate>
                                                                                                        <asp:CheckBox ID="chkSelectAlert" CssClass="css-checkbox" Text=" " runat="server" />
                                                                                                    </ItemTemplate>
                                                                                                    <FooterStyle VerticalAlign="Middle" />

                                                                                                </telerik:GridTemplateColumn>

                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Team Member" HeaderStyle-CssClass="itemHeader">

                                                                                                    <ItemTemplate>
                                                                                                        <div class="tag-div materialize-textarea textarea-border" id="cusLabelTag" style="text-align: left !important; cursor: pointer;" onclick="ShowTeamMemberWindow(this);" runat="server"></div>
                                                                                                        <asp:HiddenField ID="hdnMembers" runat="server" Value='<%# Eval("TeamMember") %>' />
                                                                                                        <asp:TextBox ID="txtMembers" class='<%# "txtMembers_" + Eval("Line") %>' runat="server" Style='min-width: 100px !important; display: none;'
                                                                                                            Text='<%# Eval("TeamMemberDisplay") %>'></asp:TextBox>
                                                                                                    </ItemTemplate>

                                                                                                </telerik:GridTemplateColumn>

                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated By" HeaderStyle-CssClass="itemHeader">
                                                                                                    <ItemTemplate>
                                                                                                        <asp:Label ID="lbUpdatedBy" runat="server" Text='<%# Eval("Username") %>'></asp:Label>
                                                                                                    </ItemTemplate>
                                                                                                </telerik:GridTemplateColumn>
                                                                                                <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated Date" HeaderStyle-CssClass="itemHeader">
                                                                                                    <ItemTemplate>
                                                                                                        <asp:Label ID="lbUpdatedDate" runat="server"><%# Eval("UpdatedDate") %></asp:Label>
                                                                                                    </ItemTemplate>
                                                                                                </telerik:GridTemplateColumn>
                                                                                            </Columns>
                                                                                        </MasterTableView>
                                                                                    </telerik:RadGrid>
                                                                                </telerik:RadAjaxPanel>
                                                                            </div>
                                                                        </div>
                                                                        <div class="cf"></div>
                                                                    </asp:Panel>
                                                                    <div style="clear: both;"></div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div id="tbpnlBom" class="col s12 tab-container-border lighten-4" style="display: none;">
                                        <%--  <telerik:RadWindow ID="BOMListWindow" Skin="Material" VisibleTitlebar="true" Behaviors="Default" CenterIfModal="true"
                                            Animation="FlyIn" AnimationDuration="200" RenderMode="Auto" VisibleStatusbar="false" MinWidth="1000"
                                            runat="server" Modal="true" Width="1000" MinHeight="550px" Height="100%">
                                            <ContentTemplate>--%>

                                        <div class="tabdiv" style="font-size: 13px !important; color: black!important; text-transform: none !important">
                                            <ul class="tabs tab-demo-active white subTab" style="width: 100%; z-index: 0;">
                                                <li class="tab col s2">
                                                    <a class="white-text waves-effect waves-light active" href="#tbBOMpnlGRID">BOM</a>
                                                </li>
                                                <li class="tab col s2">
                                                    <a class="white-text waves-effect waves-light" href="#tbpnlAttributesBOMWorkflow">Attributes BOM Workflow</a>
                                                </li>

                                            </ul>
                                        </div>


                                        <div id="tbBOMpnlGRID" class="col s12 tab-container-border lighten-4" style="display: block;">
                                            <div class="form-content-wrap">
                                                <div class="tabs-custom-mgn1">
                                                    <div class="form-section-row">
                                                        <div class="row">

                                                            <table>
                                                                <tr>
                                                                    <td style="width: 150px !important;">
                                                                        <telerik:RadAjaxPanel runat="server">
                                                                            <asp:DropDownList ID="ddlProjectGroup" CssClass="browser-default" OnSelectedIndexChanged="ddlProjectGroup_SelectedIndexChanged" runat="server" AutoPostBack="true"></asp:DropDownList>

                                                                        </telerik:RadAjaxPanel>
                                                                    </td>
                                                                    <td>
                                                                        <asp:LinkButton ID="lnkAddGroupName" runat="server" Style="float: left !important;" CssClass="browser-default" CausesValidation="False" ToolTip="Add New Group" OnClientClick="OpenRadWindowProjectGroup();return false"><i class="mdi-social-person-add"></i></asp:LinkButton></td>
                                                                    <td>

                                                                        <asp:CheckBox ID="chkTargetHours" runat="server" CausesValidation="false" Text="Target Hours" CssClass="css-checkbox" />
                                                                        <asp:HiddenField ID="hdnItemJSON" runat="server" />
                                                                        <asp:HiddenField ID="hdnItemTeamJSON" runat="server" />
                                                                        <asp:HiddenField ID="hdnChkMat" runat="server"></asp:HiddenField>
                                                                        <asp:HiddenField ID="hdnChkLb" runat="server"></asp:HiddenField>

                                                                    </td>
                                                                    <td>
                                                                        <asp:CheckBox ID="chkMaterial" runat="server" Text="Material" CssClass="css-checkbox" /></td>

                                                                    <td>
                                                                        <asp:CheckBox ID="chkLabor" runat="server" Text="Labor" CssClass="css-checkbox" />

                                                                    </td>
                                                                    <td>
                                                                        <div class="btnlinks">
                                                                            <asp:LinkButton ID="lnktargeted" OnClick="lnktargeted_Click" Width="155" Visible="true" runat="server" CausesValidation="false">Set Target Hours </asp:LinkButton>
                                                                        </div>
                                                                    </td>
                                                                    <td>
                                                                        <div class="btnlinks">
                                                                            <asp:LinkButton ID="lnkBomExportExcel" Width="150" runat="server" OnClick="lnkBomExportExcel_Click">Export to Excel</asp:LinkButton>
                                                                        </div>
                                                                    </td>


                                                                </tr>
                                                            </table>


                                                            <div class="grid_container" id="gvBOMDIV">

                                                                <div class="form-section-row">

                                                                    <div class="RadGrid RadGrid_Material">
                                                                        <telerik:RadCodeBlock ID="RadCodeBlock5" runat="server">
                                                                            <script type="text/javascript">
                                                                                function pageLoad() {
                                                                                    // debugger;
                                                                                    var grid = $find("<%= gvBOM.ClientID %>");
                                                                                    var columns = grid.get_masterTableView().get_columns();
                                                                                    for (var i = 0; i < columns.length; i++) {
                                                                                        columns[i].resizeToFit(false, true);
                                                                                    }
                                                                                }
                                                                                var requestInitiator = null;
                                                                                var selectionStart = null;
                                                                                function requestStart(sender, args) {
                                                                                    requestInitiator = document.activeElement.id;
                                                                                    if (document.activeElement.tagName == "INPUT") {
                                                                                        selectionStart = document.activeElement.selectionStart;
                                                                                    }
                                                                                }
                                                                                function responseEnd(sender, args) {
                                                                                    var element = document.getElementById(requestInitiator);
                                                                                    if (element && element.tagName == "INPUT") {
                                                                                        element.focus();
                                                                                        element.selectionStart = selectionStart;
                                                                                    }
                                                                                }

                                                                                function LoadGvBom() {
                                                                                    if (document.getElementById('<%= hdnloadbomtab.ClientID%>').value == "0") {
                                                                                        document.getElementById('<%= lnkloadbomtab.ClientID%>').click();
                                                                                    }

                                                                                    //  var wnd = $find('=BOMListWindow.ClientID ');
                                                                                    //  wnd.set_title("BOM");
                                                                                    //  wnd.Show();

                                                                                }

                                                                                function loadEquipment() {
                                                                                    if (document.getElementById('<%= hdnloadequipment.ClientID%>').value == "0") {
                                                                                        document.getElementById('<%= lnkloadeqipment.ClientID%>').click();
                                                                                    }
                                                                                }

                                                                            </script>
                                                                        </telerik:RadCodeBlock>



                                                                        <telerik:RadAjaxPanel ID="RadAjaxPanelBOM" runat="server" LoadingPanelID="RadAjaxLoadingPanel_gvBOM" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">

                                                                            <asp:LinkButton ID="lnkloadbomtab" CausesValidation="false" runat="server" Text="" OnClick="lnkloadbomtab_Click" />

                                                                            <asp:HiddenField ID="hdnloadbomtab" runat="server" Value="0" />


                                                                            <asp:LinkButton ID="lnkloadeqipment" CausesValidation="false" runat="server" Text="" OnClick="lnkloadeqipment_Click" />

                                                                            <asp:HiddenField ID="hdnloadequipment" runat="server" Value="0" />

                                                                            <telerik:RadGrid ID="gvBOM" runat="server" CssClass="BomGrid" AutoGenerateColumns="False" Width="100%"
                                                                                RenderMode="Auto" AllowFilteringByColumn="true" ShowStatusBar="true" AllowMultiRowSelection="True" AllowPaging="true"
                                                                                ShowGroupPanel="false"
                                                                                PagerStyle-AlwaysVisible="true"
                                                                                PageSize="25" ShowFooter="true"
                                                                                OnNeedDataSource="gvBOM_NeedDataSource"
                                                                                OnItemDataBound="gvBOM_RowDataBound"
                                                                                OnItemCommand="gvBOM_RowCommand"
                                                                                OnItemCreated="gvBOM_ItemCreated"
                                                                                ClientSettings-Scrolling-UseStaticHeaders="true"
                                                                                ClientSettings-Scrolling-AllowScroll="true">
                                                                                <CommandItemStyle />
                                                                                <GroupHeaderItemStyle Font-Size="Medium" Font-Bold="true" />
                                                                                <ClientSettings AllowColumnsReorder="true" ReorderColumnsOnClient="false" AllowGroupExpandCollapse="false">
                                                                                    <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                                                                    <ClientEvents OnRowContextMenu="RowContextMenu" />
                                                                                </ClientSettings>
                                                                                <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="true" AllowSorting="true" ShowFooter="true" AllowPaging="true">
                                                                                    <GroupByExpressions>
                                                                                    </GroupByExpressions>

                                                                                    <ColumnGroups>
                                                                                    </ColumnGroups>
                                                                                    <Columns>
                                                                                        <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" AutoPostBackOnFilter="false" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                            <HeaderTemplate>
                                                                                                <asp:LinkButton ID="ibDeleteBom" runat="server" CausesValidation="false"
                                                                                                    OnClientClick="return CheckDelete('gvBOM.ClientID');" Style="color: #000; font-size: 1.5em;"
                                                                                                    OnClick="ibDeleteBom_Click"
                                                                                                    Width="20px"><i class="mdi-navigation-cancel" style="color: #f00;font-size: 1.2em; font-weight: bold;"></i></asp:LinkButton>
                                                                                                <asp:CheckBox ID="chkSelectAll" onchange="selectAllCheckbox(this, 'BomItem');" runat="server" CssClass="css-checkbox chkSelectAll" Text=" " />
                                                                                            </HeaderTemplate>
                                                                                            <ItemTemplate>
                                                                                                <asp:CheckBox ID="chkSelect" CssClass="css-checkbox chkSelect" Text=" " runat="server" />
                                                                                                <asp:HiddenField ID="hdnLine" runat="server" Value='<%# Eval("Line") %>'></asp:HiddenField>
                                                                                                <asp:HiddenField ID="hdnOrderNo" runat="server" Value='<%# Eval("OrderNo") %>'></asp:HiddenField>
                                                                                            </ItemTemplate>
                                                                                            <FooterTemplate>
                                                                                                <asp:LinkButton ID="imgBtnAddBom" runat="server" CommandName="AddProject" CausesValidation="False" Style="color: #000; font-size: 1.5em;"
                                                                                                    CommandArgument="<%# ((GridFooterItem) Container).RowIndex %>" Width="20px" OnClientClick="return CheckAdd('gvBOM.ClientID');">
                                                                                                                         <i class="mdi-content-add-circle" style="color: #2bab54;font-size: 1.2em; font-weight: bold;"></i>
                                                                                                </asp:LinkButton>
                                                                                            </FooterTemplate>
                                                                                        </telerik:GridTemplateColumn>

                                                                                        <telerik:GridTemplateColumn HeaderText="Line No." HeaderStyle-Width="50" Display="false" HeaderStyle-HorizontalAlign="Center"
                                                                                            AllowFiltering="false" AutoPostBackOnFilter="false" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                            <ItemTemplate>
                                                                                                <asp:HiddenField ID="hdnID" runat="server" Value='<%# Eval("JobTItemID") %>'></asp:HiddenField>
                                                                                                <asp:Label ID="lblLine" runat="server" Text='<%# Eval("Line") %>' Style="display: none;"></asp:Label>
                                                                                                <asp:Label ID="lblIndex" Width="100" runat="server" Text='<%# Container.ItemIndex +1 %>'></asp:Label>
                                                                                                <%--<asp:HiddenField ID="hdnLine" runat="server" Value='<%# Eval("Line") %>'></asp:HiddenField>--%>
                                                                                                <asp:HiddenField ID="hdnIndex" runat="server" Value='<%# Container.ItemIndex +1 %>'></asp:HiddenField>
                                                                                            </ItemTemplate>
                                                                                        </telerik:GridTemplateColumn>

                                                                                        <telerik:GridTemplateColumn HeaderStyle-Width="40" HeaderStyle-HorizontalAlign="Center" AllowFiltering="false" AutoPostBackOnFilter="false" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                            <ItemTemplate>
                                                                                                <div class="handle" style="cursor: move;" title="Move Up/Down">
                                                                                                    <img src="images/Dragdrop.png" width="20" />
                                                                                                </div>
                                                                                            </ItemTemplate>
                                                                                        </telerik:GridTemplateColumn>

                                                                                        <telerik:GridTemplateColumn HeaderText="Group" HeaderStyle-Width="100" HeaderStyle-HorizontalAlign="Center" DataField="GroupName" UniqueName="GroupID" AllowSorting="true" AllowFiltering="true" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                            <ItemTemplate>
                                                                                                <asp:TextBox ID="txtGroup" class="Groupsearchinput" runat="server" Text='<%# Eval("GroupName") %>' Style="width: 100%!important;" CssClass="form-control input-sm input-small"></asp:TextBox>
                                                                                                <asp:HiddenField ID="hdnGroupID" Value='<%# Eval("GroupID") %>' runat="server" />
                                                                                            </ItemTemplate>
                                                                                        </telerik:GridTemplateColumn>

                                                                                        <telerik:GridTemplateColumn HeaderText="Op Sequence" HeaderStyle-Width="100" HeaderStyle-HorizontalAlign="Center" DataField="Code" UniqueName="Code" AllowSorting="true" AllowFiltering="true" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                            <ItemTemplate>
                                                                                                <asp:TextBox ID="txtCode" runat="server" Text='<%# Eval("Code") %>' Width="100" CssClass="form-control input-sm input-small txtCodeAutoComplate"></asp:TextBox>
                                                                                                <asp:HiddenField ID="hdnCode" runat="server" />
                                                                                            </ItemTemplate>
                                                                                        </telerik:GridTemplateColumn>

                                                                                        <telerik:GridTemplateColumn HeaderText="CodeDesc" HeaderStyle-Width="100" DataField="CodeDesc" UniqueName="CodeDesc" AllowFiltering="true" AllowSorting="true" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                            <ItemTemplate>
                                                                                                <asp:TextBox ID="lblCodeDesc" ReadOnly="true" runat="server" Text='<%# Eval("CodeDesc") %>'></asp:TextBox>
                                                                                            </ItemTemplate>
                                                                                        </telerik:GridTemplateColumn>


                                                                                        <telerik:GridTemplateColumn HeaderText="Type" HeaderStyle-Width="160" HeaderStyle-HorizontalAlign="Center" DataField="BTypes" AllowSorting="true" UniqueName="BTypes" AllowFiltering="true" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                            <ItemTemplate>

                                                                                                <asp:HiddenField ID="hdnBType" runat="server" Value='<%# Eval("BType") %>'></asp:HiddenField>
                                                                                                <asp:DropDownList ID="ddlBType" Visible="true" runat="server" Width="140" CssClass="browser-default input-sm input-small">
                                                                                                </asp:DropDownList>
                                                                                                <asp:TextBox ID="txtBType" runat="server" Style="text-align: left !important; display: none;" Width="140" Text='<%# Eval("BTypes") %>' CssClass="form-control input-sm input-small"></asp:TextBox>
                                                                                            </ItemTemplate>
                                                                                        </telerik:GridTemplateColumn>
                                                                                        
                                                                                        <telerik:GridTemplateColumn HeaderText="Material Item" HeaderStyle-Width="200" HeaderStyle-HorizontalAlign="Center" DataField="MatItem" UniqueName="MatItem" AllowFiltering="true" AllowSorting="true" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                            <ItemTemplate>
                                                                                                <asp:HiddenField ID="hdnMatItem" runat="server" Value='<%# Convert.ToString(Eval("MatItem"))==""?"0":Eval("MatItem") %>'></asp:HiddenField>
                                                                                                <asp:TextBox ID="txtMatItem" placeholder="Material Item" Style="text-align: left !important;" Width="180" Text='<%# Eval("MatDesc") %>' runat="server" CssClass="form-control input-sm input-small MatItem-Search"></asp:TextBox>
                                                                                            </ItemTemplate>
                                                                                        </telerik:GridTemplateColumn>

                                                                                        <telerik:GridTemplateColumn HeaderText="Description" HeaderStyle-Width="200" HeaderStyle-HorizontalAlign="Center" DataField="fDesc" AllowSorting="true" UniqueName="fDesc" AllowFiltering="true" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                            <ItemTemplate>
                                                                                                <asp:TextBox ID="txtScope" runat="server" Style="text-align: left !important;" Width="180" Text='<%# Eval("fDesc") %>' CssClass="form-control input-sm input-small"></asp:TextBox>
                                                                                            </ItemTemplate>
                                                                                        </telerik:GridTemplateColumn>

                                                                                        <telerik:GridTemplateColumn HeaderText="Change Order" HeaderStyle-Width="120" DataField="ChangeOrder" AllowSorting="true" UniqueName="ChangeOrder" AllowFiltering="false" ShowFilterIcon="false">
                                                                                            <ItemTemplate>
                                                                                                <asp:CheckBox ID="chkChangeOrder" onchange="chkChangeOrder_onchange(this);" Checked='<%# (Convert.ToString(Eval("ChangeOrder"))=="1") ? true : false %>'
                                                                                                    runat="server" />
                                                                                                <asp:HiddenField ID="hdnChangeOrderChk" runat="server" Value='<%# Convert.ToString(Eval("ChangeOrder")) == "1" ? true : false %>' />
                                                                                            </ItemTemplate>
                                                                                        </telerik:GridTemplateColumn>

                                                                                        <telerik:GridTemplateColumn HeaderText="Qty Required" HeaderStyle-Width="150" ItemStyle-HorizontalAlign="Right" HeaderStyle-HorizontalAlign="Center"
                                                                                            DataField="QtyReq" AllowFiltering="true" AllowSorting="true" AutoPostBackOnFilter="true" UniqueName="QtyReq"
                                                                                            CurrentFilterFunction="EqualTo" ShowFilterIcon="false" HeaderStyle-CssClass="MatPart" ItemStyle-CssClass="MatPart">
                                                                                            <ItemTemplate>
                                                                                                <asp:TextBox ID="txtQtyReq" runat="server" Text='<%# Eval("QtyReq","{0:n}") %>' onchange="calBudgetExt(this)"
                                                                                                    CssClass="form-control input-sm input-small right-align" Width="75"
                                                                                                    onkeypress="return isDecimalKey(this,event)"></asp:TextBox>
                                                                                            </ItemTemplate>
                                                                                        </telerik:GridTemplateColumn>

                                                                                        <telerik:GridTemplateColumn HeaderText="U/M" HeaderStyle-Width="100" HeaderStyle-HorizontalAlign="Center" HeaderStyle-CssClass="MatPart"
                                                                                            ItemStyle-CssClass="MatPart" AllowSorting="true" DataField="UM" UniqueName="UM" AllowFiltering="true" AutoPostBackOnFilter="true"
                                                                                            CurrentFilterFunction="EqualTo" ShowFilterIcon="false">
                                                                                            <ItemTemplate>
                                                                                                <asp:TextBox ID="txtUM" runat="server" Text='<%# Eval("UM") %>' Width="75" CssClass="form-control input-sm input-small"></asp:TextBox>
                                                                                                <asp:HiddenField ID="hdnUMID" runat="server" />
                                                                                            </ItemTemplate>
                                                                                        </telerik:GridTemplateColumn>

                                                                                        <telerik:GridTemplateColumn HeaderText="Budget Unit $" HeaderStyle-Width="125" ItemStyle-HorizontalAlign="Right" HeaderStyle-CssClass="MatPart"
                                                                                            ItemStyle-CssClass="MatPart" AllowSorting="true" HeaderStyle-HorizontalAlign="Center" DataField="BudgetUnit" UniqueName="BudgetUnit"
                                                                                            AllowFiltering="true" AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo" ShowFilterIcon="false">
                                                                                            <ItemTemplate>
                                                                                                <asp:TextBox ID="txtBudgetUnit" runat="server" Text='<%# Eval("BudgetUnit","{0:n}") %>' onchange="calBudgetExt(this)"
                                                                                                    CssClass="form-control input-sm input-small right-align" Width="100" onkeypress="return isDecimalKey(this,event)"></asp:TextBox>
                                                                                            </ItemTemplate>
                                                                                        </telerik:GridTemplateColumn>

                                                                                        <telerik:GridTemplateColumn HeaderText="Material Mod" HeaderStyle-Width="125" ItemStyle-HorizontalAlign="Right" HeaderStyle-CssClass="MatPart"
                                                                                            ItemStyle-CssClass="MatPart" AllowSorting="true" HeaderStyle-HorizontalAlign="Center" DataField="MatMod" AllowFiltering="true"
                                                                                            AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo" ShowFilterIcon="false">
                                                                                            <ItemTemplate>
                                                                                                <asp:TextBox ID="txtMatMod" runat="server" Text='<%# Eval("MatMod","{0:n}")%>' Width="100" CssClass="form-control input-sm input-small right-align"
                                                                                                    onchange="showDecimalVal(this)" onkeypress="return isDecimalKey(this,event)"></asp:TextBox>
                                                                                            </ItemTemplate>
                                                                                        </telerik:GridTemplateColumn>

                                                                                        <telerik:GridTemplateColumn HeaderText="Material Ext $" HeaderStyle-Width="150" ItemStyle-HorizontalAlign="Right" HeaderStyle-CssClass="MatPart"
                                                                                            ItemStyle-CssClass="MatPart" AllowSorting="true" HeaderStyle-HorizontalAlign="Center" DataField="BudgetExt" UniqueName="BudgetExt"
                                                                                            AllowFiltering="true" AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo" ShowFilterIcon="false">
                                                                                            <ItemTemplate>
                                                                                                <asp:Label ID="lblMatExt" runat="server" Text='<%# Eval("BudgetExt","{0:n}") %>' Width="125" CssClass="right-align"></asp:Label>
                                                                                                <asp:HiddenField ID="hdnMatExt" runat="server" Value='<%# Eval("BudgetExt","{0:0.00}") %>' />
                                                                                            </ItemTemplate>
                                                                                        </telerik:GridTemplateColumn>

                                                                                        <telerik:GridTemplateColumn HeaderText="Vendor" HeaderStyle-Width="200" ItemStyle-HorizontalAlign="Right" HeaderStyle-CssClass="MatPart"
                                                                                            ItemStyle-CssClass="MatPart" AllowSorting="true" HeaderStyle-HorizontalAlign="Center" DataField="Vendor" UniqueName="Vendor" AllowFiltering="true"
                                                                                            AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo" ShowFilterIcon="false">
                                                                                            <ItemTemplate>
                                                                                                <asp:TextBox ID="txtVendor" runat="server" Text='<%# Eval("Vendor") %>' Width="180"
                                                                                                    CssClass="form-control input-sm input-small vendor-search" placeholder="Search by vendor"></asp:TextBox>
                                                                                                <asp:HiddenField ID="hdnVendorId" runat="server" Value='<%# Eval("VendorId") %>' />
                                                                                            </ItemTemplate>
                                                                                        </telerik:GridTemplateColumn>

                                                                                        <telerik:GridTemplateColumn HeaderText="Labor Item" HeaderStyle-Width="150" ItemStyle-HorizontalAlign="Right" HeaderStyle-HorizontalAlign="Center"
                                                                                            DataField="LabItem" AllowSorting="true" UniqueName="LabItem" AllowFiltering="true" AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo"
                                                                                            ShowFilterIcon="false" HeaderStyle-CssClass="LabPart" ItemStyle-CssClass="LabPart">
                                                                                            <ItemTemplate>
                                                                                                <asp:HiddenField ID="hdntxtLabItem" runat="server" Value='<%# Eval("LabItem") %>' />

                                                                                                <asp:TextBox ID="txtLabItem" Width="150" runat="server" placeholder="Search by Labor Item..." Text='<%# Eval("txtLabItem") %>' CssClass="labor-search">
                                                                                                </asp:TextBox>
                                                                                            </ItemTemplate>
                                                                                        </telerik:GridTemplateColumn>

                                                                                        <telerik:GridTemplateColumn HeaderText="Hours" HeaderStyle-Width="100" ItemStyle-HorizontalAlign="Right" HeaderStyle-HorizontalAlign="Center"
                                                                                            DataField="LabHours" AllowSorting="true" UniqueName="LabHours" AllowFiltering="true" AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo"
                                                                                            ShowFilterIcon="false" HeaderStyle-CssClass="LabPart" ItemStyle-CssClass="LabPart">
                                                                                            <ItemTemplate>
                                                                                                <asp:TextBox ID="txtHours" runat="server" Text='<%# Eval("LabHours","{0:n}") %>' CssClass="input-sm input-small center-align" Width="75"
                                                                                                    onchange="calLabExt(this)" onkeypress="return isDecimalKey(this,event)"></asp:TextBox>
                                                                                            </ItemTemplate>
                                                                                        </telerik:GridTemplateColumn>

                                                                                        <telerik:GridTemplateColumn HeaderText="Rate" HeaderStyle-Width="100" ItemStyle-HorizontalAlign="Right" HeaderStyle-HorizontalAlign="Center"
                                                                                            DataField="LabRate" AllowSorting="true" UniqueName="LabRate" AllowFiltering="true" AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo"
                                                                                            ShowFilterIcon="false" HeaderStyle-CssClass="LabPart" ItemStyle-CssClass="LabPart">
                                                                                            <ItemTemplate>
                                                                                                <asp:TextBox ID="txtLabRate" runat="server" Text='<%# Eval("LabRate","{0:n}")  %>' CssClass="form-control input-sm input-small right-align"
                                                                                                    onchange="calLabExt(this)" Width="75" onkeypress="return isDecimalKey(this,event)"></asp:TextBox>
                                                                                            </ItemTemplate>
                                                                                        </telerik:GridTemplateColumn>

                                                                                        <telerik:GridTemplateColumn HeaderText="Labor Mod" HeaderStyle-Width="120" ItemStyle-HorizontalAlign="Right" HeaderStyle-HorizontalAlign="Center"
                                                                                            DataField="LabMod" AllowSorting="true" UniqueName="LabMod" AllowFiltering="true" AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo"
                                                                                            ShowFilterIcon="false" HeaderStyle-CssClass="LabPart" ItemStyle-CssClass="LabPart">
                                                                                            <ItemTemplate>
                                                                                                <asp:TextBox ID="txtLabMod" runat="server" Text='<%# Eval("LabMod","{0:n}") %>' CssClass="form-control input-sm input-small right-align"
                                                                                                    onchange="showDecimalVal(this)" Width="100" onkeypress="return isDecimalKey(this,event)"></asp:TextBox>
                                                                                            </ItemTemplate>
                                                                                        </telerik:GridTemplateColumn>

                                                                                        <telerik:GridTemplateColumn HeaderText="Labor Ext $" HeaderStyle-Width="120" ItemStyle-HorizontalAlign="Right" HeaderStyle-HorizontalAlign="Center"
                                                                                            DataField="LabExt" AllowSorting="true" UniqueName="LabExt" AllowFiltering="true" AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo"
                                                                                            ShowFilterIcon="false" HeaderStyle-CssClass="LabPart" ItemStyle-CssClass="LabPart">
                                                                                            <ItemTemplate>
                                                                                                <asp:Label ID="lblLabExt" runat="server" Text='<%# Eval("LabExt","{0:n}")  %>' Width="95" CssClass="right-align"></asp:Label>
                                                                                                <asp:HiddenField ID="hdnLabExt" runat="server" Value='<%# Eval("LabExt","{0:n}") %>' />
                                                                                            </ItemTemplate>
                                                                                        </telerik:GridTemplateColumn>

                                                                                        <telerik:GridTemplateColumn HeaderText="Total Ext $" HeaderStyle-Width="120" ItemStyle-HorizontalAlign="Right" HeaderStyle-HorizontalAlign="Center" UniqueName="TotalExt" AllowSorting="true" DataField="TotalExt" AllowFiltering="true" AutoPostBackOnFilter="true" CurrentFilterFunction="EqualTo" ShowFilterIcon="false">
                                                                                            <ItemTemplate>
                                                                                                <asp:Label ID="lblTotalExt" runat="server" Text='<%# Eval("TotalExt","{0:n}")  %>' Width="95" CssClass="right-align"></asp:Label>
                                                                                            </ItemTemplate>
                                                                                        </telerik:GridTemplateColumn>

                                                                                        <telerik:GridTemplateColumn HeaderText="Effective Date" HeaderStyle-Width="100" HeaderStyle-HorizontalAlign="Center" UniqueName="SDate" DataField="SDate"
                                                                                            AllowFiltering="false" AllowSorting="true" AutoPostBackOnFilter="false" CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                            <ItemTemplate>
                                                                                                
                                                                                              <asp:TextBox ID="txtSDate"  runat="server" 
                                                                                                  Width="100" 
                                                                                                  Text='<%# Eval("SDate").ToString().Contains("1900")  ==  false ?  String.Format("{0:MM/dd/yyyy}", Eval("SDate"))  :  "" %>' 
                                                                                                  CssClass="form-control input-sm input-small datepicker_mom"></asp:TextBox>
<asp:TextBox ID="txtTargetHours" Visible="false" runat="server" Text='<%# Eval("TargetHours","{0:n}") %>'></asp:TextBox>
<asp:TextBox ID="txtBudgetHours" Visible="false" runat="server" Text='<%# Eval("BudgetHours","{0:n}") %>'></asp:TextBox>
                                                                                            </ItemTemplate>
                                                                                        </telerik:GridTemplateColumn>

                                                                                    </Columns>
                                                                                </MasterTableView>
                                                                            </telerik:RadGrid>
                                                                        </telerik:RadAjaxPanel>


                                                                        <input type="hidden" runat="server" id="radGridClickedRowIndex" name="radGridClickedRowIndex" />

                                                                        <telerik:RadContextMenu ID="RadMenuBomGrid" runat="server" OnItemClick="RadMenuBomGrid_ItemClick" OnClientItemClicking="CheckAddBomGrid"
                                                                            EnableRoundedCorners="true" EnableShadows="true">
                                                                            <Items>
                                                                                <telerik:RadMenuItem Text="Add Row Above">
                                                                                </telerik:RadMenuItem>
                                                                                <telerik:RadMenuItem Text="Add Row Below">
                                                                                </telerik:RadMenuItem>
                                                                            </Items>
                                                                        </telerik:RadContextMenu>
                                                                    </div>

                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                        <div id="tbpnlAttributesBOMWorkflow" class="col s12 tab-container-border lighten-4" style="display: block;">
                                            <div class="tabs-custom-mgn1">
                                                <div class="form-section-row">


                                                    <div class="col-md-12 col-lg-12">

                                                        <div class="section-ttle">Attributes BOM Workflow</div>
                                                        <asp:Panel ID="pnlCustomBOM" runat="server">
                                                            <div class="grid_container" style="margin-bottom: 0 !important;">
                                                                <div class="RadGrid RadGrid_Material FormGrid">
                                                                    <telerik:RadAjaxPanel ID="RadAjaxPanel11" runat="server" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">

                                                                        <telerik:RadGrid RenderMode="Auto" ID="RadGrid_CustomBOM" ShowFooter="false" PageSize="50"
                                                                            PagerStyle-AlwaysVisible="false" OnItemDataBound="RadGrid_Custom_ItemDataBound" OnItemCommand="RadGrid_CustomAttributesGeneral_ItemCommand"
                                                                            ShowStatusBar="true" runat="server" AllowPaging="True" Width="100%" AllowCustomPaging="false">
                                                                            <CommandItemStyle />
                                                                            <GroupingSettings CaseSensitive="false" />
                                                                            <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false">
                                                                                <Selecting AllowRowSelect="false"></Selecting>
                                                                                <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                                                                <Resizing AllowColumnResize="true" ResizeGridOnColumnResize="true"></Resizing>
                                                                            </ClientSettings>
                                                                            <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="false" ShowFooter="True">
                                                                                <Columns>
                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="10" AllowFiltering="false" ItemStyle-Width="0.5%" FooterStyle-Width="0.5%">

                                                                                        <ItemTemplate>
                                                                                            <asp:Label ID="lblIndex" Visible="true" runat="server" Text="<%# Container.ItemIndex +1 %>"></asp:Label>
                                                                                            <asp:Label ID="lblID" runat="server" Text='<%# Eval("ID") %>' Style="display: none;"></asp:Label>
                                                                                            <asp:Label ID="lblLine" runat="server" Text='<%# Eval("Line") %>' Style="display: none;" class="customline"></asp:Label>
                                                                                            <asp:Label ID="lblFormat" runat="server" Text='<%# Eval("Format") %>' Visible="false"></asp:Label>
                                                                                            <asp:Label ID="lblCustom" runat="server" Text='<%# Eval("Label") %>' Style="display: none;"></asp:Label>
                                                                                        </ItemTemplate>

                                                                                    </telerik:GridTemplateColumn>

                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Name" HeaderStyle-CssClass="itemHeader">
                                                                                        <ItemTemplate>
                                                                                            <div style="text-align: left">
                                                                                                <asp:HiddenField ID="hdnTestItemValueID" Value='' runat="server"></asp:HiddenField>
                                                                                                <asp:Panel ID="divFormatText" runat="server" Visible="false">
                                                                                                    <label class="fontHeader" for="txtFormatText"><%# Eval("Label") %></label>
                                                                                                    <asp:TextBox ID="txtFormatText" runat="server" Text='' MaxLength="255"></asp:TextBox>
                                                                                                </asp:Panel>

                                                                                                <asp:Panel ID="divFormatDrop" runat="server" Visible="false">
                                                                                                    <label class="fontHeader" for="drpdwnCustom"><%# Eval("Label") %></label>
                                                                                                    <asp:DropDownList ID="drpdwnCustom" runat="server" CssClass="browser-default fontHeader">
                                                                                                    </asp:DropDownList>
                                                                                                </asp:Panel>
                                                                                                <asp:Panel ID="divFormatCurrent" runat="server" Visible="false">
                                                                                                    <label class="fontHeader" for="txtFormatCurrent"><%# Eval("Label") %></label>
                                                                                                    <asp:TextBox ID="txtFormatCurrent" runat="server" Text=''
                                                                                                        CssClass="custom currency"></asp:TextBox>
                                                                                                </asp:Panel>
                                                                                                <asp:Panel ID="divFormatDate" runat="server" Visible="false">
                                                                                                    <label class="fontHeader" for="txtFormatDate"><%# Eval("Label") %></label>
                                                                                                    <asp:TextBox ID="txtFormatDate" runat="server" Text=''
                                                                                                        CssClass="custom datepicker_mom"></asp:TextBox>
                                                                                                </asp:Panel>
                                                                                                <asp:Panel ID="divFormatCheckbox" runat="server" Visible="false">

                                                                                                    <asp:CheckBox ID="chkCustomFormat" runat="server" Text='&nbsp'
                                                                                                        CssClass="css-checkbox custom"></asp:CheckBox>
                                                                                                    <label class="fontHeader" for="chkCustomFormat"><%# Eval("Label") %></label>
                                                                                                </asp:Panel>
                                                                                                <asp:Panel ID="divFormatNotes" runat="server" Visible="false">
                                                                                                    <label class="fontHeader" for="txtFormatNotes"><%# Eval("Label") %></label>
                                                                                                    <asp:TextBox ID="txtFormatNotes" runat="server" Text='' MaxLength="255" TextMode="MultiLine"
                                                                                                        Style="padding: 0.4rem 0 !important" CssClass="materialize-textarea textarea-border1">
                                                                                                    </asp:TextBox>
                                                                                                </asp:Panel>
                                                                                                <asp:Panel ID="divFormatChkWithComment" runat="server" Visible="false">
                                                                                                    <asp:CheckBox ID="chkWithComment" runat="server" Text='&nbsp'
                                                                                                        CssClass="css-checkbox custom"></asp:CheckBox>
                                                                                                    <label class="fontHeader" for="chkWithComment"><%# Eval("Label") %></label>
                                                                                                    <asp:TextBox ID="txtChkComment" placeholder="Checkbox comment" runat="server" Text='' MaxLength="255"></asp:TextBox>

                                                                                                </asp:Panel>
                                                                                            </div>

                                                                                        </ItemTemplate>
                                                                                        <FooterStyle VerticalAlign="Middle" />

                                                                                    </telerik:GridTemplateColumn>

                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="20" AllowFiltering="false" HeaderText="Alert " HeaderStyle-CssClass="itemHeader">
                                                                                        <ItemTemplate>
                                                                                            <asp:CheckBox ID="chkSelectAlert" CssClass="css-checkbox" Text=" " runat="server" />
                                                                                        </ItemTemplate>
                                                                                        <FooterStyle VerticalAlign="Middle" />

                                                                                    </telerik:GridTemplateColumn>

                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Team Member" HeaderStyle-CssClass="itemHeader">

                                                                                        <ItemTemplate>
                                                                                            <div class="tag-div materialize-textarea textarea-border" id="cusLabelTag" style="text-align: left !important; cursor: pointer;" onclick="ShowTeamMemberWindow(this);" runat="server"></div>
                                                                                            <asp:HiddenField ID="hdnMembers" runat="server" Value='<%# Eval("TeamMember") %>' />
                                                                                            <asp:TextBox ID="txtMembers" class='<%# "txtMembers_" + Eval("Line") %>' runat="server" Style='min-width: 100px !important; display: none;'
                                                                                                Text='<%# Eval("TeamMemberDisplay") %>'></asp:TextBox>
                                                                                        </ItemTemplate>

                                                                                    </telerik:GridTemplateColumn>

                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated By" HeaderStyle-CssClass="itemHeader">
                                                                                        <ItemTemplate>
                                                                                            <asp:Label ID="lbUpdatedBy" runat="server" Text='<%# Eval("Username") %>'></asp:Label>
                                                                                        </ItemTemplate>
                                                                                    </telerik:GridTemplateColumn>

                                                                                    <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated Date" HeaderStyle-CssClass="itemHeader">
                                                                                        <ItemTemplate>
                                                                                            <asp:Label ID="lbUpdatedDate" runat="server"><%# Eval("UpdatedDate") %></asp:Label>
                                                                                        </ItemTemplate>
                                                                                    </telerik:GridTemplateColumn>
                                                                                </Columns>
                                                                            </MasterTableView>
                                                                        </telerik:RadGrid>

                                                                    </telerik:RadAjaxPanel>
                                                                </div>
                                                            </div>
                                                            <div class="cf"></div>
                                                        </asp:Panel>
                                                        <div style="clear: both;"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <%--   </ContentTemplate>
                                        </telerik:RadWindow>--%>
                                    </div>

                                    <div id="tbpnMilestone" class="col s12 tab-container-border lighten-4" style="display: none;">
                                        <div class="form-content-wrap">
                                            <div class="tabs-custom-mgn1" style="padding: 20px;">
                                                <div class="form-section-row">
                                                    <div class="row">
                                                        <asp:Panel ID="pnlBillingDetails" runat="server">
                                                            <div class="form-section-row" style="border: 1px solid #9e9e9e; border-radius: 8px; padding: 15px 15px 0px 15px; box-shadow: 0 0 5px #ccc">
                                                                <div class="form-section4">
                                                                    <div class="input-field col s5">
                                                                        <div class="row">
                                                                            <label for="txtBillRate" id="lblBillRate" runat="server">Billing Rate</label>
                                                                            <asp:TextBox ID="txtBillRate" runat="server" AutoCompleteType="None"
                                                                                MaxLength="15" onkeypress="return isDecimalKey(this,event)" onchange="showDecimalVal_WithCurrencySigns(this)"></asp:TextBox>
                                                                        </div>
                                                                    </div>
                                                                    <div class="input-field col s2">
                                                                        <div class="row">
                                                                            &nbsp;
                                                                        </div>
                                                                    </div>
                                                                    <div class="input-field col s5">
                                                                        <div class="row">
                                                                            <label for="txtOt" id="lblOt" runat="server">OT Rate</label>
                                                                            <asp:TextBox ID="txtOt" runat="server" AutoCompleteType="None"
                                                                                MaxLength="15" onkeypress="return isDecimalKey(this,event)" onchange="showDecimalVal_WithCurrencySigns(this)"></asp:TextBox>
                                                                        </div>
                                                                    </div>
                                                                    <div class="input-field col s5">
                                                                        <div class="row">
                                                                            <label for="txtNt" id="lblNt" runat="server">1.7 Rate</label>
                                                                            <asp:TextBox ID="txtNt" runat="server" AutoCompleteType="None"
                                                                                MaxLength="15" onkeypress="return isDecimalKey(this,event)" onchange="showDecimalVal_WithCurrencySigns(this)"></asp:TextBox>
                                                                        </div>
                                                                    </div>
                                                                    <div class="input-field col s2">
                                                                        <div class="row">
                                                                            &nbsp;
                                                                        </div>
                                                                    </div>
                                                                    <div class="input-field col s5">
                                                                        <div class="row">
                                                                            <label for="txtDt" id="lblDt" runat="server">DT Rate</label>
                                                                            <asp:TextBox ID="txtDt" runat="server" AutoCompleteType="None"
                                                                                MaxLength="15" onkeypress="return isDecimalKey(this,event)" onchange="showDecimalVal_WithCurrencySigns(this)"></asp:TextBox>
                                                                        </div>
                                                                    </div>
                                                                    <div class="input-field col s5">
                                                                        <div class="row">
                                                                            <label for="txtTravel" id="lblTravel" runat="server">Travel Rate</label>
                                                                            <asp:TextBox ID="txtTravel" runat="server" AutoCompleteType="None"
                                                                                MaxLength="15" onkeypress="return isDecimalKey(this,event)" onchange="showDecimalVal_WithCurrencySigns(this)"></asp:TextBox>
                                                                        </div>
                                                                    </div>
                                                                    <div class="input-field col s2">
                                                                        <div class="row">
                                                                            &nbsp;
                                                                        </div>
                                                                    </div>
                                                                    <div class="input-field col s5">
                                                                        <div class="row">
                                                                            <label for="txtMileage" id="lblMileage" runat="server">Mileage</label>
                                                                            <asp:TextBox ID="txtMileage" runat="server" AutoCompleteType="None"
                                                                                MaxLength="15" onkeypress="return isDecimalKey(this,event)" onchange="showDecimalVal_WithCurrencySigns(this)"></asp:TextBox>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="form-section4-blank">
                                                                    <div class="row">
                                                                        &nbsp;
                                                                    </div>
                                                                </div>
                                                                <div class="form-section4">
                                                                    <div class="input-field col s12">
                                                                        <div class="checkrow">
                                                                            <div class="row" style="margin: 2px; padding-bottom: 5px;">
                                                                                <span class="tro">
                                                                                    <asp:UpdatePanel runat="server">
                                                                                        <ContentTemplate>
                                                                                            <asp:CheckBox ID="chkChargeable" Text="Tickets Chargeable" runat="server" CssClass="css-checkbox" />
                                                                                        </ContentTemplate>
                                                                                    </asp:UpdatePanel>
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="input-field col s12">
                                                                        <div class="checkrow">
                                                                            <div class="row" style="margin: 2px; padding-bottom: 5px;">
                                                                                <span class="tro">
                                                                                    <asp:CheckBox ID="chkProgressBilling" Checked="false" runat="server" onchange="selectDefaultPostingMethod('% of completion', 'Retainage Receivable');" Text="Progress Billing" CssClass="css-checkbox" />
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="input-field col s12">
                                                                        <div class="checkrow">
                                                                            <div class="row" style="margin: 2px; padding-bottom: 5px;">
                                                                                <span class="tro">
                                                                                    <asp:CheckBox ID="chkChargeInt" Text="Charge Interest" runat="server" CssClass="css-checkbox" />
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="input-field col s12">
                                                                        <div class="checkrow">
                                                                            <div class="row" style="margin: 2px; padding-bottom: 5px;">
                                                                                <span class="tro">
                                                                                    <asp:CheckBox ID="chkInvoicing" Text="Close after Invoicing" runat="server" CssClass="css-checkbox" />
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="form-section4-blank">
                                                                    <div class="row">
                                                                        &nbsp;
                                                                    </div>
                                                                </div>
                                                                <asp:UpdatePanel runat="server">
                                                                    <ContentTemplate>
                                                                        <div class="form-section4">
                                                                            <div class="input-field col s12">
                                                                                <div class="row">
                                                                                    <label class="drpdwn-label">Posting Method</label>
                                                                                    <asp:DropDownList ID="ddlPostingMethod" CssClass="browser-default" runat="server" onChange="HideShowOnPostingTypeChange(this.value);"></asp:DropDownList>
                                                                                </div>
                                                                            </div>
                                                                            <div class="input-field col s12" style="margin-top: 4px">
                                                                                <div class="row">
                                                                                    <label class="drpdwn-label">Billing Type</label>
                                                                                    <asp:DropDownList ID="ddlPType" CssClass="browser-default" runat="server" onChange="HideShowOnBillingTypeChange(this.value);">
                                                                                        <asp:ListItem Value="0" Selected="True">None</asp:ListItem>
                                                                                        <asp:ListItem Value="1">Quoted</asp:ListItem>
                                                                                        <asp:ListItem Value="2">Maximum</asp:ListItem>
                                                                                    </asp:DropDownList>
                                                                                </div>
                                                                            </div>
                                                                            <div class="hideShowOnBillingType">
                                                                                <div class="input-field col s12">
                                                                                    <div class="row">
                                                                                        <label for="txtAmount">Amount</label>
                                                                                        <asp:TextBox ID="txtAmount" runat="server" Text='0.00' onkeypress="return isDecimalKey(this,event)"
                                                                                            onchange="showDecimalVal_WithCurrencySigns(this); "></asp:TextBox>
                                                                                        <asp:CustomValidator ID="cvtxtAmount"
                                                                                            SetFocusOnError="True"
                                                                                            runat="server"
                                                                                            ErrorMessage="Amount is required"
                                                                                            ControlToValidate="txtAmount"
                                                                                            ValidateEmptyText="True"
                                                                                            ClientValidationFunction="AmountValidate" Height="5px" />
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            
                                                                        </div>
                                                                        <div class="form-section4-blank">
                                                                            <div class="row">
                                                                                &nbsp;
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-section4">
                                                                            <div class="input-field col s12">
                                                                                <div class="row">
                                                                                    <div class="form-col hideShowOnPostingType">
                                                                                        <label for="txtUnrecognizedExpense">
                                                                                            Unrecognized Expense   
                                                                                        </label>
                                                                                        <asp:TextBox ID="txtUnrecognizedExpense" runat="server"
                                                                                            MaxLength="255"></asp:TextBox>
                                                                                        <asp:HiddenField ID="hdnUnrecognizedExpense" runat="server" />
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="input-field col s12">
                                                                                <div class="row">
                                                                                    <div class="form-col hideShowOnPostingType">
                                                                                        <label for="txtRetainageReceivable">
                                                                                            Retainage Receivable
                                                                                        </label>
                                                                                        <asp:TextBox ID="txtRetainageReceivable" runat="server"
                                                                                            MaxLength="255"></asp:TextBox>
                                                                                        <asp:HiddenField ID="hdnRetainageReceivable" runat="server" />
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="input-field col s12">
                                                                                <div class="row">
                                                                                    <div class="form-col hideShowOnPostingType">
                                                                                        <label for="txtUnrecognizedRevenue">
                                                                                            Unrecognized Revenue   
                                                                                        </label>
                                                                                        <asp:TextBox ID="txtUnrecognizedRevenue" runat="server"
                                                                                            MaxLength="255"></asp:TextBox>
                                                                                        <asp:HiddenField ID="hdnUnrecognizedRevenue" runat="server" />
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="input-field col s12">
                                                                                <div class="row">
                                                                                    <label for="txtExpectedClosingDate">Expected Closing Date</label>
                                                                                    <asp:TextBox ID="txtExpectedClosingDate" runat="server"></asp:TextBox>
                                                                                    <asp:CalendarExtender ID="ceExpectedClosingDate" runat="server" Enabled="True"
                                                                                        TargetControlID="txtExpectedClosingDate">
                                                                                    </asp:CalendarExtender>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </ContentTemplate>
                                                                </asp:UpdatePanel>
                                                            </div>
                                                            <div class="form-section-row" style="margin-top: 10px;">
                                                                <asp:LinkButton ID="lnkFileUploaded" runat="server" Text="Import Items" CssClass="hidden" OnClick="lnkFileUploaded_Click" />
                                                                <div>
                                                                    <ul class="tabs tab-demo-active white  subTab" id="ul_Billing">
                                                                        <li class="tab col s2">
                                                                            <a class="white-text waves-effect waves-light active" href="#tbpnlDetails">Details</a>
                                                                        </li>
                                                                        <li class="tab col s2" id="tbWIP" runat="server">
                                                                            <a class="white-text waves-effect waves-light" href="#tbpnlWIP">Progress Billing</a>
                                                                        </li>
                                                                        <li class="tab col s2" id="liBilling_ProgressBillings" runat="server">
                                                                            <a class="white-text waves-effect waves-light" href="#tbpnlProgressBilling" id="a_Billing_ProgressBillings">Progress Billing Details</a>
                                                                        </li>
                                                                    </ul>
                                                                    <%--  Van Test-----%>
                                                                    <div class="col s12" style="margin-top: -10px;">
                                                                        <div class="row">
                                                                            <asp:UpdatePanel ID="UpdatePanel2" runat="server" UpdateMode="Always">
                                                                                <ContentTemplate>
                                                                                    <div class="form-section-row">
                                                                                        <div class="form-section12">
                                                                                            <div style="float: left; clear: both;">
                                                                                                <asp:Label runat="server" ID="lblError" ForeColor="Red"></asp:Label>
                                                                                            </div>
                                                                                            <div class="row">
                                                                                                <asp:Button runat="server" ID="hiddenTargetControlForModalPopup" Style="display: none" CausesValidation="False" />
                                                                                                <%--  pnlGenerateReport$btnGenerateReport-----%>
                                                                                                <asp:ModalPopupExtender runat="server" ID="ModalPopupGenerateReport" BehaviorID="GenerateReportBehavior" TargetControlID="hiddenTargetControlForModalPopup"
                                                                                                    PopupControlID="pnlPop" RepositionMode="RepositionOnWindowResizeAndScroll">
                                                                                                </asp:ModalPopupExtender>
                                                                                            </div>
                                                                                            <div class="row">
                                                                                                <asp:Button runat="server" ID="hiddenTargetControlForOpenEmailModalPopup" Style="display: none" CausesValidation="False" />
                                                                                                <%--   <asp:Panel ID="pnlOpenEmailPop" runat="server" CssClass="new_popupCSS">
                                                                                                        <asp:Panel ID="pnlOpenEmail" runat="server">
                                                                                                            <div class="title_bar_popup">
                                                                                                                <span class="rwIcon">
                                                                                                                    <asp:Label ID="Label5" runat="server" CssClass="title_text" Style="color: white">Email Preview</asp:Label>
                                                                                                                </span>
                                                                                                                <div style="float: right;">
                                                                                                                    <a onclick="$find('OpenEmailBehavior').hide()" style="cursor: pointer; float: right; color: #fff; margin-left: 10px; height: 16px;"><span class="rwCommandButton rwCloseButton t-ripple-effect-icon t-ripple-center" title="Close"><span class="t-ripple-container"><span class="t-ripple t-ripple-white" style="background-color: rgb(255, 255, 255); width: 35px; height: 35px; transform: translate(-50%, -50%) translate(11px, 11px);"></span></span></span></a>
                                                                                                                    <asp:LinkButton runat="server" ID="btnSendEmail" Text="Send" OnClick="btnSendEmail_Click" Style="float: right; color: #fff; margin-left: 10px;" />
                                                                                                                </div>
                                                                                                            </div>
                                                                                                            <div class="clearfix"></div>
                                                                                                            <div id="OpenEmailcontent" style="margin: 10px;">
                                                                                                                <div class="form-section-row">
                                                                                                                    <div class="form-section3" style="width: 780px;">
                                                                                                                        <div class="input-field col s12">
                                                                                                                            <iframe style="width: 780px; height: 500px;" id="myframe" runat="server" class="iframeCss"></iframe>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                                <div style="clear: both;"></div>
                                                                                                            </div>
                                                                                                            <div id="button_OpenEmail" style="float: right; margin: 10px;">
                                                                                                            </div>
                                                                                                        </asp:Panel>
                                                                                                    </asp:Panel>--%>
                                                                                                <asp:ModalPopupExtender runat="server" ID="ModalPopupOpenEmail" BehaviorID="OpenEmailBehavior" TargetControlID="hiddenTargetControlForOpenEmailModalPopup"
                                                                                                    PopupControlID="pnlOpenEmailPop" RepositionMode="RepositionOnWindowResizeAndScroll">
                                                                                                </asp:ModalPopupExtender>
                                                                                            </div>
                                                                                            <div class="row">
                                                                                                <asp:Button runat="server" ID="hiddenTargetControlForSendEmailModalPopup" Style="display: none" CausesValidation="False" />
                                                                                                <%-- <asp:Panel ID="pnlSendEmailPop" runat="server" CssClass="new_popupCSS">
                                                                                                        <asp:Panel ID="pnlSendEmail" runat="server">
                                                                                                            <div class="title_bar_popup">
                                                                                                                <span class="rwIcon">
                                                                                                                    <asp:Label ID="Label6" runat="server" CssClass="title_text" Style="color: white">Send Email</asp:Label></span>
                                                                                                                <div>
                                                                                                                    <a onclick="$find('SendEmailBehavior').hide()" style="cursor: pointer; float: right; color: #fff; margin-left: 10px; height: 16px;"><span class="rwCommandButton rwCloseButton t-ripple-effect-icon t-ripple-center" title="Close"><span class="t-ripple-container"><span class="t-ripple t-ripple-white" style="background-color: rgb(255, 255, 255); width: 35px; height: 35px; transform: translate(-50%, -50%) translate(11px, 11px);"></span></span></span></a>
                                                                                                                    <asp:LinkButton runat="server" ID="btnEmailInvoice" Text="Send" OnClick="btnEmailInvoice_Click"
                                                                                                                        Style="float: right; color: #fff; margin-left: 10px;" ValidationGroup="mail" />
                                                                                                                </div>
                                                                                                            </div>
                                                                                                            <div class="clearfix"></div>
                                                                                                            <div id="SendEmailcontent" style="margin: 10px; height: 550px; overflow-y: scroll; overflow-x: hidden;">
                                                                                                                <div class="col-lg-12 col-md-12">
                                                                                                                    <div class="col-md-8 col-lg-8">
                                                                                                                        <div class="form-col">
                                                                                                                            <div class="fc-label">
                                                                                                                                <label>From</label>
                                                                                                                            </div>
                                                                                                                            <div class="fc-input">
                                                                                                                                <asp:TextBox ID="txtFrom" runat="server" CssClass="form-control" Text="info@mom.com" ToolTip="From" Placeholder="From"></asp:TextBox>
                                                                                                                                <asp:FilteredTextBoxExtender ID="txtFrom_FilteredTextBoxExtender"
                                                                                                                                    runat="server" Enabled="True" FilterMode="InvalidChars" InvalidChars=" "
                                                                                                                                    TargetControlID="txtFrom">
                                                                                                                                </asp:FilteredTextBoxExtender>
                                                                                                                                <asp:RegularExpressionValidator ID="RegularExpressionValidator3" runat="server"
                                                                                                                                    ControlToValidate="txtFrom" Display="None"
                                                                                                                                    ErrorMessage="Invalid E-Mail Address"
                                                                                                                                    ValidationExpression="^((\s*[a-zA-Z0-9\._%-]+@[a-zA-Z0-9\.-]+\.[a-zA-Z]{2,6}\s*[,;:]){1,100}?)?(\s*[a-zA-Z0-9\._%-]+@[a-zA-Z0-9\.-]+\.[a-zA-Z]{2,6})*$"
                                                                                                                                    ValidationGroup="mail"></asp:RegularExpressionValidator>
                                                                                                                                <asp:ValidatorCalloutExtender ID="RegularExpressionValidator3_ValidatorCalloutExtender"
                                                                                                                                    runat="server" Enabled="True" TargetControlID="RegularExpressionValidator3">
                                                                                                                                </asp:ValidatorCalloutExtender>
                                                                                                                                <asp:RequiredFieldValidator ID="RequiredFieldValidator2" runat="server"
                                                                                                                                    ControlToValidate="txtFrom" Display="None"
                                                                                                                                    ErrorMessage="Please Enter E-Mail Address" SetFocusOnError="True"
                                                                                                                                    ValidationGroup="mail"></asp:RequiredFieldValidator>
                                                                                                                                <asp:ValidatorCalloutExtender ID="RequiredFieldValidator2_ValidatorCalloutExtender"
                                                                                                                                    runat="server" Enabled="True" TargetControlID="RequiredFieldValidator2">
                                                                                                                                </asp:ValidatorCalloutExtender>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                        <div class="form-col">
                                                                                                                            <div class="fc-label">
                                                                                                                                <label>To</label>
                                                                                                                            </div>
                                                                                                                            <div class="fc-input">
                                                                                                                                <asp:TextBox ID="txtTo" runat="server" CssClass="form-control" ToolTip="To" Placeholder="To"></asp:TextBox>
                                                                                                                                <asp:FilteredTextBoxExtender ID="txtTo_FilteredTextBoxExtender" runat="server"
                                                                                                                                    Enabled="True" FilterMode="InvalidChars" InvalidChars=" "
                                                                                                                                    TargetControlID="txtTo">
                                                                                                                                </asp:FilteredTextBoxExtender>
                                                                                                                                <asp:RegularExpressionValidator ID="RegularExpressionValidator4" runat="server"
                                                                                                                                    ControlToValidate="txtTo" Display="None" ErrorMessage="Invalid E-Mail Address"
                                                                                                                                    ValidationExpression="^((\s*[a-zA-Z0-9\._%-]+@[a-zA-Z0-9\.-]+\.[a-zA-Z]{2,6}\s*[,;:]){1,100}?)?(\s*[a-zA-Z0-9\._%-]+@[a-zA-Z0-9\.-]+\.[a-zA-Z]{2,6})*$"
                                                                                                                                    ValidationGroup="mail"></asp:RegularExpressionValidator>
                                                                                                                                <asp:ValidatorCalloutExtender ID="RegularExpressionValidator4_ValidatorCalloutExtender"
                                                                                                                                    runat="server" Enabled="True" TargetControlID="RegularExpressionValidator4">
                                                                                                                                </asp:ValidatorCalloutExtender>
                                                                                                                                <asp:RequiredFieldValidator ID="RequiredFieldValidator3" runat="server"
                                                                                                                                    ControlToValidate="txtTo" Display="None"
                                                                                                                                    ErrorMessage="Please Enter E-Mail Address" SetFocusOnError="True"
                                                                                                                                    ValidationGroup="mail"></asp:RequiredFieldValidator>
                                                                                                                                <asp:ValidatorCalloutExtender ID="RequiredFieldValidator3_ValidatorCalloutExtender"
                                                                                                                                    runat="server" Enabled="True" TargetControlID="RequiredFieldValidator3">
                                                                                                                                </asp:ValidatorCalloutExtender>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                        <div class="form-col">
                                                                                                                            <div class="fc-label">
                                                                                                                                <label>Cc</label>
                                                                                                                            </div>
                                                                                                                            <div class="fc-input">
                                                                                                                                <asp:TextBox ID="txtCC" runat="server" CssClass="form-control" ToolTip="Cc" Placeholder="Cc"></asp:TextBox>
                                                                                                                                <asp:FilteredTextBoxExtender ID="txtCC_FilteredTextBoxExtender" runat="server"
                                                                                                                                    Enabled="True" FilterMode="InvalidChars" InvalidChars=" "
                                                                                                                                    TargetControlID="txtCC">
                                                                                                                                </asp:FilteredTextBoxExtender>
                                                                                                                                <asp:RegularExpressionValidator ID="RegularExpressionValidator5" runat="server"
                                                                                                                                    ControlToValidate="txtCC" Display="None" ErrorMessage="Invalid E-Mail Address"
                                                                                                                                    ValidationExpression="^((\s*[a-zA-Z0-9\._%-]+@[a-zA-Z0-9\.-]+\.[a-zA-Z]{2,6}\s*[,;:]){1,100}?)?(\s*[a-zA-Z0-9\._%-]+@[a-zA-Z0-9\.-]+\.[a-zA-Z]{2,6})*$"
                                                                                                                                    ValidationGroup="mail"></asp:RegularExpressionValidator>
                                                                                                                                <asp:ValidatorCalloutExtender ID="RegularExpressionValidator5_ValidatorCalloutExtender"
                                                                                                                                    runat="server" Enabled="True" TargetControlID="RegularExpressionValidator5">
                                                                                                                                </asp:ValidatorCalloutExtender>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                        <div class="form-col">
                                                                                                                            <div class="fc-label">
                                                                                                                                <label>Subject</label>
                                                                                                                            </div>
                                                                                                                            <div class="fc-input">
                                                                                                                                <asp:TextBox ID="txtSubject" runat="server" CssClass="form-control" ToolTip="Subject" Placeholder="Subject"></asp:TextBox>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                        <div class="form-col">
                                                                                                                            <div class="fc-label">
                                                                                                                                <label>Attechmet</label>
                                                                                                                            </div>
                                                                                                                            <div class="fc-input">
                                                                                                                                <asp:Label Text="Invoice.pdf" runat="server" />
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                        <div class="form-col">
                                                                                                                            <div class="fc-label">
                                                                                                                                <label>Body</label>
                                                                                                                            </div>
                                                                                                                            <div class="fc-input">
                                                                                                                                <asp:TextBox ID="txtBody" CssClass="form-control" runat="server" TextMode="MultiLine"
                                                                                                                                    Rows="10" Height="350px"></asp:TextBox>
                                                                                                                                <asp:HtmlEditorExtender ID="htmlEditorExtender1" TargetControlID="txtBody"
                                                                                                                                    runat="server" EnableSanitization="False" Enabled="True">
                                                                                                                                </asp:HtmlEditorExtender>
                                                                                                                            </div>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                                <div style="clear: both;"></div>
                                                                                                            </div>
                                                                                                        </asp:Panel>
                                                                                                    </asp:Panel>--%>
                                                                                                <asp:ModalPopupExtender runat="server" ID="ModalPopupSendEmail" BehaviorID="SendEmailBehavior" TargetControlID="hiddenTargetControlForSendEmailModalPopup"
                                                                                                    PopupControlID="pnlSendEmailPop" RepositionMode="RepositionOnWindowResizeAndScroll">
                                                                                                </asp:ModalPopupExtender>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                    <div id="tbpnlDetails" class="col s12 tab-container-border lighten-4" style="display: block;">
                                                                                        <div class="form-content-wrap">
                                                                                            <div class="tabs-custom-mgn1">
                                                                                                <div class="form-section-row">
                                                                                                    <div class="row">
                                                                                                        <div class="section-ttle">Details</div>
                                                                                                        <div class="form-section-row">
                                                                                                            <%--<asp:UpdatePanel ID="UpdatePanel19" runat="server">
                                                                                                                        <ContentTemplate>--%>
                                                                                                            <telerik:RadAjaxPanel ID="RadAjaxPaneMiles" runat="server" LoadingPanelID="RadAjaxLoadingPanel_gvMilestones" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">

                                                                                                                <div class="form-section-row">
                                                                                                                    <div class="btnlinks" style="padding-bottom:10px">
                                                                                                                        <a id="aImport" runat="server" class="dropdown-button" data-beloworigin="true" href="javascript:void(0)" data-activates="dynamicUIBilling">Import</a>
                                                                                                                        <asp:FileUpload ID="FileUploadControl" runat="server" CssClass="hidden" onchange="UploadFile(this);" />




                                                                                                                    </div>
                                                                                                                    <ul id="dynamicUIBilling" class="dropdown-content">
                                                                                                                        <li><a id="btnImportItems" title="Import Items" href="javascript:void(0)" onclick="itemJSON();openfileDialog();">Upload File</a></li>
                                                                                                                        <li>
                                                                                                                            <asp:LinkButton Text="CSV Template" runat="server" ID="btnDownloadCSV" OnClick="btnDownloadCSV_Click" />
                                                                                                                        </li>
                                                                                                                        <li>
                                                                                                                            <asp:LinkButton Text="Excel Template" runat="server" ID="btnDownloadExcel" OnClick="btnDownloadExcel_Click" />
                                                                                                                        </li>
                                                                                                                    </ul>
                                                                                                                </div>
                                                                                                            </telerik:RadAjaxPanel>
                                                                                                            <div class="grid_container">
                                                                                                                <div class="form-section-row" style="margin-bottom: 0 !important;">
                                                                                                                    <div class="table-scrollable" style="height: auto; overflow-y: auto;">
                                                                                                                        <div class="RadGrid RadGrid_Material FormGrid" style="max-height: 400px !important;">
                                                                                                                            <div id="gvMilestonesDIV">
                                                                                                                                <telerik:RadGrid ID="gvMilestones" runat="server" AutoGenerateColumns="False" RenderMode="Auto" AllowFilteringByColumn="true" ShowStatusBar="true" AllowPaging="True"
                                                                                                                                    OnItemDataBound="gvMilestones_RowDataBound" CssClass="BomGrid"
                                                                                                                                    PageSize="20" ShowFooter="true" OnItemCommand="gvMilestones_RowCommand">
                                                                                                                                    <CommandItemStyle />
                                                                                                                                    <GroupHeaderItemStyle Font-Size="Medium" Font-Bold="true" />
                                                                                                                                    <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false" AllowGroupExpandCollapse="false">
                                                                                                                                        <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" FrozenColumnsCount="3" />
                                                                                                                                        <ClientEvents OnRowContextMenu="RowContextMenuMilesonteGrid" />
                                                                                                                                    </ClientSettings>
                                                                                                                                    <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="false" ShowFooter="true" AllowPaging="false">
                                                                                                                                        <Columns>
                                                                                                                                            <telerik:GridTemplateColumn HeaderStyle-Width="50">
                                                                                                                                                <HeaderTemplate>
                                                                                                                                                    <asp:LinkButton ID="ibDeleteMilestone" runat="server" CausesValidation="False"
                                                                                                                                                        Style="color: #000; font-size: 1.5em; margin-left: -8px;"
                                                                                                                                                        OnClientClick="return CheckDelete('gvMilestones.ClientID');" OnClick="ibDeleteMilestone_Click" Width="20px">
                                                                                                                                                                  <i class="mdi-navigation-cancel" style="color: #f00;font-size: 1.2em; font-weight: bold;"></i>
                                                                                                                                                    </asp:LinkButton>
                                                                                                                                                    <asp:CheckBox ID="chkSelectAll" onchange="selectAllCheckbox(this, 'MilItem');" runat="server" CssClass="css-checkbox chkSelectAll" Text=" " />
                                                                                                                                                </HeaderTemplate>
                                                                                                                                                <ItemTemplate>
                                                                                                                                                    <asp:CheckBox ID="chkSelect" CssClass="css-checkbox chkSelect" Text=" " runat="server" ItemStyle-Width="1%" />
                                                                                                                                                    <asp:HiddenField ID="hdnOrderNoMil" runat="server" Value='<%# Eval("OrderNo") %>'></asp:HiddenField>
                                                                                                                                                </ItemTemplate>
                                                                                                                                                <FooterTemplate>
                                                                                                                                                    <asp:LinkButton ID="imgBtnAdd" runat="server" CommandName="AddMilestone" CausesValidation="False"
                                                                                                                                                        CommandArgument="<%# ((GridFooterItem) Container).RowIndex %>" Width="20px" Style="color: #000; font-size: 1.7em; margin-left: -7px;"
                                                                                                                                                        OnClientClick="return CheckAdd('gvMilestones.ClientID');">
                                                                                                                                                                    <i class="mdi-content-add-circle" style="color: #2bab54;font-size: 1.2em; font-weight: bold;"></i>
                                                                                                                                                    </asp:LinkButton>
                                                                                                                                                </FooterTemplate>
                                                                                                                                            </telerik:GridTemplateColumn>
                                                                                                                                            <telerik:GridTemplateColumn HeaderText="Line No." HeaderStyle-Width="50" Display="false">
                                                                                                                                                <ItemTemplate>
                                                                                                                                                    <asp:Label ID="lblIndex" runat="server" Text='<%# Container.ItemIndex +1 %>'></asp:Label>
                                                                                                                                                    <asp:Label ID="lblLine" runat="server" Text='<%# Eval("Line") %>' Width="65px" Style="display: none;"></asp:Label>
                                                                                                                                                    <asp:HiddenField ID="hdnLine" runat="server" Value='<%# Eval("Line") %>'></asp:HiddenField>
                                                                                                                                                    <asp:HiddenField ID="hdnIndex" runat="server" Value='<%# Container.ItemIndex +1 %>'></asp:HiddenField>
                                                                                                                                                    <asp:HiddenField ID="hdnID" runat="server" Value='<%# Eval("ID") %>'></asp:HiddenField>
                                                                                                                                                    <asp:HiddenField ID="hdnIsUsed" runat="server" Value='<%# Eval("isUsed") %>'></asp:HiddenField>
                                                                                                                                                </ItemTemplate>
                                                                                                                                            </telerik:GridTemplateColumn>
                                                                                                                                            <telerik:GridTemplateColumn HeaderStyle-Width="40" HeaderStyle-HorizontalAlign="Center">
                                                                                                                                                <ItemTemplate>
                                                                                                                                                    <div class="handle" style="cursor: move;" title="Move Up/Down">
                                                                                                                                                        <img src="images/Dragdrop.png" width="20" />
                                                                                                                                                    </div>
                                                                                                                                                </ItemTemplate>
                                                                                                                                            </telerik:GridTemplateColumn>
                                                                                                                                            <telerik:GridTemplateColumn HeaderText="Group" HeaderStyle-Width="100">
                                                                                                                                                <ItemTemplate>
                                                                                                                                                    <asp:TextBox ID="txtGroup" class="Groupsearchinput" runat="server" Text='<%# Eval("GroupName") %>' Style="width: 100%!important;" CssClass="form-control input-sm input-small"></asp:TextBox>
                                                                                                                                                    <asp:HiddenField ID="hdnGroupID" Value='<%# Eval("GroupID") %>' runat="server" />
                                                                                                                                                </ItemTemplate>
                                                                                                                                            </telerik:GridTemplateColumn>
                                                                                                                                            <telerik:GridTemplateColumn HeaderText="Op Sequence" HeaderStyle-Width="100">
                                                                                                                                                <ItemTemplate>
                                                                                                                                                    <asp:TextBox ID="txtCode" runat="server" Text='<%# Eval("jcode") %>' Style="width: 100%!important;" CssClass="form-control input-sm input-small txtCodeAutoComplate"></asp:TextBox>
                                                                                                                                                    <asp:HiddenField ID="hdnCode" runat="server" />
                                                                                                                                                </ItemTemplate>
                                                                                                                                            </telerik:GridTemplateColumn>
                                                                                                                                            <telerik:GridTemplateColumn HeaderText="CodeDesc" HeaderStyle-Width="100">
                                                                                                                                                <ItemTemplate>
                                                                                                                                                    <asp:TextBox ID="lblCodeDesc" ReadOnly="true" runat="server" Text='<%# Eval("CodeDesc") %>'></asp:TextBox>
                                                                                                                                                </ItemTemplate>
                                                                                                                                            </telerik:GridTemplateColumn>
                                                                                                                                            <telerik:GridTemplateColumn HeaderText="Type" HeaderStyle-Width="100">
                                                                                                                                                <ItemTemplate>
                                                                                                                                                    <asp:DropDownList ID="ddlType" runat="server" SelectedValue='<%# Eval("jtype") == DBNull.Value ? 0 : Eval("jtype") %>'
                                                                                                                                                        CssClass="browser-default" Style="width: 100%!important;">
                                                                                                                                                        <asp:ListItem Value="0">Revenue</asp:ListItem>
                                                                                                                                                    </asp:DropDownList>
                                                                                                                                                </ItemTemplate>
                                                                                                                                            </telerik:GridTemplateColumn>
                                                                                                                                            <telerik:GridTemplateColumn HeaderText="Function" HeaderStyle-Width="120">
                                                                                                                                                <ItemTemplate>
                                                                                                                                                    <asp:TextBox ID="txtSType" runat="server" Text='<%# Eval("Department") %>' placeholder="Select Function"
                                                                                                                                                        CssClass="form-control input-sm input-small" Style="width: 100%!important;"></asp:TextBox>
                                                                                                                                                    <asp:HiddenField ID="hdnType" Value='<%# Eval("type") %>' runat="server" />
                                                                                                                                                </ItemTemplate>
                                                                                                                                            </telerik:GridTemplateColumn>
                                                                                                                                            <telerik:GridTemplateColumn HeaderText="Change Order" HeaderStyle-Width="120">
                                                                                                                                                <%--<HeaderTemplate>
                                                                                                                                                    <asp:Label runat="server" CssClass="display-block">Labor Tx.</asp:Label>
                                                                                                                                                    <asp:CheckBox ID="chkSelectAllLaborTx" onchange="selectAllCheckbox(this, 'LaborTx');"
                                                                                                                                                        runat="server" CssClass="css-checkbox chkSelectAllLaborTx" Text=" " />
                                                                                                                                                </HeaderTemplate>--%>
                                                                                                                                                <ItemTemplate>
                                                                                                                                                    <asp:CheckBox ID="chkChangeOrder" onchange="chkChangeOrder_onchange(this);" Checked='<%# (Convert.ToString(Eval("ChangeOrder"))=="1") ? true : false %>'
                                                                                                                                                        runat="server" />
                                                                                                                                                    <asp:HiddenField ID="hdnChangeOrderChk" runat="server" Value='<%# Convert.ToString(Eval("ChangeOrder")) == "1" ? true : false %>' />
                                                                                                                                                </ItemTemplate>
                                                                                                                                            </telerik:GridTemplateColumn>
                                                                                                                                            <telerik:GridTemplateColumn HeaderText="Name" HeaderStyle-Width="150" ItemStyle-HorizontalAlign="Left">
                                                                                                                                                <ItemTemplate>
                                                                                                                                                    <asp:TextBox ID="txtMilesName" runat="server" MaxLength="100" Text='<%# Eval("MilesName") %>' CssClass="form-control input-sm input-small"
                                                                                                                                                        Style="width: 100%!important; text-align: justify !important"></asp:TextBox>
                                                                                                                                                </ItemTemplate>
                                                                                                                                            </telerik:GridTemplateColumn>
                                                                                                                                            <telerik:GridTemplateColumn HeaderText="Description" HeaderStyle-Width="200" ItemStyle-HorizontalAlign="Left">
                                                                                                                                                <ItemTemplate>
                                                                                                                                                    <asp:TextBox ID="txtScope" runat="server" MaxLength="100" Text='<%# Eval("fdesc") %>' CssClass="form-control input-sm input-small"
                                                                                                                                                        Style="text-align: justify !important"></asp:TextBox>
                                                                                                                                                </ItemTemplate>
                                                                                                                                                <FooterTemplate>
                                                                                                                                                </FooterTemplate>
                                                                                                                                            </telerik:GridTemplateColumn>
                                                                                                                                            <telerik:GridTemplateColumn HeaderText="Quantity" HeaderStyle-Width="100" FooterStyle-HorizontalAlign="Right">
                                                                                                                                                <ItemTemplate>
                                                                                                                                                    <asp:TextBox ID="txtQuantity" runat="server" Text='<%# Eval("Quantity","{0:n}") %>' onkeypress="return isDecimalKey(this,event)"
                                                                                                                                                        onchange="CalBillingAmount(this,1);CalculateRevTotal();"
                                                                                                                                                        Style="text-align: right; width: 100%!important;" CssClass="form-control input-sm input-small"></asp:TextBox>
                                                                                                                                                </ItemTemplate>
                                                                                                                                            </telerik:GridTemplateColumn>
                                                                                                                                            <telerik:GridTemplateColumn HeaderText="Price" HeaderStyle-Width="100" FooterStyle-HorizontalAlign="Right">
                                                                                                                                                <ItemTemplate>
                                                                                                                                                    <asp:TextBox ID="txtPrice" runat="server" Text='<%# Eval("Price","{0:n}") %>' onkeypress="return isDecimalKey(this,event)"
                                                                                                                                                        onchange="CalBillingAmount(this,2);CalculateRevTotal();"
                                                                                                                                                        Style="text-align: right; width: 100%!important;" CssClass="form-control input-sm input-small"></asp:TextBox>
                                                                                                                                                </ItemTemplate>
                                                                                                                                            </telerik:GridTemplateColumn>
                                                                                                                                            <telerik:GridTemplateColumn HeaderText="Amount $" HeaderStyle-Width="100" FooterStyle-HorizontalAlign="Right">
                                                                                                                                                <ItemTemplate>
                                                                                                                                                    <asp:TextBox ID="txtAmount" runat="server" Text='<%# Eval("Amount","{0:n}") %>' onkeypress="return isDecimalKey(this,event)"
                                                                                                                                                        CssClass="form-control input-sm input-small"
                                                                                                                                                        onchange="CalBillingAmount(this,3);CalculateRevTotal();" Style="width: 100%!important; text-align: right;"></asp:TextBox>
                                                                                                                                                </ItemTemplate>
                                                                                                                                                <FooterTemplate>
                                                                                                                                                    <asp:Label ID="lblTotalRev" runat="server" class="totalrev"></asp:Label>
                                                                                                                                                </FooterTemplate>
                                                                                                                                            </telerik:GridTemplateColumn>
                                                                                                                                            <telerik:GridTemplateColumn HeaderText="Effective Date" HeaderStyle-Width="120">
                                                                                                                                                <ItemTemplate>
                                                                                                                                                    <asp:TextBox ID="txtRequiredBy" runat="server" Text='<%# Eval("RequiredBy")!=DBNull.Value? (!(Eval("RequiredBy").Equals(DateTime.MinValue)) ? (String.Format("{0:MM/dd/yyyy}", Eval("RequiredBy"))) : "" ) : "" %>'
                                                                                                                                                        CssClass="form-control input-sm input-small datepicker_mom" Style="width: 80px!important;">
                                                                                                                                                    </asp:TextBox>
                                                                                                                                                </ItemTemplate>
                                                                                                                                            </telerik:GridTemplateColumn>
                                                                                                                                        </Columns>
                                                                                                                                    </MasterTableView>
                                                                                                                                </telerik:RadGrid>
                                                                                                                            </div>
                                                                                                                            <input type="hidden" runat="server" id="radMilGridClickedRowIndex" name="radMilGridClickedRowIndex" />
                                                                                                                            <telerik:RadContextMenu ID="RadMenuMilGrid" runat="server" OnItemClick="RadMenuMilGrid_ItemClick" OnClientItemClicking="CheckAddMilGrid"
                                                                                                                                EnableRoundedCorners="true" EnableShadows="true">
                                                                                                                                <Items>
                                                                                                                                    <telerik:RadMenuItem Text="Add Row Above">
                                                                                                                                    </telerik:RadMenuItem>
                                                                                                                                    <telerik:RadMenuItem Text="Add Row Below">
                                                                                                                                    </telerik:RadMenuItem>
                                                                                                                                </Items>
                                                                                                                            </telerik:RadContextMenu>
                                                                                                                        </div>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                            <%--</ContentTemplate>
                                                                                                                        <Triggers>
                                                                                                                            <asp:AsyncPostBackTrigger ControlID="gvMilestones" EventName="ItemCommand" />
                                                                                                                        </Triggers>
                                                                                                                    </asp:UpdatePanel>--%>
                                                                                                            <%--<asp:UpdatePanel ID="UpdatePanel17" runat="server" UpdateMode="Always">
                                                                                                                        <ContentTemplate>
                                                                                                                            <asp:PlaceHolder ID="PlaceHolderMilestone" runat="server"></asp:PlaceHolder>
                                                                                                                        </ContentTemplate>
                                                                                                                    </asp:UpdatePanel>--%>
                                                                                                            <div style="clear: both;"></div>
                                                                                                            <div class="section-ttle">Attributes Milestone Workflow</div>
                                                                                                            <asp:Panel ID="pnlCustomMilestone" runat="server">
                                                                                                                <div class="grid_container" style="margin-bottom: 0 !important;">
                                                                                                                    <div class="RadGrid RadGrid_Material FormGrid">
                                                                                                                        <telerik:RadAjaxPanel ID="RadAjaxPanel12" runat="server" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">
                                                                                                                            <telerik:RadGrid RenderMode="Auto" ID="RadGrid_CustomMilestone" ShowFooter="false" PageSize="50"
                                                                                                                                PagerStyle-AlwaysVisible="false" OnItemDataBound="RadGrid_Custom_ItemDataBound" OnItemCommand="RadGrid_CustomAttributesGeneral_ItemCommand"
                                                                                                                                ShowStatusBar="true" runat="server" AllowPaging="True" Width="100%" AllowCustomPaging="false">
                                                                                                                                <CommandItemStyle />
                                                                                                                                <GroupingSettings CaseSensitive="false" />
                                                                                                                                <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false">
                                                                                                                                    <Selecting AllowRowSelect="false"></Selecting>
                                                                                                                                    <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                                                                                                                    <Resizing AllowColumnResize="true" ResizeGridOnColumnResize="true"></Resizing>
                                                                                                                                </ClientSettings>
                                                                                                                                <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="false" ShowFooter="True">
                                                                                                                                    <Columns>

                                                                                                                                        <telerik:GridTemplateColumn HeaderStyle-Width="10" AllowFiltering="false" ItemStyle-Width="0.5%" FooterStyle-Width="0.5%">

                                                                                                                                            <ItemTemplate>
                                                                                                                                                <asp:Label ID="lblIndex" Visible="true" runat="server" Text="<%# Container.ItemIndex +1 %>"></asp:Label>
                                                                                                                                                <asp:Label ID="lblID" runat="server" Text='<%# Eval("ID") %>' Style="display: none;"></asp:Label>
                                                                                                                                                <asp:Label ID="lblLine" runat="server" Text='<%# Eval("Line") %>' Style="display: none;" class="customline"></asp:Label>
                                                                                                                                                <asp:Label ID="lblFormat" runat="server" Text='<%# Eval("Format") %>' Visible="false"></asp:Label>
                                                                                                                                                <asp:Label ID="lblCustom" runat="server" Text='<%# Eval("Label") %>' Style="display: none;"></asp:Label>
                                                                                                                                            </ItemTemplate>

                                                                                                                                        </telerik:GridTemplateColumn>

                                                                                                                                        <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Name" HeaderStyle-CssClass="itemHeader">
                                                                                                                                            <ItemTemplate>
                                                                                                                                                <div style="text-align: left">
                                                                                                                                                    <asp:HiddenField ID="hdnTestItemValueID" Value='' runat="server"></asp:HiddenField>
                                                                                                                                                    <asp:Panel ID="divFormatText" runat="server" Visible="false">
                                                                                                                                                        <label class="fontHeader" for="txtFormatText"><%# Eval("Label") %></label>
                                                                                                                                                        <asp:TextBox ID="txtFormatText" runat="server" Text='' MaxLength="255"></asp:TextBox>
                                                                                                                                                    </asp:Panel>

                                                                                                                                                    <asp:Panel ID="divFormatDrop" runat="server" Visible="false">
                                                                                                                                                        <label class="fontHeader" for="drpdwnCustom"><%# Eval("Label") %></label>
                                                                                                                                                        <asp:DropDownList ID="drpdwnCustom" runat="server" CssClass="browser-default fontHeader">
                                                                                                                                                        </asp:DropDownList>
                                                                                                                                                    </asp:Panel>
                                                                                                                                                    <asp:Panel ID="divFormatCurrent" runat="server" Visible="false">
                                                                                                                                                        <label class="fontHeader" for="txtFormatCurrent"><%# Eval("Label") %></label>
                                                                                                                                                        <asp:TextBox ID="txtFormatCurrent" runat="server" Text=''
                                                                                                                                                            CssClass="custom currency"></asp:TextBox>
                                                                                                                                                    </asp:Panel>
                                                                                                                                                    <asp:Panel ID="divFormatDate" runat="server" Visible="false">
                                                                                                                                                        <label class="fontHeader" for="txtFormatDate"><%# Eval("Label") %></label>
                                                                                                                                                        <asp:TextBox ID="txtFormatDate" runat="server" Text=''
                                                                                                                                                            CssClass="custom datepicker_mom"></asp:TextBox>
                                                                                                                                                    </asp:Panel>
                                                                                                                                                    <asp:Panel ID="divFormatCheckbox" runat="server" Visible="false">

                                                                                                                                                        <asp:CheckBox ID="chkCustomFormat" runat="server" Text='&nbsp'
                                                                                                                                                            CssClass="css-checkbox custom"></asp:CheckBox>
                                                                                                                                                        <label class="fontHeader" for="chkCustomFormat"><%# Eval("Label") %></label>
                                                                                                                                                    </asp:Panel>
                                                                                                                                                    <asp:Panel ID="divFormatNotes" runat="server" Visible="false">
                                                                                                                                                        <label class="fontHeader" for="txtFormatNotes"><%# Eval("Label") %></label>
                                                                                                                                                        <asp:TextBox ID="txtFormatNotes" runat="server" Text='' MaxLength="255" TextMode="MultiLine"
                                                                                                                                                            Style="padding: 0.4rem 0 !important" CssClass="materialize-textarea textarea-border1">
                                                                                                                                                        </asp:TextBox>
                                                                                                                                                    </asp:Panel>
                                                                                                                                                    <asp:Panel ID="divFormatChkWithComment" runat="server" Visible="false">
                                                                                                                                                        <asp:CheckBox ID="chkWithComment" runat="server" Text='&nbsp'
                                                                                                                                                            CssClass="css-checkbox custom"></asp:CheckBox>
                                                                                                                                                        <label class="fontHeader" for="chkWithComment"><%# Eval("Label") %></label>
                                                                                                                                                        <asp:TextBox ID="txtChkComment" placeholder="Checkbox comment" runat="server" Text='' MaxLength="255"></asp:TextBox>

                                                                                                                                                    </asp:Panel>
                                                                                                                                                </div>

                                                                                                                                            </ItemTemplate>
                                                                                                                                            <FooterStyle VerticalAlign="Middle" />

                                                                                                                                        </telerik:GridTemplateColumn>

                                                                                                                                        <telerik:GridTemplateColumn HeaderStyle-Width="20" AllowFiltering="false" HeaderText="Alert " HeaderStyle-CssClass="itemHeader">
                                                                                                                                            <ItemTemplate>
                                                                                                                                                <asp:CheckBox ID="chkSelectAlert" CssClass="css-checkbox" Text=" " runat="server" />
                                                                                                                                            </ItemTemplate>
                                                                                                                                            <FooterStyle VerticalAlign="Middle" />

                                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                                        <%--<telerik:GridTemplateColumn HeaderStyle-Width="20" AllowFiltering="false" HeaderText="Task " HeaderStyle-CssClass="itemHeader">
                                                                                                                                            <ItemTemplate>
                                                                                                                                                <asp:CheckBox ID="chkSelectTask" CssClass="css-checkbox" Text=" " runat="server" />
                                                                                                                                            </ItemTemplate>
                                                                                                                                            <FooterStyle VerticalAlign="Middle" />

                                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                                        <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false"  HeaderText="User Role" HeaderStyle-CssClass="itemHeader">
                                                                                                                                            <ItemTemplate>
                                                                                                                                                <div class="tag-div materialize-textarea textarea-border" id="cusLabelTagUR" style="text-align: left !important; cursor: pointer;" onclick="ShowUserRoleWindow(this);" runat="server"></div>
                                                                                                                                                <asp:HiddenField ID="hdnUserRoles" runat="server" Value='<%# Eval("UserRole") %>' />
                                                                                                                                                <asp:TextBox ID="txtUserRoles" class='<%# "txtUserRoles_" + Eval("Line") %>' runat="server" Style='min-width: 100px !important; display: none;'
                                                                                                                                                    Text='<%# Eval("UserRoleDisplay") %>'></asp:TextBox>
                                                                                                                                            </ItemTemplate>
                                                                                                                                            <FooterStyle VerticalAlign="Middle" />
                                                                                                                                        </telerik:GridTemplateColumn>--%>
                                                                                                                                        <telerik:GridTemplateColumn HeaderStyle-Width="100" AllowFiltering="false" HeaderText="Team Member" HeaderStyle-CssClass="itemHeader">

                                                                                                                                            <ItemTemplate>
                                                                                                                                                <div class="tag-div materialize-textarea textarea-border" id="cusLabelTag" style="text-align: left !important; cursor: pointer;" onclick="ShowTeamMemberWindow(this);" runat="server"></div>
                                                                                                                                                <asp:HiddenField ID="hdnMembers" runat="server" Value='<%# Eval("TeamMember") %>' />
                                                                                                                                                <asp:TextBox ID="txtMembers" class='<%# "txtMembers_" + Eval("Line") %>' runat="server" Style='min-width: 100px !important; display: none;'
                                                                                                                                                    Text='<%# Eval("TeamMemberDisplay") %>'></asp:TextBox>
                                                                                                                                            </ItemTemplate>

                                                                                                                                        </telerik:GridTemplateColumn>

                                                                                                                                        <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated By" HeaderStyle-CssClass="itemHeader">
                                                                                                                                            <ItemTemplate>
                                                                                                                                                <asp:Label ID="lbUpdatedBy" runat="server" Text='<%# Eval("Username") %>'></asp:Label>
                                                                                                                                            </ItemTemplate>
                                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                                        <telerik:GridTemplateColumn HeaderStyle-Width="50" AllowFiltering="false" HeaderText="Updated Date" HeaderStyle-CssClass="itemHeader">
                                                                                                                                            <ItemTemplate>
                                                                                                                                                <asp:Label ID="lbUpdatedDate" runat="server"><%# Eval("UpdatedDate") %></asp:Label>
                                                                                                                                            </ItemTemplate>
                                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                                    </Columns>
                                                                                                                                </MasterTableView>
                                                                                                                            </telerik:RadGrid>
                                                                                                                        </telerik:RadAjaxPanel>
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                                <div class="cf"></div>
                                                                                                            </asp:Panel>
                                                                                                            <div style="clear: both;"></div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>

                                                                                </ContentTemplate>
                                                                                <Triggers>
                                                                                    <%--   <asp:PostBackTrigger ControlID="pnlGenerateReport$btnGenerateReport" />--%>
                                                                                    <asp:PostBackTrigger ControlID="pnlGenerateReport$btnAIAReort" />
                                                                                    <asp:PostBackTrigger ControlID="btnDownloadCSV" />
                                                                                    <asp:PostBackTrigger ControlID="btnDownloadExcel" />


                                                                                </Triggers>
                                                                            </asp:UpdatePanel>

                                                                            <div id="tbpnlWIP" class="col s12 tab-container-border lighten-4" style="display: none;">
                                                                                <div class="tabs-custom-mgn1">
                                                                                    <div class="form-section-row">
                                                                                        <div class="row">
                                                                                            <div class="section-ttle">WIP</div>
                                                                                            <div class="form-section-row">
                                                                                                <div class="form-section3">
                                                                                                    <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <label for="txtProgressBilling">Progress Billing #</label>
                                                                                                            <asp:TextBox ID="txtProgressBilling" runat="server" MaxLength="25"></asp:TextBox>
                                                                                                            <asp:HiddenField ID="hdnWIPID" runat="server" />
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <label for="txtInvoiceNO">Invoice #</label>
                                                                                                            <asp:TextBox ID="txtInvoiceNO" runat="server" Enabled="false"></asp:TextBox>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <asp:UpdatePanel runat="server" UpdateMode="Always">
                                                                                                        <ContentTemplate>
                                                                                                            <div class="input-field col s12">
                                                                                                                <div class="row">
                                                                                                                    <label for="txtBillingDate">Billing Date</label>
                                                                                                                    <asp:TextBox ID="txtBillingDate" runat="server"></asp:TextBox>
                                                                                                                    <asp:CalendarExtender ID="txtBillingDate_CalendarExtender" runat="server" Enabled="True"
                                                                                                                        TargetControlID="txtBillingDate">
                                                                                                                    </asp:CalendarExtender>

                                                                                                                </div>
                                                                                                            </div>
                                                                                                            <div class="input-field col s12">
                                                                                                                <div class="row">
                                                                                                                    <label for="txtPeriodDate">Period Date</label>
                                                                                                                    <asp:TextBox ID="txtPeriodDate" runat="server"></asp:TextBox>
                                                                                                                    <asp:CalendarExtender ID="txtPeriodDateCalendarExtender" runat="server" Enabled="True"
                                                                                                                        TargetControlID="txtPeriodDate">
                                                                                                                    </asp:CalendarExtender>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                            <div class="input-field col s12">
                                                                                                                <div class="row">
                                                                                                                    <label for="txtRevisionDate">Revision Date</label>
                                                                                                                    <asp:TextBox ID="txtRevisionDate" runat="server"></asp:TextBox>
                                                                                                                    <asp:CalendarExtender ID="txtRevisionDate_CalendarExtender" runat="server" Enabled="True"
                                                                                                                        TargetControlID="txtRevisionDate">
                                                                                                                    </asp:CalendarExtender>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </ContentTemplate>
                                                                                                    </asp:UpdatePanel>



                                                                                                </div>
                                                                                                <div class="form-section3-blank">
                                                                                                    &nbsp;
                                                                                                </div>
                                                                                                <div class="form-section3">
                                                                                                    <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <label class="drpdwn-label">Terms</label>
                                                                                                            <asp:DropDownList ID="ddlTerms" Enabled="true" runat="server" CssClass="browser-default">
                                                                                                            </asp:DropDownList>
                                                                                                            <asp:HiddenField ID="hdnGlobal_Terms" runat="server"></asp:HiddenField>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <label for="txtSalesTax">Sales Tax (%)</label>
                                                                                                            <asp:TextBox ID="txtSalesTax" runat="server"></asp:TextBox>
                                                                                                            <asp:RegularExpressionValidator ID="NumericOnlyValidator" runat="server" ControlToValidate="txtSalesTax" ErrorMessage="Enter a valid number" ValidationExpression="^[0-9]\d*(\.\d+)?$">
                                                                                                            </asp:RegularExpressionValidator>
                                                                                                            <br />
                                                                                                            <asp:HiddenField ID="hdnGlobal_SalesTax" runat="server"></asp:HiddenField>
                                                                                                            <asp:Label ID="lblSalesTax" runat="server"></asp:Label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s12" style="margin-top: 5px">
                                                                                                        <div class="row">
                                                                                                            <label for="txtRetainagePercentage">Retainage percentage (%)</label>
                                                                                                            <asp:TextBox ID="txtRetainagePercentage" runat="server" onblur="UpdateRetainage(this);"></asp:TextBox>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="form-section3-blank">
                                                                                                    &nbsp;
                                                                                                </div>
                                                                                                <div class="form-section3">
                                                                                                    <asp:UpdatePanel runat="server" UpdateMode="Always">
                                                                                                        <ContentTemplate>
                                                                                                            <div class="input-field col s12">
                                                                                                                <div class="row">
                                                                                                                    <label for="txtInvoiceRemark" class="txtbrdlbl">Invoice Remarks</label>
                                                                                                                    <asp:TextBox ID="txtInvoiceRemark" runat="server" TextMode="MultiLine" CssClass="materialize-textarea textarea-border"></asp:TextBox>
                                                                                                                </div>
                                                                                                            </div>
                                                                                                        </ContentTemplate>
                                                                                                    </asp:UpdatePanel>
                                                                                                    <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <label for="txtArchitectName">
                                                                                                                Architect Name
                                                                                                            </label>
                                                                                                            <asp:TextBox ID="txtArchitectName" runat="server"></asp:TextBox>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="input-field col s12">
                                                                                                        <div class="row">
                                                                                                            <label for="txtArchitectAdress" class="txtbrdlbl">Architect Address</label>
                                                                                                            <asp:TextBox ID="txtArchitectAdress" runat="server" TextMode="MultiLine" CssClass="materialize-textarea textarea-border"></asp:TextBox>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="form-section-row">
                                                                                                <div class="grid_container">
                                                                                                    <div class="table-scrollable">
                                                                                                        <%--<asp:UpdatePanel ID="upWIP" runat="server">
                                                                                                                            <ContentTemplate>--%>
                                                                                                        <div class="RadGrid RadGrid_Material FormGrid">
                                                                                                            <telerik:RadGrid RenderMode="Auto" Width="100%" ID="gvWIPs" AllowFilteringByColumn="false" ShowFooter="true"
                                                                                                                runat="server" AllowSorting="True" CssClass="WIPGrid" PageSize="200" OnPreRender="gvWIPs_PreRender">
                                                                                                                <CommandItemStyle />
                                                                                                                <GroupHeaderItemStyle Font-Size="Medium" Font-Bold="true" />
                                                                                                                <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false" AllowGroupExpandCollapse="false">
                                                                                                                    <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" FrozenColumnsCount="2" />
                                                                                                                    <ClientEvents
                                                                                                                        OnColumnHidden="ColumnSettingsChange"
                                                                                                                        OnColumnShown="ColumnSettingsChange"
                                                                                                                        OnHeaderMenuShowing="headerMenuShowing" />
                                                                                                                </ClientSettings>
                                                                                                                <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="false" EnableHeaderContextMenu="true" ShowFooter="true" AllowPaging="false">
                                                                                                                    <Columns>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Line No." DataField="Line" UniqueName="Line"
                                                                                                                            HeaderStyle-Width="50" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:Label ID="lblLine" runat="server" Text='<%# Eval("RowNo") %>'></asp:Label>
                                                                                                                                <%--<asp:Label ID="lblLine" runat="server" Text='<%# Eval("Line") %>' Width="10px"></asp:Label>--%>
                                                                                                                                <asp:HiddenField ID="hdnLine" runat="server" Value='<%# Eval("Line") %>'></asp:HiddenField>
                                                                                                                                <asp:HiddenField ID="hdnID" runat="server" Value='<%# Eval("Id") %>'></asp:HiddenField>
                                                                                                                                <asp:HiddenField ID="hdnRetainageAmount" runat="server" Value='<%# Eval("RetainageAmount") %>'></asp:HiddenField>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="" HeaderStyle-Width="40">
                                                                                                                            <HeaderTemplate>
                                                                                                                                <%--  <input id="chkAllRemainingBilling" type="checkbox" class="css-checkbox"  runat="server" />--%>
                                                                                                                                <asp:CheckBox ID="chkAllRemainingBilling" runat="server"></asp:CheckBox>
                                                                                                                                <label for="chkAll" class="css-label"></label>
                                                                                                                            </HeaderTemplate>
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:CheckBox ID="chkRemainingBilling" runat="server"></asp:CheckBox>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Group" HeaderStyle-Width="100" AllowFiltering="true" UniqueName="WIPGroupName">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtWIPGroup" class="Groupsearchinput" runat="server" Text='<%# Eval("GroupName") %>' Style="width: 100%!important;" CssClass="form-control input-sm input-small"></asp:TextBox>
                                                                                                                                <asp:HiddenField ID="hdnWIPGroupID" Value='<%# Eval("GroupID") %>' runat="server" />
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Op Sequence" HeaderStyle-Width="100" UniqueName="WIPJCode">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtWIPCode" runat="server" Text='<%# Eval("jCode") %>' Style="width: 100%!important;" CssClass="form-control input-sm input-small"></asp:TextBox>
                                                                                                                                <asp:HiddenField ID="hdnWIPCode" runat="server" />
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="CodeDesc" HeaderStyle-Width="100" UniqueName="WIPCodeDesc">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="lblWIPCodeDesc" ReadOnly="true" runat="server" Text='<%# Eval("CodeDesc") %>'></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Description" DataField="WIPDesc" UniqueName="WIPDesc" HeaderStyle-Width="200">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtWIPDesc" runat="server" MaxLength="200" Text='<%# Eval("WIPDesc") %>' CssClass="textBoxCCS"
                                                                                                                                    BorderWidth="0px"></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Contract Amount $" DataField="ContractAmount" UniqueName="ContractAmount" FooterStyle-HorizontalAlign="Right"
                                                                                                                            HeaderStyle-Width="100">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtContractAmount" onchange="showDecimalVal(this);CalculateContractAmountTotal();" runat="server"
                                                                                                                                    Text='<%# Eval("ContractAmount","{0:n}") %>' BorderWidth="0px" CssClass="textBoxCCS DisableControls" Style="text-align: right;">
                                                                                                                                </asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                            <FooterTemplate>
                                                                                                                                <asp:Label ID="lblTotalContractAmount" runat="server" class="totalContractAmount"></asp:Label>
                                                                                                                            </FooterTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Change Order $" DataField="ChangeOrder" UniqueName="ChangeOrder" FooterStyle-HorizontalAlign="Right"
                                                                                                                            HeaderStyle-Width="100">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtChangeOrder" onchange="showDecimalVal(this);CalculateChangeOrderTotal();" runat="server" onkeypress="return isDecimalKey(this,event)"
                                                                                                                                    Text='<%# Eval("ChangeOrder","{0:n}") %>' BorderWidth="0px" CssClass="textBoxCCS" Style="text-align: right;"></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                            <FooterTemplate>
                                                                                                                                <asp:Label ID="lblTotalChangeOrder" runat="server" class="totalChangeOrder"></asp:Label>
                                                                                                                            </FooterTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Scheduled Values $" DataField="ScheduledValues" UniqueName="ScheduledValues" FooterStyle-HorizontalAlign="Right"
                                                                                                                            HeaderStyle-Width="100">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtScheduledValues" onchange="showDecimalVal(this);CalculateScheduledValuesTotal();" runat="server" onkeypress="return isDecimalKey(this,event)"
                                                                                                                                    Text='<%# Eval("ScheduledValues","{0:n}") %>' BorderWidth="0px" CssClass="textBoxCCS DisableControls" Style="text-align: right;"></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                            <FooterTemplate>
                                                                                                                                <asp:Label ID="lblTotalScheduledValues" runat="server" class="totalScheduledValues"></asp:Label>
                                                                                                                            </FooterTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Previous Billed $" DataField="PreviousBilled" UniqueName="PreviousBilled" FooterStyle-HorizontalAlign="Right"
                                                                                                                            HeaderStyle-Width="100">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtPreviousBilled" onchange="showDecimalVal(this);CalculatePreviousBilledTotal();" runat="server" onkeypress="return isDecimalKey(this,event)"
                                                                                                                                    Text='<%# Eval("PreviousBilled","{0:n}") %>' BorderWidth="0px" CssClass="textBoxCCS DisableControls" Style="text-align: right;"></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                            <FooterTemplate>
                                                                                                                                <asp:Label ID="lblTotalPreviousBilled" runat="server" class="totalPreviousBilled"></asp:Label>
                                                                                                                            </FooterTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Retainage Amount $" DataField="RetainageCumAmount" UniqueName="RetainageCumAmount" FooterStyle-HorizontalAlign="Right"
                                                                                                                            HeaderStyle-Width="100">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtRetainageCumAmount" runat="server" onchange="showDecimalVal_WithMinus(this);CalculateRetainageCumAmountTotal();"
                                                                                                                                    Text='<%# Eval("RetainageCumAmount","{0:n}") %>' BorderWidth="0px" CssClass="textBoxCCS DisableControls" Style="text-align: right;"></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                            <FooterTemplate>
                                                                                                                                <asp:Label ID="lblTotalRetainageCumAmount" runat="server" class="totalRetainageCumAmount"></asp:Label>
                                                                                                                            </FooterTemplate>
                                                                                                                        </telerik:GridTemplateColumn>

                                                                                                                        <telerik:GridTemplateColumn HeaderText="Completed this Period $" DataField="CompletedThisPeriod" UniqueName="CompletedThisPeriod" FooterStyle-HorizontalAlign="Right"
                                                                                                                            HeaderStyle-Width="100">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtCompletedThisPeriod" onchange="showDecimalVal(this);updateRetainageDefault();CalculatCompletedThisPeriodTotal(); CalculateRetainagePerTotal();" runat="server" onkeypress="return isDecimalKey(this,event)"
                                                                                                                                    Text='<%# Eval("CompletedThisPeriod","{0:n}") %>' BorderWidth="0px" CssClass="textBoxCCS" Style="text-align: right;"></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                            <FooterTemplate>
                                                                                                                                <asp:Label ID="lblTotalCompletedThisPeriod" runat="server" class="totalCompletedThisPeriod"></asp:Label>
                                                                                                                            </FooterTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Presently Stored $" DataField="PresentlyStored" UniqueName="PresentlyStored" FooterStyle-HorizontalAlign="Right"
                                                                                                                            HeaderStyle-Width="100">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtPresentlyStored" onchange="showDecimalVal(this);CalculatPresentlyStoredTotal();" runat="server" onkeypress="return isDecimalKey(this,event)"
                                                                                                                                    Text='<%# Eval("PresentlyStored","{0:n}") %>' BorderWidth="0px" CssClass="textBoxCCS" Style="text-align: right;"></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                            <FooterTemplate>
                                                                                                                                <asp:Label ID="lblPresentlyStored" runat="server" class="totalPresentlyStored"></asp:Label>
                                                                                                                            </FooterTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Total Completed & Stored $" DataField="TotalCompletedAndStored" UniqueName="TotalCompletedAndStored" FooterStyle-HorizontalAlign="Right"
                                                                                                                            HeaderStyle-Width="100">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtTotalCompletedAndStored" onchange="showDecimalVal(this);CalculateTotalCompletedAndStoredTotal();" runat="server" onkeypress="return isDecimalKey(this,event)"
                                                                                                                                    Text='<%# Eval("TotalCompletedAndStored","{0:n}") %>' BorderWidth="0px" CssClass="textBoxCCS DisableControls" Style="text-align: right;"></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                            <FooterTemplate>
                                                                                                                                <asp:Label ID="lblTotalTotalCompletedAndStored" runat="server" class="totalTotalCompletedAndStored"></asp:Label>
                                                                                                                            </FooterTemplate>
                                                                                                                        </telerik:GridTemplateColumn>

                                                                                                                        <telerik:GridTemplateColumn HeaderText="% Billed" DataField="PerBilled" UniqueName="PerBilled" FooterStyle-HorizontalAlign="Right"
                                                                                                                            HeaderStyle-Width="100">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtBilled" runat="server" onkeypress="return isDecimalKey(this,event)"
                                                                                                                                    Text='<%# Eval("PerBilled","{0:n}") %>' BorderWidth="0px" CssClass="textBoxCCS DisableControls" Style="text-align: right;"></asp:TextBox>
                                                                                                                            </ItemTemplate>

                                                                                                                        </telerik:GridTemplateColumn>

                                                                                                                        <telerik:GridTemplateColumn HeaderText="% Comp." DataField="PerComplete" UniqueName="PerComplete" FooterStyle-HorizontalAlign="Right"
                                                                                                                            HeaderStyle-Width="100">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtPerComplete" onchange="showDecimalVal(this);CalculatePerCompleteTotal();CalculateRetainagePerTotal();" runat="server" onkeypress="return isDecimalKey(this,event)"
                                                                                                                                    Text='<%# Eval("PerComplete","{0:n}") %>' BorderWidth="0px" CssClass="textBoxCCS " Style="text-align: right;"></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                            <FooterTemplate>
                                                                                                                                <asp:Label ID="lblTotalPerComplete" runat="server" class="totalPerComplete"></asp:Label>
                                                                                                                            </FooterTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Balance to Finish $" DataField="BalanceToFinsh" UniqueName="BalanceToFinsh" FooterStyle-HorizontalAlign="Right"
                                                                                                                            HeaderStyle-Width="100">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtBalanceToFinsh" onchange="showDecimalVal(this);CalculateBalanceToFinshTotal();" runat="server" onkeypress="return isDecimalKey(this,event)"
                                                                                                                                    Text='<%# Eval("BalanceToFinsh","{0:n}") %>' BorderWidth="0px" CssClass="textBoxCCS DisableControls" Style="text-align: right;"></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                            <FooterTemplate>
                                                                                                                                <asp:Label ID="lblTotalBalanceToFinsh" runat="server" class="totalBalanceToFinsh"></asp:Label>
                                                                                                                            </FooterTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Retainage %" DataField="RetainagePer" UniqueName="RetainagePer" FooterStyle-HorizontalAlign="Right"
                                                                                                                            HeaderStyle-Width="100">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtRetainagePer" onchange="showDecimalVal(this);CalculateRetainagePerTotal();" runat="server" onkeypress="return isDecimalKey(this,event)"
                                                                                                                                    Text='<%# Eval("RetainagePer","{0:n}") %>' BorderWidth="0px" CssClass="textBoxCCS" Style="text-align: right;"></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                            <FooterTemplate>
                                                                                                                                <asp:Label ID="lblTotalRetainagePer" runat="server" class="totalRetainagePer" Visible="false"></asp:Label>
                                                                                                                            </FooterTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Retainage Amount $" DataField="RetainageAmount" UniqueName="RetainageAmount" FooterStyle-HorizontalAlign="Right"
                                                                                                                            HeaderStyle-Width="100">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtRetainageAmount" onchange="showDecimalVal_WithMinus(this);CalculateRetainageAmountTotal();" runat="server" onkeypress="return isDecimalKey(this,event)"
                                                                                                                                    Text='<%# Eval("RetainageAmount","{0:n}") %>' BorderWidth="0px" CssClass="textBoxCCS" Style="text-align: right;"></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                            <FooterTemplate>
                                                                                                                                <asp:Label ID="lblTotalRetainageAmount" runat="server" class="totalRetainageAmount"></asp:Label>
                                                                                                                            </FooterTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Total Billed $" DataField="TotalBilled" UniqueName="TotalBilled" FooterStyle-HorizontalAlign="Right"
                                                                                                                            HeaderStyle-Width="100">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtTotalBilled" onchange="showDecimalVal(this);CalculateTotalBilledTotal();" runat="server" onkeypress="return isDecimalKey(this,event)"
                                                                                                                                    Text='<%# Eval("TotalBilled","{0:n}") %>' BorderWidth="0px" CssClass="textBoxCCS DisableControls" Style="text-align: right;"></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                            <FooterTemplate>
                                                                                                                                <asp:Label ID="lblTotalTotalBilled" runat="server" class="totalTotalBilled"></asp:Label>
                                                                                                                            </FooterTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Billing Code" DataField="TotalBilled" UniqueName="TotalBilled" FooterStyle-HorizontalAlign="Right"
                                                                                                                            HeaderStyle-Width="170">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:DropDownList ID="ddlBillingCode" runat="server" CssClass="browser-default" DataTextField="BillType" onchange="UpdateBillCodeMissing(this)"
                                                                                                                                    DataValueField="ID" SelectedValue='<%# Eval("BillingCode") %>' DataSource='<%#dtBillingCodeData%>'
                                                                                                                                    Width="150px">
                                                                                                                                </asp:DropDownList>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="GST" DataField="GSTable" UniqueName="GSTable" HeaderStyle-Width="50">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:CheckBox ID="chkEnableGSTTax" runat="server" Checked='<%# Eval("GSTable") != DBNull.Value ? Convert.ToBoolean(Eval("GSTable")) : false %>'></asp:CheckBox>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="GST Tax" DataField="GSTAmount" UniqueName="GSTAmount" HeaderStyle-Width="100">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtGSTTax" runat="server" Checked='<%# Eval("GSTAmount") != DBNull.Value ? Eval("GSTAmount") : 0 %>'></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Tax" DataField="Taxable" UniqueName="Taxable" HeaderStyle-Width="100">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:CheckBox ID="chkTaxable" runat="server" Checked='<%# Eval("Taxable") %>'></asp:CheckBox>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="HST/PST Tax" DataField="PSTAmount" UniqueName="PSTAmount" HeaderStyle-Width="100">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtPSTTax" runat="server" Checked='<%# Eval("PSTAmount") != DBNull.Value ? Eval("PSTAmount") : 0 %>'></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                        <telerik:GridTemplateColumn HeaderText="Invoice Total $" UniqueName="InvoiceTotal" FooterStyle-HorizontalAlign="Right"
                                                                                                                            HeaderStyle-Width="200">
                                                                                                                            <ItemTemplate>
                                                                                                                                <asp:TextBox ID="txtTotalInvoice" runat="server"
                                                                                                                                    Text='' BorderWidth="0px" CssClass="textBoxCCS DisableControls" Style="text-align: left;"></asp:TextBox>
                                                                                                                            </ItemTemplate>
                                                                                                                            <FooterTemplate>
                                                                                                                                <asp:Label ID="lblTotalTotalInvoice" runat="server" class="lblTotalTotalInvoice"></asp:Label>
                                                                                                                            </FooterTemplate>
                                                                                                                        </telerik:GridTemplateColumn>
                                                                                                                    </Columns>
                                                                                                                </MasterTableView>
                                                                                                                <FooterStyle CssClass="footer" />
                                                                                                            </telerik:RadGrid>
                                                                                                        </div>
                                                                                                        <%-- </ContentTemplate>
                                                                                                                        </asp:UpdatePanel>--%>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="form-section-row">
                                                                                                <div class="form-section2">
                                                                                                    <div class="col s12">
                                                                                                        <div class="row">
                                                                                                            <div class="btnlinks">
                                                                                                                <asp:LinkButton ID="btnSave" runat="server" Text="Save WIP" OnClick="SaveWIP_Click"
                                                                                                                    OnClientClick="window.btn_clicked =true; return ValidateWIP(); return validateBillingCode();" />

                                                                                                            </div>
                                                                                                            <div class="btnlinks">
                                                                                                                <asp:LinkButton ID="btnWIPCancel" runat="server" Text="Cancel" OnClick="btnWIPCancel_Click"
                                                                                                                    OnClientClick="window.btn_clicked =true;"></asp:LinkButton>
                                                                                                            </div>
                                                                                                            <div class="btnlinks">
                                                                                                                <asp:LinkButton ID="btnGenerateInvoice" runat="server" Text="Generate Invoice" OnClick="btnGenerateInvoice_Click"
                                                                                                                    OnClientClick="window.onbeforeunload = null;return ValidateWIP(); return validateBillingCode();" />
                                                                                                            </div>
                                                                                                            <div class="btnlinks">
                                                                                                                <asp:LinkButton ID="lnkRestoreGridSettings" runat="server" CausesValidation="False" OnClick="lnkRestoreGridSettings_Click"
                                                                                                                    Style="display: none">Restore Grid</asp:LinkButton>
                                                                                                            </div>
                                                                                                            <div class="btnlinks">
                                                                                                                <asp:LinkButton ID="lnkSaveGridSettings" runat="server" CausesValidation="False" OnClick="lnkSaveGridSettings_Click"
                                                                                                                    Style="display: none">Save Grid</asp:LinkButton>
                                                                                                            </div>

                                                                                                            <label id="lbSaveGridSettings" runat="server" class="labelButton" tooltip="Save Grid Settings" style="display: none">
                                                                                                                <input type="radio" id="rdSaveGridSettings" onclick="SaveGridSettings();" />
                                                                                                                Save Grid
                                                                                                            </label>
                                                                                                            <label id="lbRestoreGridSettings" runat="server" class="labelButton" tooltip="Restore Default Settings for Grid" style="display: none">
                                                                                                                <input type="radio" id="rdRestoreGridSettings" onclick="RestoreGridSettings();" />
                                                                                                                Restore Grid
                                                                                                            </label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                            <telerik:RadCodeBlock ID="RadCodeBlock11" runat="server">
                                                                                                <script type="text/javascript">
                                                                                                    function headerMenuShowing(sender, args) {
                                                                                                        debugger
                                                                                                        var session = '<%= Session["COPer"] %>';

                                                                                                        var menu = args.get_menu();
                                                                                                        var headerName = args.get_gridColumn().get_uniqueName();
                                                                                                        for (var i = 0; i < menu.get_items().get_count(); i++) {
                                                                                                            var item = menu.get_items().getItem(i);
                                                                                                            if (item.get_value() != 'ColumnsContainer') {
                                                                                                                item.get_element().style.display = 'none';
                                                                                                            }
                                                                                                        }
                                                                                                        var columnsItem = menu.findItemByText("Columns");
                                                                                                        var acceptedHeaderMenuShowingColumns = [2, 3, 4];
                                                                                                        for (var i = 0; i < columnsItem._getAllItems().length; i++) {
                                                                                                            if (!acceptedHeaderMenuShowingColumns.includes(i)) {
                                                                                                                columnsItem.get_items().getItem(i).get_element().style.display = "none";
                                                                                                            }
                                                                                                        }
                                                                                                    }
                                                                                                    function ColumnSettingsChange(menu, args) {
                                                                                                        document.getElementById("<%=lbSaveGridSettings.ClientID %>").style.display = "block";
                                                                                                        document.getElementById("<%=lbRestoreGridSettings.ClientID %>").style.display = "none";
                                                                                                    }

                                                                                                    function SaveGridSettings() {
                                                                                                        document.getElementById('<%=lnkSaveGridSettings.ClientID%>').click();
                                                                                                        document.getElementById("<%=lbSaveGridSettings.ClientID %>").style.display = "none";
                                                                                                        document.getElementById("<%=lbRestoreGridSettings.ClientID %>").style.display = "block";
                                                                                                    }

                                                                                                    function RestoreGridSettings() {
                                                                                                        document.getElementById('<%=lnkRestoreGridSettings.ClientID%>').click();
                                                                                                        document.getElementById("<%=lbRestoreGridSettings.ClientID %>").style.display = "none";
                                                                                                        document.getElementById("<%=lbSaveGridSettings.ClientID %>").style.display = "none";
                                                                                                    }
                                                                                                </script>
                                                                                            </telerik:RadCodeBlock>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div id="tbpnlProgressBilling" class="col s12 tab-container-border lighten-4" style="display: none;">
                                                                                <div class="tabs-custom-mgn1">
                                                                                    <div class="form-section-row">
                                                                                        <div class="row">
                                                                                            <div class="section-ttle">Progress Billing</div>
                                                                                            <div class="form-section-row">
                                                                                                <div class="form-section6">
                                                                                                    <div class="btnlinks" style="padding-bottm:10px">
                                                                                                        <asp:LinkButton ID="btnGenerate" OnClick="btnGenerate_Click" runat="server" Text="Generate" OnClientClick="window.onbeforeunload = null;" />
                                                                                                    </div>
                                                                                                    <div class="btnlinks" style="padding-bottm:10px">
                                                                                                        <asp:LinkButton ID="btnConfirmEmail" runat="server" Text="Send Email" OnClick="btnConfirmEmail_Click" />
                                                                                                    </div>
                                                                                                    <div class="btnlinks style="padding-bottm:10px">
                                                                                                        <asp:LinkButton ID="btnAIAReort" runat="server" Text="AIA Report" OnClick="btnGenerateAIAReport_Click" OnClientClick="window.onbeforeunload = null;" />
                                                                                                    </div>
                                                                                                    <div class="btnlinks" style="padding-bottm:10px">
                                                                                                        <asp:LinkButton ID="btnReverse" runat="server" Text="Reverse" OnClientClick="return OpenReverseWindow();" />
                                                                                                    </div>
                                                                                                    <div style="display: none">
                                                                                                        <asp:LinkButton ID="lnkUpdateStatus" runat="server" Text="Cancel" OnClick="lnkUpdateStatus_Click" OnClientClick="window.onbeforeunload = null;"></asp:LinkButton>
                                                                                                        <asp:LinkButton ID="lnkDeleteWIP" runat="server" Text="Cancel" OnClick="lnkDeleteWIP_Click" OnClientClick="window.onbeforeunload = null;"></asp:LinkButton>
                                                                                                        <asp:LinkButton ID="lnkCancelUpdateStatus" runat="server" Text="Cancel" OnClick="lnkCancelUpdateStatus_Click" OnClientClick="window.onbeforeunload = null;"></asp:LinkButton>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                            <telerik:RadWindowManager ID="RadWindowManagerAddOpp" runat="server">
                                                                                                <Windows>

                                                                                                    <telerik:RadWindow ID="RadWindowReverse" Skin="Material" VisibleTitlebar="true" Behaviors="Default" CenterIfModal="true"
                                                                                                        Animation="FlyIn" AnimationDuration="200" RenderMode="Auto" VisibleStatusbar="false" MinWidth="450"
                                                                                                        runat="server" Modal="true" Width="400" Height="200" Title="Billing Reverse">
                                                                                                        <ContentTemplate>
                                                                                                            <telerik:RadAjaxPanel ID="RadAjaxReversePanel" runat="server" LoadingPanelID="RadAjaxLoadingPanel_Reverse" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">
                                                                                                                <div style="margin-top: 15px;">
                                                                                                                    <div class="input-field">
                                                                                                                        <label for="txtProject">Reverse Date</label>
                                                                                                                        <asp:TextBox runat="server" ID="txtReserveDate" CssClass="datepicker_mom"></asp:TextBox>
                                                                                                                    </div>
                                                                                                                    <div class="btnlinks">
                                                                                                                        <asp:LinkButton ID="lnkBillingReverse" OnClick="lnkBillingReverse_Click" runat="server" OnClientClick="return ValidatePeriodDate();">REVERSE</asp:LinkButton>
                                                                                                                        <asp:HiddenField ID="hdnWIPIDs" runat="server" Value="0" />
                                                                                                                    </div>
                                                                                                                </div>
                                                                                                            </telerik:RadAjaxPanel>
                                                                                                        </ContentTemplate>
                                                                                                    </telerik:RadWindow>
                                                                                                </Windows>
                                                                                            </telerik:RadWindowManager>
                                                                                            <div class="form-section-row">
                                                                                                <div class="grid_container">
                                                                                                    <div class="RadGrid RadGrid_Material">
                                                                                                        <%-- <asp:UpdatePanel runat="server">
                                                                                                                            <ContentTemplate>--%>
                                                                                                        <telerik:RadGrid ID="gvProgressBilling" RenderMode="Auto" runat="server" AutoGenerateColumns="False" CssClass="table table-bordered table-striped table-condensed flip-content"
                                                                                                            Width="100%" OnPreRender="gvProgressBilling_PreRender">
                                                                                                            <CommandItemStyle />
                                                                                                            <GroupHeaderItemStyle Font-Size="Medium" Font-Bold="true" />
                                                                                                            <ClientSettings AllowColumnsReorder="false" ReorderColumnsOnClient="false" AllowGroupExpandCollapse="false">
                                                                                                                <Scrolling AllowScroll="false" SaveScrollPosition="true" UseStaticHeaders="true" FrozenColumnsCount="2" />
                                                                                                            </ClientSettings>
                                                                                                            <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="false" ShowFooter="true" AllowPaging="false">
                                                                                                                <Columns>
                                                                                                                    <telerik:GridTemplateColumn>
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:CheckBox ID="chkSelect" runat="server" />
                                                                                                                            <asp:HiddenField runat="server" ID="hdID" Value='<%# Eval("id") %>' />
                                                                                                                            <asp:HiddenField runat="server" ID="hdGRPeriodDate" Value='<%# Eval("PeriodDate") %>' />
                                                                                                                            <asp:HiddenField runat="server" ID="hdGRBillingDate" Value='<%# Eval("BillingDate") %>' />
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="ID" Visible="False">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:Label ID="lblID" runat="server" Text='<%# Eval("id") %>'>
                                                                                                                            </asp:Label>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:ImageButton ID="ibDeleteWIP" runat="server" CausesValidation="false" data-id='<%# Eval("id") %>'
                                                                                                                                ImageUrl="images/menu_delete.png" Width="13px" OnClientClick='<%# "ConfirmDelete("+ Eval("InvoiceStatus") + ");" %>' />
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Progress Billing #">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:LinkButton ID="lnkProgressBillingNo" runat="server" Text='<%#Eval("ProgressBillingNo").ToString() != "" ? Eval("ProgressBillingNo") : "Edit" %>' data-id='<%# Eval("id") %>' OnClick="lnkProgressBillingNo_Click" OnClientClick='<%# "return UpdateFirstCallFlag("+ Eval("InvoiceStatus") + ");" %>'></asp:LinkButton>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Date">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:Label ID="lblBillingDate" runat="server" Text='<%# Eval("BillingDate","{0:d}") %>'></asp:Label>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Status">
                                                                                                                        <ItemTemplate>
                                                                                                                            <%--<asp:UpdatePanel runat="server" ChildrenAsTriggers="true">
                                                                                                                                                <ContentTemplate>--%>
                                                                                                                            <asp:DropDownList ID="ddlApplicationStatus" AutoPostBack="false" runat="server" data-id='<%# Eval("id") %>' data-InvStatus='<%# Eval("InvoiceStatus") %>'
                                                                                                                                DataSource='<%#dtApplicationStatus%>' SelectedValue='<%# Eval("ApplicationStatusId") %>' DataTextField="StatusName" DataValueField="Id"
                                                                                                                                onChange='ConfirmStatusUpdate(this)'
                                                                                                                                oldIndex='<%# Eval("ApplicationStatusId") %>'
                                                                                                                                CausesValidation="false"
                                                                                                                                CssClass="browser-default form-control input-sm input-small" Style="width: 100%!important;">
                                                                                                                            </asp:DropDownList>
                                                                                                                            <%-- </ContentTemplate>
                                                                                                                                            </asp:UpdatePanel>--%>
                                                                                                                            <div>
                                                                                                                            </div>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Cumulative WIP">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:Label ID="lblAmount" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "Amount", "{0:c}")%>'></asp:Label>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>


                                                                                                                    <telerik:GridTemplateColumn HeaderText="Submitted Date">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:Label ID="lblSubmittedDate" runat="server" Text='<%# Eval("SubmittedDate") %>'></asp:Label>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Approved by">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:Label ID="lblApprovedby" runat="server" Text='<%# Eval("Approvedby") %>'></asp:Label>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Invoice #">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:Label ID="lblInvoiceId" Visible="false" runat="server" Text='<%# Eval("InvoiceId") %>'></asp:Label>
                                                                                                                            <asp:HyperLink ID="hlnkInvoice" runat="server" Text='<%# Eval("InvoiceId") %>' Target="_blank" NavigateUrl='<%# "addinvoice.aspx?uid=" +Eval("InvoiceId")  %>'></asp:HyperLink>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Pre Tax" UniqueName="PreTax">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:Label ID="lblPreAmount" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "InvoicePreTax", "{0:c}")%>'></asp:Label>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="GST Tax" UniqueName="GSTAmount">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:Label ID="lblGstAmount" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "GstAmount", "{0:c}")%>'></asp:Label>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="HST/PST Tax" UniqueName="PSTAmount">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:Label ID="lblPstAmount" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "PstAmount", "{0:c}")%>'></asp:Label>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>

                                                                                                                    <telerik:GridTemplateColumn HeaderText="Total Invoice Amount">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:Label ID="lblInvoiceAmount" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "InvoiceAmount", "{0:c}")%>'></asp:Label>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Invoice Amount Due">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:Label ID="lblInvoiceAmountDue" runat="server" Text='<%# DataBinder.Eval(Container.DataItem, "InvoiceAmountDue", "{0:c}")%>'></asp:Label>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Invoice Remarks">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:Label ID="lblInvoiceRemark" runat="server" Text='<%# Eval("invoiceDescription") %>'></asp:Label>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Send To">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:Label ID="lblSendTo" runat="server" Text='<%# Eval("SendTo") %>'></asp:Label>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Send By">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:Label ID="lblSendBy" runat="server" Text='<%# Eval("SendBy") %>'></asp:Label>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                    <telerik:GridTemplateColumn HeaderText="Send On">
                                                                                                                        <ItemTemplate>
                                                                                                                            <asp:Label ID="lblSendOn" runat="server" Text='<%# Eval("SendOn") %>'></asp:Label>
                                                                                                                        </ItemTemplate>
                                                                                                                    </telerik:GridTemplateColumn>
                                                                                                                </Columns>
                                                                                                            </MasterTableView>
                                                                                                        </telerik:RadGrid>
                                                                                                        <%-- </ContentTemplate>
                                                                                                                        </asp:UpdatePanel>--%>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>


                                                                </div>
                                                            </div>
                                                        </asp:Panel>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div id="tbpnAttachment" class="col s12 tab-container-border lighten-4" style="display: none;">
                                        <div class="form-content-wrap">
                                            <div class="tabs-custom-mgn1" style="padding-top: 20px;">
                                                <div class="form-section-row">
                                                    <div class="row">
                                                        <iframe id="documentpage" style="width: 100%; min-height: 700px; height: auto !important; border: 0px;"></iframe>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div id="tbpnContact" class="col s12 tab-container-border lighten-4" style="display: none;">
                                        <div class="form-content-wrap">
                                            <div class="tabs-custom-mgn1" style="padding: 20px;">
                                                <div class="form-section3-blank">
                                                </div>
                                                <div class="form-section-row">
                                                    <div class="row">
                                                        <asp:UpdatePanel ID="UpdatePanel33" runat="server" UpdateMode="Conditional">
                                                            <ContentTemplate>
                                                                <asp:Panel ID="panel1" runat="server">
                                                                    <div class="form-section-row">
                                                                        <div class="searchpaneinner">
                                                                            <asp:Label ID="lblconinfo" ForeColor="White" runat="server"></asp:Label>
                                                                            <div class="btnlinks">
                                                                                <asp:LinkButton CssClass="icon-edit" Style="float: right" OnClientClick="return AddContactClick(this);" ID="imgAddContact" runat="server" CausesValidation="False" OnClick="imgAddContact_Click" TabIndex="23" ToolTip="Add" Text="Add"></asp:LinkButton>
                                                                            </div>
                                                                            <div class="btnlinks">
                                                                                <asp:LinkButton CssClass="icon-edit" Style="float: right" OnClientClick="return EditContactClick(this);" ID="btnEditcontact" runat="server" CausesValidation="False" OnClick="btnEditcontact_Click" TabIndex="23" ToolTip="Edit" Text="Edit"></asp:LinkButton>
                                                                            </div>
                                                                            <div class="btnlinks" style="float: right;">
                                                                                <asp:LinkButton CssClass="icon-closed" CausesValidation="False" Visible="false" ID="lnkContactClose" OnClick="LinkButton4_Click" ToolTip="Close" Text="Close" runat="server"></asp:LinkButton>
                                                                            </div>
                                                                            <div class="btnlinks" style="float: right;">
                                                                                <asp:LinkButton CssClass="icon-save" Visible="false" ID="lnkContactSave" OnClick="lnkContactSave_Click" ValidationGroup="Contact" ToolTip="Save" Text="Save" runat="server"></asp:LinkButton>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div id="divAddContact" runat="server" visible="false" class="col-lg-12 col-md-12" style="border: 1px solid #316b9d;">
                                                                        <div class="form-section3">
                                                                            <div class="input-field col s12">
                                                                                <div class="row">
                                                                                    <label for="txtContcName">Contact Name </label>
                                                                                    <asp:TextBox ID="txtContcName" autocomplete="off" runat="server" CssClass="form-control Contact-search" MaxLength="50"></asp:TextBox>
                                                                                    <asp:HiddenField ID="hdncontactID" Value="0" runat="server" />
                                                                                    <asp:RequiredFieldValidator ID="RequiredFieldValidator12" runat="server" ControlToValidate="txtContcName"
                                                                                        Display="None" ErrorMessage="Contact Name Required" SetFocusOnError="True" ValidationGroup="Contact"></asp:RequiredFieldValidator>
                                                                                    <asp:ValidatorCalloutExtender ID="RequiredFieldValidator12_ValidatorCalloutExtender"
                                                                                        runat="server" Enabled="True" PopupPosition="Right" TargetControlID="RequiredFieldValidator12">
                                                                                    </asp:ValidatorCalloutExtender>
                                                                                </div>
                                                                            </div>
                                                                            <div class="input-field col s12">
                                                                                <div class="row">
                                                                                    <div class="fc-input  timepicker">
                                                                                        <label for="txtTitle">Title</label>
                                                                                        <asp:TextBox ID="txtTitle" runat="server" MaxLength="50"></asp:TextBox>
                                                                                        <asp:RegularExpressionValidator ID="RegularExpressionValidator2" runat="server" ControlToValidate="txtContEmail"
                                                                                            Display="None" ErrorMessage="Invalid Email" ValidationGroup="Contact" SetFocusOnError="True"
                                                                                            ValidationExpression="\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*"></asp:RegularExpressionValidator>
                                                                                        <asp:ValidatorCalloutExtender ID="r45345" PopupPosition="Left"
                                                                                            runat="server" Enabled="True" TargetControlID="RegularExpressionValidator2">
                                                                                        </asp:ValidatorCalloutExtender>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="input-field col s12">
                                                                                <div class="row">
                                                                                    <label for="txtContPhone">Phone</label>
                                                                                    <asp:TextBox ID="txtContPhone" runat="server" MaxLength="22" placeholder="(xxx)xxx-xxxx Ext:xxx"></asp:TextBox>
                                                                                </div>
                                                                            </div>
                                                                            <div class="input-field col s12">
                                                                                <div class="row">
                                                                                    <label for="txtContFax">Fax</label>
                                                                                    <asp:TextBox ID="txtContFax" runat="server" MaxLength="22"></asp:TextBox>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="form-section3-blank">
                                                                            &nbsp;
                                                                        </div>
                                                                        <div class="form-section3">
                                                                            <div class="input-field col s12">
                                                                                <div class="row">
                                                                                    <label for="txtContCell">Cell</label>
                                                                                    <asp:TextBox ID="txtContCell" runat="server" MaxLength="22" placeholder="(xxx)xxx-xxxx"></asp:TextBox>
                                                                                </div>
                                                                            </div>
                                                                            <div class="input-field col s12">
                                                                                <div class="row">
                                                                                    <label for="txtContEmail">Email</label>
                                                                                    <asp:TextBox ID="txtContEmail" runat="server" MaxLength="50"></asp:TextBox>
                                                                                </div>
                                                                            </div>
                                                                            <div class="input-field col s12">
                                                                                <div class="row">
                                                                                    <label for="ddlContactType" class="drpdwn-label">Contact Type</label>
                                                                                    <asp:DropDownList ID="ddlContactType" CssClass="browser-default" runat="server" Width="100%">
                                                                                        <asp:ListItem Text="Location" Value="1"></asp:ListItem>
                                                                                        <asp:ListItem Text="Customer" Value="2"></asp:ListItem>
                                                                                    </asp:DropDownList>
                                                                                </div>
                                                                            </div>
                                                                            <%--<div class="input-field col s12">
                                                                                <div class="row">
                                                                                    <asp:CheckBox ID="chkEmailTicket" runat="server" Text="Email Tickit" />
                                                                                </div>
                                                                            </div>--%>
                                                                            <div class="input-field col s12 certified-checkbox checkrow">
                                                                                <span class="tro">
                                                                                    <asp:CheckBox ID="chkEmailTicket" CssClass="css-checkbox" Text="Email Ticket" runat="server" />
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </asp:Panel>
                                                            </ContentTemplate>
                                                        </asp:UpdatePanel>
                                                        <asp:UpdatePanel ID="UpdatePanel30" runat="server">
                                                            <Triggers>
                                                            </Triggers>
                                                            <ContentTemplate>
                                                                <div class="grid_container">
                                                                    <telerik:RadAjaxLoadingPanel ID="RadAjaxLoadingPanel_gvContacts" runat="server">
                                                                    </telerik:RadAjaxLoadingPanel>
                                                                    <div class="form-section-row" style="margin-bottom: 0 !important;">
                                                                        <div class="table-scrollable" style="height: auto; max-height: 400px; overflow-y: auto; border: none">
                                                                            <div class="RadGrid RadGrid_Material ">
                                                                                <telerik:RadCodeBlock ID="codeBlock1" runat="server">
                                                                                    <script type="text/javascript">
                                                                                        function pageLoad() {
                                                                                            var grid = $find("<%= gvContacts.ClientID %>");
                                                                                            var columns = grid.get_masterTableView().get_columns();
                                                                                            for (var i = 0; i < columns.length; i++) {
                                                                                                columns[i].resizeToFit(false, true);
                                                                                            }
                                                                                        }
                                                                                        var requestInitiator = null;
                                                                                        var selectionStart = null;
                                                                                        function requestStart(sender, args) {
                                                                                            requestInitiator = document.activeElement.id;
                                                                                            if (document.activeElement.tagName == "INPUT") {
                                                                                                selectionStart = document.activeElement.selectionStart;
                                                                                            }
                                                                                        }
                                                                                        function responseEnd(sender, args) {
                                                                                            var element = document.getElementById(requestInitiator);
                                                                                            if (element && element.tagName == "INPUT") {
                                                                                                element.focus();
                                                                                                element.selectionStart = selectionStart;
                                                                                            }
                                                                                        }

                                                                                        function loadcontact() {
                                                                                            if (document.getElementById('<%= hdnloadcontact.ClientID%>').value == "0") {
                                                                                                document.getElementById('<%= lnkloadcontact.ClientID%>').click();
                                                                                            }
                                                                                        }


                                                                                    </script>
                                                                                </telerik:RadCodeBlock>
                                                                                <telerik:RadAjaxPanel ID="RadAjaxPanel_gvContacts" runat="server" LoadingPanelID="RadAjaxLoadingPanel_gvContacts" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">

                                                                                    <asp:LinkButton ID="lnkloadcontact" CausesValidation="false" runat="server" Text="" OnClick="lnkloadcontact_Click" />

                                                                                    <asp:HiddenField ID="hdnloadcontact" runat="server" Value="0" />
                                                                                    <div id="divcontact" runat="server" visible="false">

                                                                                        <telerik:RadGrid RenderMode="Auto" ID="gvContacts" runat="server" AutoGenerateColumns="False" AllowFilteringByColumn="true"
                                                                                            ShowFooter="True" AllowPaging="True" PageSize="10" PagerStyle-AlwaysVisible="true" FilterType="CheckList"
                                                                                            ShowStatusBar="true" AllowSorting="false" emptydatatext="Record Not Found" OnNeedDataSource="RadGrid_gvContacts_NeedDataSource">
                                                                                            <GroupingSettings CaseSensitive="false" />
                                                                                            <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="true" ShowFooter="true" AllowPaging="true">
                                                                                                <Columns>
                                                                                                    <telerik:GridTemplateColumn HeaderText="Edit" AllowFiltering="false" ShowFilterIcon="false">
                                                                                                        <ItemTemplate>
                                                                                                            <asp:CheckBox ID="chkEditcontact" TabIndex="19" onclick="CheckSingleCheckbox(this)" runat="server" />
                                                                                                        </ItemTemplate>
                                                                                                    </telerik:GridTemplateColumn>
                                                                                                    <telerik:GridTemplateColumn AllowFiltering="false" ShowFilterIcon="false">
                                                                                                        <ItemTemplate>
                                                                                                            <asp:CheckBox ID="chkBoxIsRecd" runat="server" Checked='<%# Eval("IsHighLighted").ToString()=="0"? false:true %>' OnCheckedChanged="chkBoxIsRecd_OnCheckedChanged" AutoPostBack="true" />
                                                                                                        </ItemTemplate>
                                                                                                    </telerik:GridTemplateColumn>
                                                                                                    <telerik:GridTemplateColumn HeaderText="IsHighLighted" Visible="False" AllowFiltering="false" ShowFilterIcon="false">
                                                                                                        <ItemTemplate>
                                                                                                            <asp:Label ID="IsHighLighted" runat="server" Text='<%# Bind("IsHighLighted") %>'></asp:Label>
                                                                                                        </ItemTemplate>
                                                                                                    </telerik:GridTemplateColumn>
                                                                                                    <telerik:GridTemplateColumn HeaderText="PhoneID" Visible="False" AllowFiltering="false" ShowFilterIcon="false">
                                                                                                        <ItemTemplate>
                                                                                                            <asp:Label ID="PhoneID" runat="server" Text='<%# Bind("PhoneID") %>'></asp:Label>
                                                                                                        </ItemTemplate>
                                                                                                    </telerik:GridTemplateColumn>
                                                                                                    <telerik:GridTemplateColumn HeaderText="Name" ShowFilterIcon="false" DataField="Name" SortExpression="Name" AutoPostBackOnFilter="true" CurrentFilterFunction="Contains">
                                                                                                        <ItemTemplate>
                                                                                                            <asp:Label ID="lblName" runat="server" Text='<%# Eval("Name") %>'></asp:Label>
                                                                                                        </ItemTemplate>
                                                                                                    </telerik:GridTemplateColumn>
                                                                                                    <telerik:GridTemplateColumn DataField="Title" SortExpression="Title" AutoPostBackOnFilter="true"
                                                                                                        CurrentFilterFunction="Contains" HeaderText="Title" ShowFilterIcon="false">
                                                                                                        <ItemTemplate>
                                                                                                            <asp:Label ID="lblTitle" runat="server" Text='<%# Eval("Title") %>'></asp:Label>
                                                                                                        </ItemTemplate>
                                                                                                    </telerik:GridTemplateColumn>
                                                                                                    <telerik:GridTemplateColumn DataField="Phone" SortExpression="Phone" AutoPostBackOnFilter="true"
                                                                                                        CurrentFilterFunction="Contains" HeaderText="Phone" ShowFilterIcon="false">
                                                                                                        <ItemTemplate>
                                                                                                            <asp:Label ID="lblPhn" runat="server" Text='<%#Eval("Phone")%>'></asp:Label>
                                                                                                        </ItemTemplate>
                                                                                                    </telerik:GridTemplateColumn>
                                                                                                    <telerik:GridTemplateColumn DataField="Fax" SortExpression="Fax" AutoPostBackOnFilter="true"
                                                                                                        CurrentFilterFunction="Contains" HeaderText="Fax" ShowFilterIcon="false">
                                                                                                        <ItemTemplate>
                                                                                                            <asp:Label ID="lblFx" runat="server" Text='<%#Eval("Fax")%>'></asp:Label>
                                                                                                        </ItemTemplate>
                                                                                                    </telerik:GridTemplateColumn>
                                                                                                    <telerik:GridTemplateColumn DataField="Cell" SortExpression="Cell" AutoPostBackOnFilter="true"
                                                                                                        CurrentFilterFunction="Contains" HeaderText="Cell" ShowFilterIcon="false">
                                                                                                        <ItemTemplate>
                                                                                                            <asp:Label ID="lblCell" runat="server" Text='<%#Eval("Cell")%>'></asp:Label>
                                                                                                        </ItemTemplate>
                                                                                                    </telerik:GridTemplateColumn>
                                                                                                    <telerik:GridTemplateColumn DataField="Email" SortExpression="Email" AutoPostBackOnFilter="true"
                                                                                                        CurrentFilterFunction="Contains" HeaderText="Email" ShowFilterIcon="false">
                                                                                                        <ItemTemplate>
                                                                                                            <asp:Label ID="lblEmail" runat="server" Text='<%#Eval("Email")%>'></asp:Label>
                                                                                                        </ItemTemplate>
                                                                                                    </telerik:GridTemplateColumn>
                                                                                                    <telerik:GridTemplateColumn HeaderText="Email Ticket" Visible="false" DataField="EmailRecTicket" SortExpression="EmailRecTicket" AutoPostBackOnFilter="true"
                                                                                                        CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                        <ItemTemplate>
                                                                                                            <asp:Label ID="lblEmailTicket" runat="server" Text='<%#Eval("EmailRecTicket")%>'></asp:Label>
                                                                                                        </ItemTemplate>
                                                                                                    </telerik:GridTemplateColumn>
                                                                                                    <telerik:GridTemplateColumn HeaderText="Contact Type" DataField="ContactType" SortExpression="ContactType" AutoPostBackOnFilter="true"
                                                                                                        CurrentFilterFunction="Contains" ShowFilterIcon="false">
                                                                                                        <ItemTemplate>
                                                                                                            <asp:Label ID="lblContactType" runat="server" Text='<%#Eval("ContactType")%>'></asp:Label>
                                                                                                        </ItemTemplate>
                                                                                                    </telerik:GridTemplateColumn>
                                                                                                </Columns>
                                                                                            </MasterTableView>
                                                                                        </telerik:RadGrid>

                                                                                    </div>
                                                                                </telerik:RadAjaxPanel>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="clearfix"></div>
                                                                </div>
                                                            </ContentTemplate>
                                                        </asp:UpdatePanel>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div id="tbpnPlanner" class="col s12 tab-container-border lighten-4" style="display: none;">
                                        <div class="form-content-wrap">
                                            <div class="tabs-custom-mgn1" style="padding-top: 20px;">

                                                <div class="form-section-row">
                                                    <div class="row" style="padding-left: 10px;">
                                                        <div class="form-section-row">
                                                            <div class="btnlinks">
                                                                <asp:LinkButton Text="Add" OnClientClick="window.btn_clicked =true;" CausesValidation="false" OnClick="lnkAddPlanner_Click" ID="lnkAddPlanner" runat="server" Style="text-decoration: none; font-size: 14px;" />
                                                            </div>
                                                            <div class="btnlinks">
                                                                <asp:LinkButton Text="Save" OnClientClick="window.btn_clicked =true;" ToolTip="Update planner title" CausesValidation="false" OnClick="lnkSavePlanner_Click" ID="lnkSavePlanner" runat="server" Style="text-decoration: none; font-size: 14px;" />
                                                            </div>
                                                            <div class="btnlinks">
                                                                <asp:LinkButton Text="Delete" OnClientClick="window.btn_clicked =true;" CausesValidation="false" OnClick="lnkDeletePlanner_Click" ID="lnkDeletePlanner" runat="server" Style="text-decoration: none; font-size: 14px;" />
                                                            </div>
                                                        </div>

                                                        <div class="form-section-row">
                                                            <asp:Panel ID="PlannerInfo" runat="server" Style="float: left; clear: both; width: 100%">
                                                                <div class="form-section-row">
                                                                    <div class="section-ttle">Planner Info</div>
                                                                    <div class="form-section3">
                                                                        <div class="text-field col s12">
                                                                            <div class="row">
                                                                                <label style="font-size: 0.9rem;">Planner ID:</label>
                                                                                <asp:HyperLink Visible="true" Target="_self" Text="" Style="float: right !important; font-size: 0.9rem;"
                                                                                    runat="server" ID="lnkPlannerID"></asp:HyperLink>
                                                                                <%--NavigateUrl='<%# "AddPlanner.aspx?projid=" + Request.QueryString["uid"] + "&plnid=" + ViewState["PlannerID"] %>'--%>
                                                                            </div>
                                                                        </div>
                                                                        <div class="text-field col s12">
                                                                            <div class="row">
                                                                                <label style="font-size: 0.9rem;">Finish Date:</label>
                                                                                <asp:Label runat="server" ID="lblFinishDate" Style="float: right !important; font-size: 0.9rem;"></asp:Label>
                                                                            </div>
                                                                        </div>
                                                                        <div class="text-field col s12">
                                                                            <div class="row">
                                                                                <label style="font-size: 0.9rem;">Progress Task:</label>
                                                                                <asp:Label runat="server" ID="lblInProgressTask" Style="float: right !important; font-size: 0.9rem;"></asp:Label>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-section3-blank">&nbsp;</div>
                                                                    <div class="form-section3">
                                                                        <div class="input-field col s12">
                                                                            <div class="row">
                                                                                <label for="txtPlannerTitle">Planner Title</label>
                                                                                <asp:TextBox ID="txtPlannerTitle" runat="server" CssClass="validate"></asp:TextBox>
                                                                            </div>
                                                                        </div>
                                                                        <div class="text-field col s12">
                                                                            <div class="row">
                                                                                <label style="font-size: 0.9rem;">No. of Tasks:</label>
                                                                                <asp:Label runat="server" ID="lblNumberofTasks" Style="float: right !important; font-size: 0.9rem;"></asp:Label>
                                                                            </div>
                                                                        </div>
                                                                        <div class="text-field col s12">
                                                                            <div class="row">
                                                                                <label style="font-size: 0.9rem;">Total Hours:</label>
                                                                                <asp:Label runat="server" ID="lblTotalHours" Style="float: right !important; font-size: 0.9rem;"></asp:Label>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="form-section3-blank">&nbsp;</div>
                                                                    <div class="form-section3">
                                                                        <div class="text-field col s12">
                                                                            <div class="row">
                                                                                <label style="font-size: 0.9rem;">Start Date:</label>
                                                                                <asp:Label runat="server" Style="float: right !important; font-size: 0.9rem;" ID="lblStartDate"></asp:Label>
                                                                            </div>
                                                                        </div>
                                                                        <div class="text-field col s12">
                                                                            <div class="row">
                                                                                <label style="font-size: 0.9rem;">Next Due Task:</label>
                                                                                <asp:Label runat="server" ID="lblNextDueTask" Style="float: right !important; font-size: 0.9rem;"></asp:Label>
                                                                            </div>
                                                                        </div>
                                                                        <div class="text-field col s12">
                                                                            <div class="row">
                                                                                <label style="font-size: 0.9rem;">Total Days:</label>
                                                                                <asp:Label runat="server" ID="lblTotalDays" Style="float: right !important; font-size: 0.9rem;"></asp:Label>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </asp:Panel>
                                                            <div class="cf"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div id="tbpnTasks" class="col s12 tab-container-border lighten-4" style="display: none;">
                                        <div class="form-content-wrap">
                                            <div class="tabs-custom-mgn1" style="padding: 20px;">
                                                <div class="form-section3-blank">
                                                    &nbsp;
                                                </div>
                                                <div class="form-section-row">
                                                    <div class="row">
                                                        <%--<div class="form-section-row">
                                                            <div class="btnlinks">
                                                                <asp:LinkButton Text="Add" CausesValidation="false" OnClick="lnkAddTask_Click" ID="lnkAddTask" runat="server" Style="text-decoration: none; font-size: 14px;" />
                                                            </div>
                                                        </div>--%>

                                                        <div class="form-section-row">
                                                            <asp:Panel ID="Panel5" runat="server" Style="float: left; clear: both; width: 100%">
                                                                <div class="form-section-row">
                                                                    <div class="grid_container">
                                                                        <div class="RadGrid RadGrid_Material FormGrid">
                                                                            <telerik:RadCodeBlock ID="RadCodeBlock_Tasks" runat="server">
                                                                                <script type="text/javascript">
                                                                                    function pageLoad() {
                                                                                        var grid = $find("<%= RadGrid_Tasks.ClientID %>");
                                                                                        var columns = grid.get_masterTableView().get_columns();
                                                                                        for (var i = 0; i < columns.length; i++) {
                                                                                            columns[i].resizeToFit(false, true);
                                                                                        }
                                                                                    }

                                                                                    var requestInitiator = null;
                                                                                    var selectionStart = null;

                                                                                    function requestStart(sender, args) {
                                                                                        requestInitiator = document.activeElement.id;
                                                                                        if (document.activeElement.tagName == "INPUT") {
                                                                                            selectionStart = document.activeElement.selectionStart;
                                                                                        }
                                                                                    }

                                                                                    function responseEnd(sender, args) {
                                                                                        var element = document.getElementById(requestInitiator);
                                                                                        if (element && element.tagName == "INPUT") {
                                                                                            element.focus();
                                                                                            element.selectionStart = selectionStart;
                                                                                        }
                                                                                    }
                                                                                </script>
                                                                            </telerik:RadCodeBlock>
                                                                            <telerik:RadAjaxPanel ID="RadAjaxPanel_Tasks" runat="server" LoadingPanelID="RadAjaxLoadingPanel_Task" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">
                                                                                <telerik:RadGrid RenderMode="Auto" ID="RadGrid_Tasks" AllowFilteringByColumn="true" ShowFooter="True" PageSize="50"
                                                                                    OnNeedDataSource="RadGrid_Tasks_NeedDataSource" PagerStyle-AlwaysVisible="true"
                                                                                    ShowStatusBar="true" runat="server" AllowPaging="true" AllowSorting="true" Width="100%" AllowCustomPaging="True">
                                                                                    <CommandItemStyle />
                                                                                    <GroupingSettings CaseSensitive="false" />
                                                                                    <ClientSettings AllowColumnsReorder="true" ReorderColumnsOnClient="true">
                                                                                        <Selecting AllowRowSelect="True"></Selecting>
                                                                                        <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                                                                        <Resizing AllowColumnResize="true" ResizeGridOnColumnResize="true"></Resizing>
                                                                                    </ClientSettings>
                                                                                    <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="True" ShowFooter="True">
                                                                                        <Columns>

                                                                                            <telerik:GridClientSelectColumn UniqueName="ClientSelectColumn" HeaderStyle-Width="28">
                                                                                            </telerik:GridClientSelectColumn>

                                                                                            <telerik:GridBoundColumn DataField="Contact" HeaderText="Contact Name" SortExpression="Contact"
                                                                                                AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" HeaderStyle-Width="140"
                                                                                                ShowFilterIcon="false">
                                                                                            </telerik:GridBoundColumn>

                                                                                            <telerik:GridTemplateColumn SortExpression="Subject" HeaderText="Subject" HeaderStyle-Width="200" DataField="Subject" ShowFilterIcon="false">
                                                                                                <ItemTemplate>
                                                                                                    <asp:HyperLink ID="lnkSubject" NavigateUrl='<%# "addtask.aspx?uid=" + Eval("id") + "&redirect=" + HttpUtility.UrlEncode(Request.RawUrl) %>'
                                                                                                        Target="_self" runat="server" Text='<%# Eval("Subject") %>'></asp:HyperLink>
                                                                                                </ItemTemplate>
                                                                                            </telerik:GridTemplateColumn>

                                                                                            <telerik:GridTemplateColumn SortExpression="duedate" HeaderText="Due Date/Date Done" HeaderStyle-Width="150" DataField="duedate" ShowFilterIcon="false">
                                                                                                <ItemTemplate>
                                                                                                    <asp:Label ID="lblDuedate" runat="server" Style='<%#  Eval("statusid").ToString()!="1" ?( string.Format("color:{0}",Convert.ToDateTime( Eval("duedate") )<= System.DateTime.Now ? "RED": "BLACK")) : "Black" %>'
                                                                                                        Text='<%# (String.IsNullOrEmpty(Eval("duedate").ToString())) ? "No Date Available" : Eval("duedate", "{0:MM/dd/yyyy h:mm tt}") %>'></asp:Label>
                                                                                                </ItemTemplate>
                                                                                            </telerik:GridTemplateColumn>

                                                                                            <telerik:GridTemplateColumn SortExpression="days" HeaderText="# Days" HeaderStyle-Width="80" DataField="days" ShowFilterIcon="false">
                                                                                                <ItemTemplate>
                                                                                                    <asp:Label ID="lbldays" runat="server" Text='<%#   Eval("days").ToString().Replace("-",String.Empty) %>'></asp:Label>
                                                                                                </ItemTemplate>
                                                                                            </telerik:GridTemplateColumn>

                                                                                            <telerik:GridBoundColumn DataField="Remarks" HeaderText="Desc" HeaderStyle-Width="200"
                                                                                                AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" SortExpression="Remarks"
                                                                                                ShowFilterIcon="false">
                                                                                            </telerik:GridBoundColumn>

                                                                                            <telerik:GridBoundColumn DataField="result" HeaderText="Resolution" HeaderStyle-Width="200"
                                                                                                AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" SortExpression="result"
                                                                                                ShowFilterIcon="false">
                                                                                            </telerik:GridBoundColumn>

                                                                                            <telerik:GridBoundColumn DataField="fUser" HeaderText="Assigned to" HeaderStyle-Width="140"
                                                                                                AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" SortExpression="fUser"
                                                                                                ShowFilterIcon="false">
                                                                                            </telerik:GridBoundColumn>

                                                                                            <telerik:GridBoundColumn DataField="status" HeaderText="Status" HeaderStyle-Width="120"
                                                                                                AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" SortExpression="status"
                                                                                                ShowFilterIcon="false">
                                                                                            </telerik:GridBoundColumn>
                                                                                            <telerik:GridBoundColumn DataField="keyword" HeaderText="Category" HeaderStyle-Width="120"
                                                                                                AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" SortExpression="keyword"
                                                                                                ShowFilterIcon="false">
                                                                                            </telerik:GridBoundColumn>
                                                                                            <telerik:GridBoundColumn DataField="CreatedBy" HeaderText="Created By" HeaderStyle-Width="120"
                                                                                                AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" SortExpression="CreatedBy"
                                                                                                ShowFilterIcon="false">
                                                                                            </telerik:GridBoundColumn>
                                                                                            <telerik:GridTemplateColumn SortExpression="CreatedDate" HeaderText="Created Date" HeaderStyle-Width="150" DataField="CreatedDate" ShowFilterIcon="false">
                                                                                                <ItemTemplate>
                                                                                                    <asp:Label ID="lblCreatedDate" runat="server"
                                                                                                        Text='<%# (String.IsNullOrEmpty(Eval("CreatedDate").ToString())) ? "" : Eval("CreatedDate", "{0:MM/dd/yyyy h:mm tt}") %>'></asp:Label>
                                                                                                </ItemTemplate>
                                                                                            </telerik:GridTemplateColumn>
                                                                                            <telerik:GridBoundColumn DataField="screen" HeaderText="Screen" HeaderStyle-Width="120"
                                                                                                AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" SortExpression="screen"
                                                                                                ShowFilterIcon="false">
                                                                                            </telerik:GridBoundColumn>
                                                                                            <telerik:GridBoundColumn DataField="ref" HeaderText="Ref ID" HeaderStyle-Width="100"
                                                                                                AutoPostBackOnFilter="true" CurrentFilterFunction="Contains" SortExpression="ref"
                                                                                                ShowFilterIcon="false">
                                                                                            </telerik:GridBoundColumn>

                                                                                        </Columns>
                                                                                    </MasterTableView>
                                                                                </telerik:RadGrid>
                                                                            </telerik:RadAjaxPanel>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </asp:Panel>
                                                            <div class="cf"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div id="tblpnNotes">
                                        <div style="padding-top: 20px;">
                                            <div class="form-section-row">
                                                <div class="col s12 m12 l12">
                                                    <div class="form-section-row">
                                                        <div class="form-section4">
                                                            <div class="input-field col s12">
                                                                <div class="row">
                                                                    <asp:TextBox ID="txtJobCust1" runat="server" class="filled-in" />
                                                                    <label id="lblJobCust1" runat="server" for="txtJobCust1" style="top: -1px !important">Custom 1</label>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="form-section3-blank">
                                                            &nbsp;
                                                        </div>
                                                        <div class="form-section4">
                                                            <div class="input-field col s12">
                                                                <div class="row">
                                                                    <asp:TextBox ID="txtJobCust2" runat="server" class="filled-in" />
                                                                    <label id="lblJobCust2" runat="server" for="txtJobCust2" style="top: -1px !important">Custom 2</label>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="form-section3-blank">
                                                            &nbsp;
                                                        </div>
                                                        <div class="form-section4">
                                                            <div class="input-field col s12">
                                                                <div class="row">
                                                                    <asp:TextBox ID="txtJobCust3" runat="server" class="filled-in" />
                                                                    <label id="lblJobCust3" runat="server" for="txtJobCust3" style="top: -1px !important">Custom 3</label>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="form-section3-blank">
                                                            &nbsp;
                                                        </div>
                                                        <div class="form-section4">
                                                            <div class="input-field col s12">
                                                                <div class="row">
                                                                    <asp:TextBox ID="txtJobCust4" runat="server" class="filled-in" />
                                                                    <label id="lblJobCust4" runat="server" for="txtJobCust4" style="top: -1px !important">Custom 2</label>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                    <div class="form-section-row">
                                                        <div class="form-section4">
                                                            <div class="input-field col s12">
                                                                <div class="row">
                                                                    <asp:TextBox ID="txtJobCust5" runat="server" class="filled-in" />
                                                                    <label id="lblJobCust5" runat="server" for="txtJobCust5" style="top: -1px !important">Custom 1</label>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="form-section3-blank">
                                                            &nbsp;
                                                        </div>
                                                        <div class="form-section4">
                                                            <div class="input-field col s12">
                                                                <div class="row">
                                                                    <asp:TextBox ID="txtJobCust6" runat="server" class="filled-in" />
                                                                    <label id="lblJobCust6" runat="server" for="txtJobCust6" style="top: -1px !important">Custom 2</label>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="form-section3-blank">
                                                            &nbsp;
                                                        </div>
                                                        <div class="form-section4">
                                                            <div class="input-field col s12">
                                                                <div class="row">
                                                                    <asp:TextBox ID="txtJobCust7" runat="server" class="filled-in" />
                                                                    <label id="lblJobCust7" runat="server" for="txtJobCust7" style="top: -1px !important">Custom 2</label>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="form-section3-blank">
                                                            &nbsp;
                                                        </div>
                                                        <div class="form-section4">
                                                            <div class="input-field col s12">
                                                                <div class="row">
                                                                    <asp:TextBox ID="txtJobCust8" runat="server" class="filled-in" />
                                                                    <label id="lblJobCust8" runat="server" for="txtJobCust8" style="top: -1px !important">Custom 2</label>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                    <div class="form-section-row">
                                                        <div class="form-section4">
                                                            <div class="input-field col s12">
                                                                <div class="row">
                                                                    <asp:TextBox ID="txtJobCust9" runat="server" class="filled-in" />
                                                                    <label id="lblJobCust9" runat="server" for="txtJobCust9" style="top: -1px !important">Custom 1</label>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="form-section3-blank">
                                                            &nbsp;
                                                        </div>
                                                        <div class="form-section4">
                                                            <div class="input-field col s12">
                                                                <div class="row">
                                                                    <asp:TextBox ID="txtJobCust10" runat="server" class="filled-in" />
                                                                    <label id="lblJobCust10" runat="server" for="txtJobCust10" style="top: -1px !important">Custom 2</label>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="form-section3-blank">
                                                            &nbsp;
                                                        </div>
                                                        <div class="form-section4">
                                                            <div class="input-field col s12">
                                                                <div class="row">
                                                                    <asp:TextBox ID="txtJobCust11" runat="server" class="filled-in" />
                                                                    <label id="lblJobCust11" runat="server" for="txtJobCust11" style="top: -1px !important">Custom 2</label>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="form-section3-blank">
                                                            &nbsp;
                                                        </div>
                                                        <div class="form-section4">
                                                            <div class="input-field col s12">
                                                                <div class="row">
                                                                    <asp:TextBox ID="txtJobCust12" runat="server" class="filled-in" />
                                                                    <label id="lblJobCust12" runat="server" for="txtJobCust12" style="top: -1px !important">Custom 2</label>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                    <div class="form-section-row">
                                                        <div class="form-section4">
                                                            <div class="input-field col s12">
                                                                <div class="row">
                                                                    <asp:TextBox ID="txtJobCust13" runat="server" class="filled-in" />
                                                                    <label id="lblJobCust13" runat="server" for="txtJobCust13" style="top: -1px !important">Custom 1</label>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="form-section3-blank">
                                                            &nbsp;
                                                        </div>
                                                        <div class="form-section4">
                                                            <div class="input-field col s12">
                                                                <div class="row">
                                                                    <asp:TextBox ID="txtJobCust14" runat="server" class="filled-in" />
                                                                    <label id="lblJobCust14" runat="server" for="txtJobCust14" style="top: -1px !important">Custom 2</label>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="form-section3-blank">
                                                            &nbsp;
                                                        </div>
                                                        <div class="form-section4">
                                                            <div class="input-field col s12">
                                                                <div class="row">
                                                                    <asp:TextBox ID="txtJobCust15" runat="server" class="filled-in" />
                                                                    <label id="lblJobCust15" runat="server" for="txtJobCust15" style="top: -1px !important">Custom 2</label>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="form-section3-blank">
                                                            &nbsp;
                                                        </div>
                                                        <div class="form-section4">
                                                            <div class="input-field col s12">
                                                                <div class="row">
                                                                    <asp:TextBox ID="txtJobCust16" runat="server" class="filled-in" />
                                                                    <label id="lblJobCust16" runat="server" for="txtJobCust16" style="top: -1px !important">Custom 2</label>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                    <div class="form-section-row">
                                                        <div class="form-section4">
                                                            <div class="input-field col s12">
                                                                <div class="row">
                                                                    <asp:TextBox ID="txtJobCust17" runat="server" class="filled-in" />
                                                                    <label id="lblJobCust17" runat="server" for="txtJobCust17" style="top: -1px !important">Custom 1</label>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="form-section3-blank">
                                                            &nbsp;
                                                        </div>
                                                        <div class="form-section4">
                                                            <div class="input-field col s12">
                                                                <div class="row">
                                                                    <asp:TextBox ID="txtJobCust18" runat="server" class="filled-in" />
                                                                    <label id="lblJobCust18" runat="server" for="txtJobCust18" style="top: -1px !important">Custom 2</label>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="form-section3-blank">
                                                            &nbsp;
                                                        </div>
                                                        <div class="form-section4">
                                                            <div class="input-field col s12">
                                                                <div class="row">
                                                                    <asp:TextBox ID="txtJobCust19" runat="server" class="filled-in" />
                                                                    <label id="lblJobCust19" runat="server" for="txtJobCust19" style="top: -1px !important">Custom 2</label>
                                                                </div>
                                                            </div>

                                                        </div>
                                                        <div class="form-section3-blank">
                                                            &nbsp;
                                                        </div>
                                                        <div class="form-section4">
                                                            <div class="input-field col s12">
                                                                <div class="row">
                                                                    <asp:TextBox ID="txtJobCust20" runat="server" class="filled-in" />
                                                                    <label id="lblJobCust20" runat="server" for="txtJobCust20" style="top: -1px !important">Custom 2</label>
                                                                </div>
                                                            </div>

                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div id="popup" class="form-section-row">
                            <div class="row">
                                <a href="#" runat="server" value="Add New" id="btnAddNew"></a><%--onclick="getAccount();"--%>
                                <asp:ModalPopupExtender ID="mpeAddBomType" BackgroundCssClass="ModalPopupBG"
                                    runat="server" CancelControlID="btnCancel" OkControlID="btnOkay"
                                    TargetControlID="btnAddNew" BehaviorID="programmaticModalPopupBehavior"
                                    PopupControlID="pnlAddBomType" Drag="true" PopupDragHandleControlID="PopupHeader" OnOkScript="ReloadPage();">
                                </asp:ModalPopupExtender>
                                <div class="popup_Buttons" style="display: none">
                                    <input id="btnOkay" value="Done" type="button" />
                                    <input id="btnCancel" value="Cancel" type="button" />
                                </div>
                                <div id="pnlAddBomType" class="new_popupCSS" style="display: none; width: 350px !important;">
                                    <div>
                                        <div class="title_bar_popup">
                                            <span class="rwIcon">
                                                <asp:Label CssClass="title_text" Style="color: white" ID="lblAddBomType" runat="server">Add BOM Type</asp:Label>
                                            </span>
                                            <div style="float: right;">
                                                <a onclick="$find('programmaticModalPopupBehavior').hide()" style="cursor: pointer; float: right; color: #fff; margin-left: 10px; height: 16px;"><span class="rwCommandButton rwCloseButton t-ripple-effect-icon t-ripple-center" title="Close"><span class="t-ripple-container"><span class="t-ripple t-ripple-white" style="background-color: rgb(255, 255, 255); width: 35px; height: 35px; transform: translate(-50%, -50%) translate(11px, 11px);"></span></span></span></a>
                                                <asp:LinkButton runat="server" ID="lbtnTypeSubmit" ValidationGroup="Type" Text="Save" OnClick="lbtnTypeSubmit_Click" Style="float: right; color: #fff; margin-left: 10px;" />
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                        <div id="addBOMBody" style="margin: 10px;">
                                            <div class="form-section-row">
                                                <div class="input-field col s12">
                                                    <div class="row">
                                                        <label for="txtBomType">BOM Type</label>
                                                        <asp:TextBox ID="txtBomType" runat="server"
                                                            MaxLength="150"></asp:TextBox>
                                                        <asp:RequiredFieldValidator ID="rfvBomType"
                                                            runat="server" ControlToValidate="txtBomType" Display="None" ErrorMessage="Type is required"
                                                            SetFocusOnError="True" ValidationGroup="Type"></asp:RequiredFieldValidator>
                                                        <asp:ValidatorCalloutExtender
                                                            ID="vceBomType" runat="server" Enabled="True"
                                                            PopupPosition="BottomLeft" TargetControlID="rfvBomType" />
                                                    </div>
                                                </div>
                                            </div>
                                            <div style="clear: both;"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col s12 m12 l12">
                    <div class="row">
                        <ul class="collapsible popout collapsible-accordion form-accordion-head" data-collapsible="expandable">
                            <li id="tbLogs" runat="server" style="display: none">
                                <div id="accrdlogs" onclick="LoadLogs();" class="collapsible-header accrd accordian-text-custom"><i class="mdi-content-content-paste"></i>Logs</div>
                                <div class="collapsible-body">
                                    <div class="form-content-wrap">
                                        <div class="form-content-pd">
                                            <div class="grid_container">
                                                <div class="form-section-row" style="margin-bottom: 0 !important;">
                                                    <div class="RadGrid RadGrid_Material">
                                                        <asp:HiddenField ID="hdnLoadLogs" runat="server" Value="0" />
                                                        <asp:LinkButton ID="lnkLoadLogs" Style="display: none;" runat="server" Text="" OnClick="lnkLoadLogs_Click" />
                                                        <%--<telerik:RadAjaxPanel ID="RadAjaxPanel_gvLogs" runat="server" ClientEvents-OnRequestStart="requestStart" ClientEvents-OnResponseEnd="responseEnd">--%>
                                                        <telerik:RadGrid RenderMode="Auto" ID="RadGrid_gvLogs" AllowFilteringByColumn="true" ShowFooter="True" PageSize="50" PagerStyle-AlwaysVisible="true" OnItemCreated="RadGrid_gvLogs_ItemCreated"
                                                            ShowStatusBar="true" runat="server" AllowPaging="True" AllowSorting="true" Width="100%" FilterType="CheckList" AllowCustomPaging="True" OnNeedDataSource="RadGrid_gvLogs_NeedDataSource">
                                                            <CommandItemStyle />
                                                            <GroupingSettings CaseSensitive="false" />
                                                            <ClientSettings AllowColumnsReorder="true" ReorderColumnsOnClient="true">
                                                                <Selecting AllowRowSelect="True"></Selecting>
                                                                <Scrolling AllowScroll="true" SaveScrollPosition="true" UseStaticHeaders="true" />
                                                                <Resizing AllowColumnResize="true" ResizeGridOnColumnResize="true"></Resizing>
                                                            </ClientSettings>
                                                            <MasterTableView AutoGenerateColumns="false" AllowFilteringByColumn="True" ShowFooter="True" AllowNaturalSort="false" DataKeyNames="fUser">
                                                                <Columns>
                                                                    <telerik:GridTemplateColumn DataField="CreatedStamp" SortExpression="CreatedStamp" AutoPostBackOnFilter="true" DataType="System.String"
                                                                        CurrentFilterFunction="Contains" HeaderText="Date" ShowFilterIcon="false">
                                                                        <ItemTemplate>
                                                                            <asp:Label ID="lbldate" runat="server" Text='<%# Eval("CreatedStamp", "{0:M/d/yyyy}")%>'></asp:Label>
                                                                        </ItemTemplate>
                                                                    </telerik:GridTemplateColumn>
                                                                    <telerik:GridTemplateColumn DataField="CreatedStamp" SortExpression="CreatedStamp" AutoPostBackOnFilter="true" DataType="System.String"
                                                                        CurrentFilterFunction="Contains" HeaderText="Time" ShowFilterIcon="false">
                                                                        <ItemTemplate>
                                                                            <asp:Label ID="lbltime" runat="server" Text='<%# Eval("CreatedStamp","{0: hh:mm tt}") %>'></asp:Label>
                                                                        </ItemTemplate>
                                                                    </telerik:GridTemplateColumn>
                                                                    <telerik:GridTemplateColumn DataField="fUser" SortExpression="fUser" AutoPostBackOnFilter="true"
                                                                        CurrentFilterFunction="Contains" HeaderText="User" ShowFilterIcon="false">
                                                                        <ItemTemplate>
                                                                            <asp:Label ID="lblUpdBy" runat="server" Text='<%# Eval("fUser") %>'></asp:Label>
                                                                        </ItemTemplate>
                                                                    </telerik:GridTemplateColumn>
                                                                    <telerik:GridTemplateColumn DataField="Field" SortExpression="Field" AutoPostBackOnFilter="true"
                                                                        CurrentFilterFunction="Contains" HeaderText="Field" ShowFilterIcon="false">
                                                                        <ItemTemplate>
                                                                            <asp:Label ID="lblField" runat="server" Text='<%# Eval("field") %>'></asp:Label>
                                                                        </ItemTemplate>
                                                                    </telerik:GridTemplateColumn>
                                                                    <telerik:GridTemplateColumn DataField="OldVal" SortExpression="OldVal" AutoPostBackOnFilter="true"
                                                                        CurrentFilterFunction="Contains" HeaderText="Old Value" ShowFilterIcon="false" HeaderStyle-Width="305">
                                                                        <ItemTemplate>
                                                                            <asp:Label ID="lblOldVal" runat="server" Text='<%# Eval("OldVal") %>'></asp:Label>
                                                                        </ItemTemplate>
                                                                    </telerik:GridTemplateColumn>
                                                                    <telerik:GridTemplateColumn DataField="NewVal" SortExpression="NewVal" AutoPostBackOnFilter="true"
                                                                        CurrentFilterFunction="Contains" HeaderText="New Value" ShowFilterIcon="false" HeaderStyle-Width="305">
                                                                        <ItemTemplate>
                                                                            <asp:Label ID="lblNewVal" runat="server" Text='<%# Eval("NewVal") %>'></asp:Label>
                                                                        </ItemTemplate>
                                                                    </telerik:GridTemplateColumn>
                                                                </Columns>
                                                            </MasterTableView>
                                                        </telerik:RadGrid>
                                                        <%--</telerik:RadAjaxPanel>--%>
                                                    </div>

                                                </div>
                                            </div>

                                            <div class="cf"></div>
                                        </div>
                                    </div>
                                    <div style="clear: both;"></div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <asp:Panel ID="pnlOpenEmailPop" runat="server" CssClass="new_popupCSS">
        <asp:Panel ID="pnlOpenEmail" runat="server">
            <div class="title_bar_popup">
                <span class="rwIcon">
                    <asp:Label ID="Label5" runat="server" CssClass="title_text" Style="color: white">Email Preview</asp:Label>
                </span>
                <div style="float: right;">
                    <a onclick="$find('OpenEmailBehavior').hide()" style="cursor: pointer; float: right; color: #fff; margin-left: 10px; height: 16px;"><span class="rwCommandButton rwCloseButton t-ripple-effect-icon t-ripple-center" title="Close"><span class="t-ripple-container"><span class="t-ripple t-ripple-white" style="background-color: rgb(255, 255, 255); width: 35px; height: 35px; transform: translate(-50%, -50%) translate(11px, 11px);"></span></span></span></a>
                    <asp:LinkButton runat="server" ID="btnSendEmail" Text="Send" OnClick="btnSendEmail_Click" Style="float: right; color: #fff; margin-left: 10px;" />
                </div>
            </div>
            <div class="clearfix"></div>
            <div id="OpenEmailcontent" style="margin: 10px;">
                <div class="form-section-row">
                    <div class="form-section3" style="width: 780px;">
                        <div class="input-field col s12">
                            <iframe style="width: 780px; height: 500px;" id="myframe" runat="server" class="iframeCss"></iframe>
                        </div>
                    </div>
                </div>
                <div style="clear: both;"></div>
            </div>
            <div id="button_OpenEmail" style="float: right; margin: 10px;">
            </div>
        </asp:Panel>
    </asp:Panel>

    <asp:Panel ID="pnlPop" runat="server" CssClass="new_popupCSS pnlPopCss">
        <asp:Panel ID="pnlGenerateReport" runat="server">
            <div class="title_bar_popup">
                <span class="rwIcon">
                    <asp:Label ID="Label2" runat="server" CssClass="title_text" Style="color: white; font-size: 20px">Choose Invoice</asp:Label></span>
                <a onclick="$find('GenerateReportBehavior').hide()" style="cursor: pointer; float: right; color: #fff; margin-left: 10px; height: 16px;"><span class="rwCommandButton rwCloseButton t-ripple-effect-icon t-ripple-center" title="Close"><span class="t-ripple-container"><span class="t-ripple t-ripple-white" style="background-color: rgb(255, 255, 255); width: 35px; height: 35px; transform: translate(-50%, -50%) translate(11px, 11px);"></span></span></span></a>
            </div>
            <div class="clearfix"></div>
            <div id="content">
                <div class="form-section-row">
                    <div class="form-section">
                        <div class="input-field col s12">
                            <div class="checkrow">
                                <div class="row">
                                    <span class="tro">
                                        <asp:CheckBox ID="chkPrintInvoice" Text="Invoices" runat="server" Checked="true" CssClass="css-checkbox" />
                                    </span>
                                </div>
                            </div>
                        </div>

                        <div class="input-field col s12">
                            <div class="checkrow">
                                <div class="row">
                                    <span class="tro">
                                        <asp:CheckBox ID="chkAIAReport" runat="server" Text="AIA Report" Checked="true" CssClass="css-checkbox" />
                                    </span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="clear: both;"></div>
            </div>
            <div id="button_template" style="float: right; margin: 10px;">
                <asp:Button ID="btnGenerateReport" CssClass="btn btn-primary" runat="server" OnClick="btnGenerateReport_Click" Text="Preview" />
            </div>
            <div id="button_PreviewandEmail" style="float: right; margin: 10px;">
                <asp:Button ID="btnOpenEmail" CssClass="btn btn-primary" runat="server" Text="Preview & Email" OnClick="btnOpenEmail_Click" />
            </div>
        </asp:Panel>
    </asp:Panel>

    <asp:Panel ID="pnlSendEmailPop" runat="server" CssClass="new_popupCSS">
        <asp:Panel ID="pnlSendEmail" runat="server">
            <div class="title_bar_popup">
                <span class="rwIcon">
                    <asp:Label ID="Label6" runat="server" CssClass="title_text" Style="color: white">Send Email</asp:Label></span>
                <div>
                    <a onclick="CloseEmailPopup();" style="cursor: pointer; float: right; color: #fff; margin-left: 10px; height: 16px;"><span class="rwCommandButton rwCloseButton t-ripple-effect-icon t-ripple-center" title="Close"><span class="t-ripple-container"><span class="t-ripple t-ripple-white" style="background-color: rgb(255, 255, 255); width: 35px; height: 35px; transform: translate(-50%, -50%) translate(11px, 11px);"></span></span></span></a>
                    <asp:LinkButton runat="server" ID="btnEmailInvoice" Text="Send"
                        OnClick="btnEmailInvoice_Click"
                        Style="float: right; color: #fff; margin-left: 10px;" ValidationGroup="mail" />
                </div>
            </div>
            <div class="clearfix"></div>
            <div id="SendEmailcontent" style="margin: 10px; height: 550px; overflow-y: scroll; overflow-x: hidden;">
                <div class="col-lg-12 col-md-12">
                    <div class="col-md-8 col-lg-8">
                        <div class="form-col">
                            <div class="fc-label">
                                <label>From</label>
                            </div>
                            <div class="fc-input">
                                <asp:TextBox ID="txtFrom" runat="server" CssClass="form-control" Text="info@mom.com" ToolTip="From" Placeholder="From"></asp:TextBox>
                                <asp:FilteredTextBoxExtender ID="txtFrom_FilteredTextBoxExtender"
                                    runat="server" Enabled="True" FilterMode="InvalidChars" InvalidChars=" "
                                    TargetControlID="txtFrom">
                                </asp:FilteredTextBoxExtender>
                                <asp:RegularExpressionValidator ID="RegularExpressionValidator3" runat="server"
                                    ControlToValidate="txtFrom" Display="None"
                                    ErrorMessage="Invalid E-Mail Address"
                                    ValidationExpression="^((\s*[a-zA-Z0-9\._%-]+@[a-zA-Z0-9\.-]+\.[a-zA-Z]{2,6}\s*[,;:]){1,100}?)?(\s*[a-zA-Z0-9\._%-]+@[a-zA-Z0-9\.-]+\.[a-zA-Z]{2,6})*$"
                                    ValidationGroup="mail"></asp:RegularExpressionValidator>
                                <asp:ValidatorCalloutExtender ID="RegularExpressionValidator3_ValidatorCalloutExtender"
                                    runat="server" Enabled="True" TargetControlID="RegularExpressionValidator3">
                                </asp:ValidatorCalloutExtender>
                                <asp:RequiredFieldValidator ID="RequiredFieldValidator2" runat="server"
                                    ControlToValidate="txtFrom" Display="None"
                                    ErrorMessage="Please Enter E-Mail Address" SetFocusOnError="True"
                                    ValidationGroup="mail"></asp:RequiredFieldValidator>
                                <asp:ValidatorCalloutExtender ID="RequiredFieldValidator2_ValidatorCalloutExtender"
                                    runat="server" Enabled="True" TargetControlID="RequiredFieldValidator2">
                                </asp:ValidatorCalloutExtender>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="fc-label">
                                <label>To</label>
                            </div>
                            <div class="fc-input">
                                <asp:TextBox ID="txtTo" runat="server" CssClass="form-control" ToolTip="To" Placeholder="To"></asp:TextBox>
                                <asp:FilteredTextBoxExtender ID="txtTo_FilteredTextBoxExtender" runat="server"
                                    Enabled="True" FilterMode="InvalidChars" InvalidChars=" "
                                    TargetControlID="txtTo">
                                </asp:FilteredTextBoxExtender>
                                <asp:RegularExpressionValidator ID="RegularExpressionValidator4" runat="server"
                                    ControlToValidate="txtTo" Display="None" ErrorMessage="Invalid E-Mail Address"
                                    ValidationExpression="^((\s*[a-zA-Z0-9\._%-]+@[a-zA-Z0-9\.-]+\.[a-zA-Z]{2,6}\s*[,;:]){1,100}?)?(\s*[a-zA-Z0-9\._%-]+@[a-zA-Z0-9\.-]+\.[a-zA-Z]{2,6})*$"
                                    ValidationGroup="mail"></asp:RegularExpressionValidator>
                                <asp:ValidatorCalloutExtender ID="RegularExpressionValidator4_ValidatorCalloutExtender"
                                    runat="server" Enabled="True" TargetControlID="RegularExpressionValidator4">
                                </asp:ValidatorCalloutExtender>
                                <asp:RequiredFieldValidator ID="RequiredFieldValidator3" runat="server"
                                    ControlToValidate="txtTo" Display="None"
                                    ErrorMessage="Please Enter E-Mail Address" SetFocusOnError="True"
                                    ValidationGroup="mail"></asp:RequiredFieldValidator>
                                <asp:ValidatorCalloutExtender ID="RequiredFieldValidator3_ValidatorCalloutExtender"
                                    runat="server" Enabled="True" TargetControlID="RequiredFieldValidator3">
                                </asp:ValidatorCalloutExtender>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="fc-label">
                                <label>Cc</label>
                            </div>
                            <div class="fc-input">
                                <asp:TextBox ID="txtCC" runat="server" CssClass="form-control" ToolTip="Cc" Placeholder="Cc"></asp:TextBox>
                                <asp:FilteredTextBoxExtender ID="txtCC_FilteredTextBoxExtender" runat="server"
                                    Enabled="True" FilterMode="InvalidChars" InvalidChars=" "
                                    TargetControlID="txtCC">
                                </asp:FilteredTextBoxExtender>
                                <asp:RegularExpressionValidator ID="RegularExpressionValidator5" runat="server"
                                    ControlToValidate="txtCC" Display="None" ErrorMessage="Invalid E-Mail Address"
                                    ValidationExpression="^((\s*[a-zA-Z0-9\._%-]+@[a-zA-Z0-9\.-]+\.[a-zA-Z]{2,6}\s*[,;:]){1,100}?)?(\s*[a-zA-Z0-9\._%-]+@[a-zA-Z0-9\.-]+\.[a-zA-Z]{2,6})*$"
                                    ValidationGroup="mail"></asp:RegularExpressionValidator>
                                <asp:ValidatorCalloutExtender ID="RegularExpressionValidator5_ValidatorCalloutExtender"
                                    runat="server" Enabled="True" TargetControlID="RegularExpressionValidator5">
                                </asp:ValidatorCalloutExtender>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="fc-label">
                                <label>Subject</label>
                            </div>
                            <div class="fc-input">
                                <asp:TextBox ID="txtSubject" runat="server" CssClass="form-control" ToolTip="Subject" Placeholder="Subject"></asp:TextBox>
                            </div>
                        </div>
                        <%--<div class="form-col">
                           <div class="fc-label">
                               <label>Attechmet</label>
                           </div>
                           <div class="fc-input">
                               <asp:Label Text="Invoice.pdf" runat="server" />
                           </div>
                       </div>--%>
                        <div class="form-col">
                            <div class="fc-label">
                                <label>Attachment</label>
                            </div>
                            <div class="fc-input">
                                <asp:FileUpload ID="FileUpload1" runat="server" Width="500px" onchange="UploadAttachment(this.value);" />
                                <asp:LinkButton ID="lnkUploadAttachment" runat="server" CausesValidation="False" OnClick="lnkUploadAttachment_Click"></asp:LinkButton>
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="fc-label">
                                &nbsp;
                            </div>
                            <div class="fc-input">
                                <ul class="brws-list">
                                    <asp:DataList ID="dlAttachmentsDelete" runat="server" CellPadding="0" CellSpacing="5"
                                        RepeatColumns="5" RepeatDirection="Horizontal">
                                        <ItemTemplate>
                                            <asp:LinkButton CommandArgument='<%# Container.DataItem %>' ID="btnAttachmentDel"
                                                Style="color: #000;" runat="server" OnClick="btnAttachmentDel_Click" Text='<%# System.IO.Path.GetFileName(Container.DataItem.ToString()) %>'></asp:LinkButton>
                                            <asp:ImageButton ID="imgDelAttach" CommandArgument='<%# Container.DataItem %>' Width="12px"
                                                runat="server" OnClick="imgDelAttach_Click" ImageUrl="images/delete-grid.png" />
                                        </ItemTemplate>
                                    </asp:DataList>
                                </ul>
                                <asp:HiddenField ID="hdnFirstAttachement" runat="server" Value="" />
                            </div>
                        </div>
                        <div class="form-col">
                            <div class="fc-label">
                                <label>Body</label>
                            </div>
                            <div class="fc-input">
                                <asp:TextBox ID="txtBody" CssClass="form-control" runat="server" TextMode="MultiLine"
                                    Rows="10" Height="350px"></asp:TextBox>
                                <asp:HtmlEditorExtender ID="htmlEditorExtender1" TargetControlID="txtBody"
                                    runat="server" EnableSanitization="False" Enabled="True">
                                </asp:HtmlEditorExtender>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="clear: both;"></div>
            </div>
        </asp:Panel>
    </asp:Panel>

    <asp:HiddenField runat="server" ID="hdnAddeTicket" Value="Y" />
    <asp:HiddenField runat="server" ID="hdnEditeTicket" Value="Y" />
    <asp:HiddenField runat="server" ID="hdnDeleteTicket" Value="Y" />
    <asp:HiddenField runat="server" ID="hdnviewTicket" Value="Y" />
    <input id="hdnUnitID" runat="server" type="hidden" />
    <asp:HiddenField runat="server" ID="hdnFinancePermission" Value="Y" />
    <asp:HiddenField runat="server" ID="hdnBOMPermission" Value="YYYY" />
    <asp:HiddenField runat="server" ID="hdnMilestonesPermission" Value="YYYY" />
    <asp:HiddenField runat="server" ID="hdngvBOMViewPermission" Value="Y" />
    <asp:HiddenField runat="server" ID="hdngvMilestonesViewPermission" Value="Y" />
    <!-- Hidden Field -->
    <asp:HiddenField runat="server" ID="hdnAddeContact" Value="Y" />
    <asp:HiddenField runat="server" ID="hdnEditeContact" Value="Y" />
    <asp:HiddenField runat="server" ID="hdnDeleteContact" Value="Y" />
    <asp:HiddenField runat="server" ID="hdnViewContact" Value="Y" />
    <!-- Hidden Field -->
    <asp:HiddenField runat="server" ID="hdnprojectID" Value="0" />
    <asp:HiddenField ID="hdnMilestone" runat="server" />
    <asp:HiddenField ID="hdnCustomJSON" runat="server" />
    <asp:HiddenField runat="server" ID="hdnAddeDocument" Value="Y" />
    <asp:HiddenField runat="server" ID="hdnTHPermission" Value="0" />
    <asp:HiddenField ID="hdnGroupUpdateMode" runat="server" />
    <asp:HiddenField ID="hdnEmailPopupOpened" runat="server" />
    <asp:HiddenField ID="hdnGST" runat="server" />
    <asp:HiddenField ID="hdnTaxType" runat="server" />
    <asp:HiddenField ID="hdnPeriodStartDate" runat="server" Value="0" />
    <asp:HiddenField ID="hdnPeriodEndDate" runat="server" Value="0" />
</asp:Content>

<asp:Content ID="Content3" ContentPlaceHolderID="javascriptHolder" runat="Server">

    <script>
        function updategridindex() {
            // debugger
            var grid1 = 1;
           // if ($('#<%= ddlType.ClientID%>').length) {
            $("[id$='gvBOM_GridData']  tbody > tr").each(function () {
                var cat = $(this).find('input:hidden[id*="hdnOrderNo"]');
                if (cat != null && cat.length > 0) {
                    cat.val(grid1);
                    grid1 = grid1 + 1;
                }
            });
            // }
        }
        function updatemilgridindex() {
            var grid1 = 1;
            $("[id$='gvMilestones_GridData']  tbody > tr").each(function () {
                var cat = $(this).find('input:hidden[id*="hdnOrderNoMil"]');
                if (cat !== null && cat.length > 0) {
                    cat.val(grid1);
                    grid1 = grid1 + 1;
                }
            });
        }

        //Begin PageLoad
        function pageLoad(sender, args) {

            Materialize.updateTextFields();
            $('.dropdown-button').dropdown({
                inDuration: 300,
                outDuration: 225,
                constrainWidth: false, // Does not change width of dropdown to that of the activator
                hover: true, // Activate on hover
                gutter: 0, // Spacing from edge
                belowOrigin: true, // Displays dropdown below the button
                alignment: 'left', // Displays dropdown with edge aligned to the left of button
                stopPropagation: false // Stops event propagation
            }
            );

            $("[id$='gvBOM_GridData']").sortable({
                items: 'tr',
                handle: ".handle",
                cursor: 'move',
                axis: 'y',
                dropOnEmpty: false,
                start: function (e, ui) {
                    ui.item.addClass("selected");
                },
                stop: function (e, ui) {
                    ui.item.removeClass("selected", 1000, "swing");
                    updategridindex();
                },
                receive: function (e, ui) {
                    $(this).find("tbody").append(ui.item);
                }
            });
            $("[id$='gvMilestones_GridData']").sortable({
                items: 'tr',
                handle: ".handle",
                cursor: 'move',
                axis: 'y',
                dropOnEmpty: false,
                start: function (e, ui) {
                    ui.item.addClass("selected");
                },
                stop: function (e, ui) {
                    ui.item.removeClass("selected", 1000, "swing");
                    updatemilgridindex();
                },
                receive: function (e, ui) {
                    $(this).find("tbody").append(ui.item);
                }
            });

            if (typeof (Materialize) != 'undefined' && typeof (Materialize.updateTextFields) == 'function') {
                Materialize.updateTextFields();
            }

            ///////////////////**Select Multiple Equpment In Ticket List tap**////////////////////


            //**********************Select Multiple Equpment In Ticket List tap**************

            $("img[id*='imgPlus']").click(function () {
                if ($(this).attr('src') == "images/plus.png") {
                    $("<tr style='display:none'><td></td><td colspan = '999'>" + $(this).next().html() + "</td></tr>").insertAfter($(this).closest("tr")).show('slow');
                    $(this).attr("src", "images/minus.png");
                }
                else {
                    $(this).attr("src", "images/plus.png");
                    $(this).closest("tr").next().remove();
                }
            });



            //begin Function
            $(function () {
                TotalCal();
                setTimeout(function () { _firstCall = 0; }, 3000)
                CalculateRevTotal();
                HideShowOnBillingTypeChange($('#<%= ddlPType.ClientID %>').val())
                HideShowOnPostingTypeChange($('#<%= ddlPostingMethod.ClientID %>').val())
                if ($("#<%= chkspnotes.ClientID %>").attr("checked") == "checked")
                    $(".inst").show();
                else {
                    $(".inst").hide();
                }

                $("#<%= chkspnotes.ClientID %>").click(function (event) {
                    if ($("#<%= chkspnotes.ClientID %>").attr("checked") == "checked")
                        $(".inst").show();
                    else {
                        $(".inst").hide();
                        $("#<%=txtSpecialInstructions.ClientID%>").val('');
                    }
                });

                if ($("#<%= chkRenew.ClientID %>").attr("checked") == "checked")
                    $(".inst1").show();
                else {
                    $(".inst1").hide();
                }

                $("#<%= chkRenew.ClientID %>").click(function (event) {
                    if ($("#<%= chkRenew.ClientID %>").attr("checked") == "checked")
                        $(".inst1").show();
                    else {
                        $(".inst1").hide();
                        $("#<%=txtRenew.ClientID%>").val('');
                    }
                });





                ///////////////////////////////////// Unrecognized Revenue ////////////////////////////////////
                $("#<%=txtUnrecognizedRevenue.ClientID%>").autocomplete({
                    source: function (request, response) {
                        var dtaaa = new dtaa();
                        dtaaa.prefixText = request.term;
                        query = request.term;
                        $.ajax({
                            type: "POST",
                            contentType: "application/json; charset=utf-8",
                            url: "AccountAutoFill.asmx/GetInvService",
                            data: JSON.stringify(dtaaa),
                            dataType: "json",
                            async: true,
                            success: function (data) {
                                response($.parseJSON(data.d));
                            },
                            error: function (result) {
                                alert("Due to unexpected errors we were unable to load services");
                            }
                        });
                    },
                    select: function (event, ui) {
                        $("#<%=txtUnrecognizedRevenue.ClientID%>").val(ui.item.label);
                        $("#<%=hdnUnrecognizedRevenue.ClientID%>").val(ui.item.value);
                        $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                            var $tr = $(this);
                            $tr.find('select[id*=ddlBillingCode]').val(ui.item.value);
                        });
                        return false;
                    },
                    focus: function (event, ui) {
                        $("#<%=txtUnrecognizedRevenue.ClientID%>").val(ui.item.label);
                        return false;
                    },
                    minLength: 0,
                    delay: 250
                }).bind('click', function () { $(this).autocomplete("search"); })
                    .data("ui-autocomplete")._renderItem = function (ul, item) {
                        var ula = ul;
                        var result_value = item.value;
                        var result_item = item.label;
                        var x = new RegExp('\\b' + query, 'ig'); // notice the escape \ here...            
                        result_item = result_item.replace(x, function (FullMatch, n) {
                            return '<span class="highlight">' + FullMatch + '</span>'
                        });
                        return $("<li></li>")
                            .data("item.autocomplete", item)
                            .append("<a>" + result_item + "</a>")
                            .appendTo(ul);
                    };
                ///////////////////////////////////// Unrecognized Expense ////////////////////////////////////
                $("#<%=txtUnrecognizedExpense.ClientID%>").autocomplete({
                    source: function (request, response) {
                        var dtaaa = new dtaa();
                        dtaaa.prefixText = request.term;
                        query = request.term;
                        $.ajax({
                            type: "POST",
                            contentType: "application/json; charset=utf-8",
                            url: "AccountAutoFill.asmx/GetAccountName",
                            data: JSON.stringify(dtaaa),
                            dataType: "json",
                            async: true,
                            success: function (data) {
                                response($.parseJSON(data.d));
                            },
                            error: function (result) {
                                alert("Due to unexpected errors we were unable to load services");
                            }
                        });
                    },
                    select: function (event, ui) {
                        $("#<%=txtUnrecognizedExpense.ClientID%>").val(ui.item.label);
                        $("#<%=hdnUnrecognizedExpense.ClientID%>").val(ui.item.value);
                        return false;
                    },
                    focus: function (event, ui) {
                        $("#<%=txtUnrecognizedExpense.ClientID%>").val(ui.item.label);
                        return false;
                    },
                    minLength: 0,
                    delay: 250
                }).bind('click', function () { $(this).autocomplete("search"); })
                    .data("ui-autocomplete")._renderItem = function (ul, item) {
                        var ula = ul;
                        var result_value = item.value;
                        var result_item = item.acct;
                        var result_desc = item.label;

                        var x = new RegExp('\\b' + query, 'ig'); // notice the escape \ here...            
                        result_item = result_item.replace(x, function (FullMatch, n) {
                            return '<span class="highlight">' + FullMatch + '</span>'
                        });
                        return $("<li></li>")
                            .data("item.autocomplete", item)
                            .append("<a>" + result_item + " : <span>" + result_desc + "</span></a>")
                            .appendTo(ul);
                    };
                ///////////////////////////////////// Retainage Receivable ////////////////////////////////////
                $("#<%=txtRetainageReceivable.ClientID%>").autocomplete({
                    source: function (request, response) {
                        var dtaaa = new dtaa();
                        dtaaa.prefixText = request.term;
                        query = request.term;
                        $.ajax({
                            type: "POST",
                            contentType: "application/json; charset=utf-8",
                            url: "AccountAutoFill.asmx/GetAccountName",
                            data: JSON.stringify(dtaaa),
                            dataType: "json",
                            async: true,
                            success: function (data) {
                                response($.parseJSON(data.d));
                            },
                            error: function (result) {
                                alert("Due to unexpected errors we were unable to load services");
                            }
                        });
                    },
                    select: function (event, ui) {
                        $("#<%=txtRetainageReceivable.ClientID%>").val(ui.item.label);
                        $("#<%=hdnRetainageReceivable.ClientID%>").val(ui.item.value);
                        return false;
                    },
                    focus: function (event, ui) {
                        $("#<%=txtRetainageReceivable.ClientID%>").val(ui.item.label);
                        return false;
                    },
                    minLength: 0,
                    delay: 250
                }).bind('click', function () { $(this).autocomplete("search"); })
                    .data("ui-autocomplete")._renderItem = function (ul, item) {
                        var ula = ul;
                        var result_value = item.value;
                        var result_item = item.acct;
                        var result_desc = item.label;

                        var x = new RegExp('\\b' + query, 'ig'); // notice the escape \ here...            
                        result_item = result_item.replace(x, function (FullMatch, n) {
                            return '<span class="highlight">' + FullMatch + '</span>'
                        });
                        return $("<li></li>")
                            .data("item.autocomplete", item)
                            .append("<a>" + result_item + " : <span>" + result_desc + "</span></a>")
                            .appendTo(ul);
                    };

                // -----------txtCode-----------
                function objCode() {
                    this.prefixText = null;
                    this.DeptID = null;
                }



                $("[id*=txtCode]").autocomplete({
                    source: function (request, response) {

                        var ddlJobType = document.getElementById("<%=ddlJobType.ClientID %>");
                        var selectedValue = ddlJobType.value;
                        var DeptID = 0;

                        if (selectedValue != 'Select Department') DeptID = parseInt(selectedValue);

                        var objCode1 = new objCode();
                        objCode1.prefixText = request.term;
                        objCode1.DeptID = DeptID;
                        query = request.term;

                        var str = request.term;
                        $.ajax({
                            type: "POST",
                            contentType: "application/json; charset=utf-8",
                            url: "AccountAutoFill.asmx/GetJobCodeByDeptID",
                            data: JSON.stringify(objCode1),
                            dataType: "json",
                            async: true,
                            success: function (data) {
                                response($.parseJSON(data.d));
                            },
                            error: function (result) {
                                alert("Due to unexpected errors we were unable to load job code");
                            }
                        });
                    },
                    select: function (event, ui) {
                        if (ui.item.value == 'AddNew') {

                            Showpopup();
                        }
                        if (ui.item.value == 0) {
                        }
                        else {
                            var txtCode = this.id;
                            var hdnCode = document.getElementById(txtCode.replace('txtCode', 'hdnCode'));
                            $(hdnCode).val(ui.item.value);
                            $(this).val(ui.item.label);
                            var lblCodeDesc = document.getElementById(txtCode.replace('txtCode', 'lblCodeDesc'));
                            $(lblCodeDesc).val(ui.item.CodeDesc);
                        }
                        return false;
                    },
                    focus: function (event, ui) {
                        $(this).val(ui.item.label);
                        return false;
                    },
                    minLength: 0,
                    delay: 50
                }).click(function () {
                    $(this).autocomplete('search', $(this).val());
                });



                $.each($(".txtCodeAutoComplate"), function (index, item) {
                    $(item).data("ui-autocomplete")._renderItem = function (ul, item) {
                        var result_item = item.label;
                        var result_value = item.value;
                        var result_itemfdesc = item.CodeDesc;

                        var x = new RegExp('\\b' + query, 'ig');
                        try {
                            if (result_item != null) {
                                result_item = result_item.replace(x, function (FullMatch, n) {
                                    return '<span class="highlight">' + FullMatch + '</span>';
                                });
                            }

                            if (result_itemfdesc != null) {
                                result_itemfdesc = result_itemfdesc.replace(x, function (FullMatch, n) {
                                    return '<span class="highlight">' + FullMatch + '</span>';
                                });
                            }
                        }
                        catch { }


                        if (result_item != null && result_itemfdesc != "")
                            return $("<li></li>")
                                .data("item.autocomplete", item)
                                .append("<a>  " + result_item + ", <span style='color:Gray;'><b>  </b>" + result_itemfdesc + "</span></a>")
                                .appendTo(ul);
                        else
                            return $("<li></li>")
                                .data("item.autocomplete", item)
                                .append("<a>  " + result_item + "</a>")
                                .appendTo(ul);


                    };
                });

                //----------GroupName-----------
                var struid = $("#<%=hdnprojectID.ClientID%>").val();
                $("[id*=txtGroup]").autocomplete({
                    source: function (request, response) {
                        var dtaaa = new dtaa();
                        //debugger

                        //dtaaa.prefixText = request.term;
                        dtaaa.prefixText = "";
                        dtaaa.projectId = struid;
                        query = request.term;
                        var str = request.term;
                        $.ajax({
                            type: "POST",
                            contentType: "application/json; charset=utf-8",
                            url: "AccountAutoFill.asmx/GetGroup",
                            //url: "AccountAutoFill.asmx/GetProjectGroup",
                            data: JSON.stringify(dtaaa),
                            //data: '{prefixText:"' + request.term + '",projectId:"' + struid + '"}',
                            dataType: "json",
                            async: true,
                            success: function (data) {
                                response($.parseJSON(data.d));
                            },
                            error: function (result) {
                                alert("Due to unexpected errors we were unable to load Group");
                            }
                        });
                    },
                    select: function (event, ui) {
                        //debugger
                        if (ui.item.value == 0) {
                        }
                        else {
                            var txtGroup = this.id;
                            var hdnGroupID = document.getElementById(txtGroup.replace('txtGroup', 'hdnGroupID'));
                            $(hdnGroupID).val(ui.item.value);
                            $(this).val(ui.item.label);
                        }
                        return false;
                    },
                    focus: function (event, ui) {
                        $(this).val(ui.item.label);
                        return false;
                    },
                    minLength: 0,
                    delay: 50
                }).bind('click', function () { $(this).autocomplete("search"); })
                $.each($(".Groupsearchinput"), function (index, item) {
                    $(item).data("ui-autocomplete")._renderItem = function (ul, item) {
                        var ula = ul;
                        var itema = item;
                        var result_value = item.value;
                        var result_item = item.label;
                        var x = new RegExp('\\b' + query, 'ig'); // notice the escape \ here...            
                        result_item = result_item.replace(x, function (FullMatch, n) {
                            return '<span class="highlight">' + FullMatch + '</span>'
                        });
                        if (result_value == 0) {
                            return $("<li></li>")
                                .data("item.autocomplete", item)
                                .append("<a>" + result_item + "</a>")
                                .appendTo(ul);
                        }
                        else {
                            return $("<li></li>")
                                .data("item.autocomplete", item)
                                .append("<a>" + result_item + "</a>")
                                .appendTo(ul);
                        }
                    };
                });

                //$("[id*=txtGroup]").autocomplete({
                //    disabled: true
                //});

                $("[id*=txtUM]").autocomplete({
                    source: function (request, response) {
                        var dtaaa = new dtaa();
                        dtaaa.prefixText = request.term;
                        query = request.term;
                        var str = request.term;
                        $.ajax({
                            type: "POST",
                            contentType: "application/json; charset=utf-8",
                            url: "AccountAutoFill.asmx/GetUnitMeasure",
                            data: JSON.stringify(dtaaa),
                            dataType: "json",
                            async: true,
                            success: function (data) {
                                response($.parseJSON(data.d));
                            },
                            error: function (result) {
                                alert("Due to unexpected errors we were unable to load unit measure");
                            }
                        });
                    },
                    select: function (event, ui) {
                        if (ui.item.value == 0) {
                        }
                        else {
                            var txtUM = this.id;
                            var hdnUMID = document.getElementById(txtUM.replace('txtUM', 'hdnUMID'));
                            $(hdnUMID).val(ui.item.value);
                            $(this).val(ui.item.label);
                        }
                        return false;
                    },
                    focus: function (event, ui) {
                        $(this).val(ui.item.label);
                        return false;
                    },
                    minLength: 0,
                    delay: 250
                }).bind('click', function () { $(this).autocomplete("search"); })
                $.each($(".searchinput"), function (index, item) {
                    $(item).data("ui-autocomplete")._renderItem = function (ul, item) {
                        var ula = ul;
                        var itema = item;
                        var result_value = item.value;
                        var result_item = item.label;
                        var x = new RegExp('\\b' + query, 'ig'); // notice the escape \ here...            
                        result_item = result_item.replace(x, function (FullMatch, n) {
                            return '<span class="highlight">' + FullMatch + '</span>'
                        });
                        return $("<li></li>")
                            .data("item.autocomplete", item)
                            .append("<a>" + result_item + "</a>")
                            .appendTo(ul);
                    };
                });
                $("[id*=ddlBType]").change(function () {
                    var ddlBType = $(this);
                    var strBType = $(this).val();
                    var ddlBType_id = $(ddlBType).attr('id');
                    if (strBType == '0') {
                        var modalPopupBehavior = $find('programmaticModalPopupBehavior');
                        $("#<%= txtBomType.ClientID %>").val('');
                        modalPopupBehavior.show();
                        $(this).val('Select Type');
                    }
                })
                $("[id*=txtUM]").change(function () {
                    var txtUM = $(this);
                    var strUM = $(this).val();
                    var txtUM1 = $(txtUM).attr('id');
                    var hdnUMID = document.getElementById(txtUM1.replace('txtUM', 'hdnUMID'));
                    $.ajax({
                        type: "POST",
                        contentType: "application/json; charset=utf-8",
                        url: "AccountAutoFill.asmx/GetAutofillByUM",
                        data: '{"prefixText": "' + strUM + '"}',
                        dataType: "json",
                        async: true,
                        success: function (data) {
                            var ui = $.parseJSON(data.d);
                            if (ui.length == 0) {
                                var strUM = $(txtUM).val();
                                $(txtUM).val('');
                                noty({
                                    text: 'UM \'' + strUM + '\' doesn\'t exist!',
                                    type: 'warning',
                                    layout: 'topCenter',
                                    closeOnSelfClick: false,
                                    timeout: false,
                                    theme: 'noty_theme_default',
                                    closable: true
                                });
                            }
                            else {
                                $(txtUM1).val(ui[0].label);
                                $(hdnUMID).val(ui[0].value);
                            }
                        },
                        error: function (result) {
                            alert("Due to unexpected errors we were unable to load UM");
                        }
                    });
                });
                var query = "";
                function u_dta() {
                    this.prefixText = null;
                    this.con = "";
                    this.userRole = "";
                }
                $("[id*=txtUserID]").autocomplete({
                    source: function (request, response) {
                        var dta = new u_dta();
                        dta.prefixText = request.term;
                        query = request.term;
                        var txtUserID = this.element.attr('id');
                        var txtTitle = document.getElementById(txtUserID.replace('txtUserID', 'txtTitle'));
                        var userRole = $(txtTitle).val();
                        dta.userRole = userRole;
                        var str = request.term;
                        $.ajax({
                            type: "POST",
                            contentType: "application/json; charset=utf-8",
                            url: "AccountAutoFill.asmx/GetUsernameOfUserRole",
                            data: JSON.stringify(dta),
                            dataType: "json",
                            async: true,
                            success: function (data) {
                                response($.parseJSON(data.d));
                            },
                            error: function (result) {
                                alert("Due to unexpected errors we were unable to load username");
                            }
                        });
                    },
                    select: function (event, ui) {
                        var txtUserID = this.id;
                        var hdnUserID = document.getElementById(txtUserID.replace('txtUserID', 'hdnUserID'));
                        var txtFirstName = document.getElementById(txtUserID.replace('txtUserID', 'txtFirstName'));
                        var txtLastName = document.getElementById(txtUserID.replace('txtUserID', 'txtLastName'));
                        var txtEmail = document.getElementById(txtUserID.replace('txtUserID', 'txtEmail'));
                        var txtMobile = document.getElementById(txtUserID.replace('txtUserID', 'txtMobile'));
                        var txtTitle = document.getElementById(txtUserID.replace('txtUserID', 'txtTitle'));
                        $(this.id).val(ui.item.label);
                        $(hdnUserID).val(ui.item.value);
                        $(txtFirstName).val(ui.item.fFirst);
                        $(txtLastName).val(ui.item.fLast);
                        $(txtEmail).val(ui.item.Email);
                        $(txtMobile).val(ui.item.Cellular);
                        if ($(txtTitle).val() == "") {
                            if (ui.item.RoleName != null && ui.item.RoleName != "")
                                $(txtTitle).val(ui.item.RoleName);
                        }
                        return false;
                    },
                    focus: function (event, ui) {
                        $(this).val(ui.item.label);
                        return false;
                    },
                    minLength: 0,
                    delay: 250
                }).bind('click', function () { $(this).autocomplete("search"); })
                $.each($(".usearchinput"), function (index, item) {
                    $(item).data("ui-autocomplete")._renderItem = function (ul, item) {
                        var ula = ul;
                        var itema = item;
                        var result_value = item.value;
                        var result_item = item.label + ": " + item.fFirst + " " + item.fLast;
                        var x = new RegExp('\\b' + query, 'ig'); // notice the escape \ here...            
                        result_item = result_item.replace(x, function (FullMatch, n) {
                            return '<span class="highlight">' + FullMatch + '</span>'
                        });
                        return $("<li></li>")
                            .data("item.autocomplete", item)
                            .append("<a>" + result_item + "</a>")
                            .appendTo(ul);
                    };
                });

                ///////////Start Title autocomplete///////////
                $("[id*=txtTitle]").autocomplete({
                    source: function (request, response) {
                        var dta = new u_dta();
                        dta.prefixText = request.term;
                        dta.projectId = $("#<%=hdnprojectID.ClientID%>").val();
                        query = request.term;
                        var str = request.term;
                        $.ajax({
                            type: "POST",
                            contentType: "application/json; charset=utf-8",
                            url: "AccountAutoFill.asmx/GetTeamMemberTitles",
                            data: JSON.stringify(dta),
                            dataType: "json",
                            async: true,
                            success: function (data) {
                                // debugger
                                response($.parseJSON(data.d));
                            },
                            error: function (result) {
                                alert("Due to unexpected errors we were unable to load team title");
                            }
                        });
                    },
                    select: function (event, ui) {
                        $(this.id).val(ui.item.label);
                        return false;
                    },
                    focus: function (event, ui) {
                        $(this).val(ui.item.label);
                        return false;
                    },
                    minLength: 0,
                    delay: 250
                }).bind('click', function () { $(this).autocomplete("search"); })
                $.each($(".tsearchinput"), function (index, item) {
                    $(item).data("ui-autocomplete")._renderItem = function (ul, item) {
                        var result_value = item.value;
                        var result_item = item.label;
                        var x = new RegExp('\\b' + query, 'ig'); // notice the escape \ here...            
                        result_item = result_item.replace(x, function (FullMatch, n) {
                            return '<span class="highlight">' + FullMatch + '</span>'
                        });
                        if (result_value == 0) {
                            return $("<li></li>")
                                .data("item.autocomplete", item)
                                .append("<a>" + result_item + "</a>")
                                .appendTo(ul);
                        }
                        else {
                            return $("<li></li>")
                                .data("item.autocomplete", item)
                                .append("<a>" + result_item + "</a>")
                                .appendTo(ul);
                        }
                    };
                });

                ///////////End Title autocomplete///////////
                $("[id*=txtSType]").autocomplete({
                    source: function (request, response) {
                        var dtaaa = new dtaa();
                        dtaaa.prefixText = request.term;
                        query = request.term;
                        var str = request.term;
                        $.ajax({
                            type: "POST",
                            contentType: "application/json; charset=utf-8",
                            url: "AccountAutoFill.asmx/GetServiceType",
                            data: JSON.stringify(dtaaa),
                            dataType: "json",
                            async: true,
                            success: function (data) {
                                response($.parseJSON(data.d));
                            },
                            error: function (result) {
                                alert("Due to unexpected errors we were unable to load service type");
                            }
                        });
                    },
                    select: function (event, ui) {
                        if (ui.item.value == 'AddNew') {
                            //redirect to another page 
                            //instead open popup to add code detail.
                            Showpopup();
                        }
                        if (ui.item.value == 0) {
                        }
                        else {
                            var txtSType = this.id;
                            var hdnType = document.getElementById(txtSType.replace('txtSType', 'hdnType'));
                            $(hdnType).val(ui.item.value);
                            $(this).val(ui.item.label);
                        }
                        return false;
                    },
                    focus: function (event, ui) {
                        $(this).val(ui.item.label);
                        return false;
                    },
                    minLength: 0,
                    delay: 250
                }).bind('click', function () { $(this).autocomplete("search"); })
                $.each($(".searchinput"), function (index, item) {
                    $(item).data("ui-autocomplete")._renderItem = function (ul, item) {
                        var result_value = item.value;
                        var result_item = item.label;
                        var x = new RegExp('\\b' + query, 'ig'); // notice the escape \ here...            
                        result_item = result_item.replace(x, function (FullMatch, n) {
                            return '<span class="highlight">' + FullMatch + '</span>'
                        });
                        if (result_value == 0) {
                            return $("<li></li>")
                                .data("item.autocomplete", item)
                                .append("<a>" + result_item + "</a>")
                                .appendTo(ul);
                        }
                        else {
                            return $("<li></li>")
                                .data("item.autocomplete", item)
                                .append("<a>" + result_item + "</a>")
                                .appendTo(ul);
                        }
                    };
                });
                ///////////// Ajax call for customer auto search ////////////////////                
                var query = "";
                function dta() {
                    this.prefixText = null;
                    this.con = "";
                }
                var queryloc = "";
                $('#<%= txtCustomer.ClientID %>').autocomplete({
                    open: function (e, ui) {
                        /* create the scrollbar each time autocomplete menu opens/updates */
                        $(".ui-autocomplete").mCustomScrollbar({
                            setHeight: 182,
                            theme: "dark-3",
                            autoExpandScrollbar: true
                        });
                    },
                    response: function (e, ui) {
                        /* destroy the scrollbar after each search completes, before the menu is shown */
                        $(".ui-autocomplete").mCustomScrollbar("destroy");
                    },
                    source: function (request, response) {
                        var dtaaa = new dta();
                        dtaaa.prefixText = request.term;
                        query = request.term;
                        $.ajax({
                            type: "POST",
                            contentType: "application/json; charset=utf-8",
                            url: "CustomerAuto.asmx/GetCustomer",
                            data: JSON.stringify(dtaaa),
                            dataType: "json",
                            async: true,
                            success: function (data) {
                                response($.parseJSON(data.d));
                            },
                            error: function (XMLHttpRequest, textStatus, errorThrown) {
                                var err = eval("(" + XMLHttpRequest.responseText + ")");
                                alert(err.Message);
                            }
                        });
                    },
                    select: function (event, ui) {
                        $("#ctl00_ContentPlaceHolder1_txtCustomer").val(ui.item.label);
                        $("#ctl00_ContentPlaceHolder1_hdnCustID").val(ui.item.value);
                        $("#ctl00_ContentPlaceHolder1_txtLocation").focus();
                        $("#ctl00_ContentPlaceHolder1_txtLocation").val('');
                        $("#ctl00_ContentPlaceHolder1_hdnLocID").val('');
                        $("#<%=hdnLocRolID.ClientID%>").val('');

                        if (ui.item.prospect == 1) {
                            document.getElementById('ctl00_ContentPlaceHolder1_btnSelectLoc').click();
                        }
                        else {
                            document.getElementById('ctl00_ContentPlaceHolder1_btnSelectCustomer').click();
                        }
                        return false;
                    },
                    focus: function (event, ui) {
                        return false;
                    },
                    minLength: 0,
                    delay: 250
                })
                    .data("ui-autocomplete")._renderItem = function (ul, item) {
                        var result_item = item.label;
                        var result_desc = item.desc;
                        var x = new RegExp('\\b' + query, 'ig'); // notice the escape \ here...   
                        if (query != "") {
                            result_item = result_item.replace(x, function (FullMatch, n) {
                                return '<span>' + FullMatch + '</span>'
                            });
                            if (result_desc != null) {
                                result_desc = result_desc.replace(x, function (FullMatch, n) {
                                    return '<span>' + FullMatch + '</span>'
                                });
                            }
                        }
                        return $("<li></li>")
                            .data("item.autocomplete", item)
                            .append("<span class='auto_item'></i>" + result_item + "</span> <span class='auto_desc'>" + result_desc + "</span>")
                            .appendTo(ul);
                    };
                ////////////////////////////////////////////////////////////////////////////////////////////////
                $("#<%=txtName.ClientID%>").keyup(function (event) {
                    var hdnGCName = $("#<%=hdnGCName.ClientID%>");
                    var hdnGContractorID = $("#<%=hdnGContractorID.ClientID%>");
                    var hdnGCNameupdate = $("#<%=hdnGCNameupdate.ClientID%>");
                    if (hdnGContractorID.val() > 0) {
                        if (this.value.trim() != hdnGCName.val().trim() && this.value.trim() != '')
                            hdnGCNameupdate.val('1');
                        hdnGContractorID.val(0);
                    }
                });
                ///////////// Ajax call for GC auto search ////////////////////                
                var query = "";
                function dta() {
                    this.prefixText = null;
                    this.con = "";
                    this.type = "";
                }
                $("#<%= txtName.ClientID%>").autocomplete({
                    source: function (request, response) {
                        var dtaaa = new dta();
                        dtaaa.prefixText = request.term;
                        dtaaa.type = "1";
                        query = request.term;
                        $.ajax({
                            type: "POST",
                            contentType: "application/json; charset=utf-8",
                            url: "CustomerAuto.asmx/GetGCorHomeOwner",
                            data: JSON.stringify(dtaaa),
                            dataType: "json",
                            async: true,
                            success: function (data) {
                                response($.parseJSON(data.d));
                            },
                            error: function (XMLHttpRequest, textStatus, errorThrown) {
                                var err = eval("(" + XMLHttpRequest.responseText + ")");
                                alert(err.Message);
                            }
                        });
                    },
                    select: function (event, ui) {
                        $("#<%= txtName.ClientID%>").val('');
                        $("#<%= txtCity.ClientID%>").val('');
                        $("#<%= GctxtAddress.ClientID%>").val('');
                        $("#<%= ddlState.ClientID%>").val('');
                        $("#<%= txtPostalCode.ClientID%>").val('');
                        $("#<%= txtCountry.ClientID%>").val('');
                        $("#<%= txtContactName.ClientID%>").val('');
                        $("#<%= txtPhone.ClientID%>").val('');
                        $("#<%= txtFax.ClientID%>").val('');
                        $("#<%= txtEmailWeb.ClientID%>").val('');
                        $("#<%= txtMobile.ClientID%>").val('');
                        $("#<%= txtRemarks.ClientID%>").val('');
                        $("#<%= hdnGCID.ClientID%>").val('');
                        $("#<%= hdnGCIDtemp.ClientID%>").val('');
                        $("#<%= hdnGCName.ClientID%>").val('');
                        $("#<%= hdnGContractorID.ClientID%>").val('0');
                        $("#<%= hdnGCNameupdate.ClientID%>").val(0);
                        $("#<%= txtName.ClientID%>").val(ui.item.label);
                        $("#<%= txtCity.ClientID%>").val(ui.item.city);
                        $("#<%= GctxtAddress.ClientID%>").val(ui.item.Address);
                        $("#<%= ddlState.ClientID%>").val(ui.item.state);
                        $("#<%= txtPostalCode.ClientID%>").val(ui.item.zip);
                        $("#<%= txtCountry.ClientID%>").val(ui.item.country);
                        $("#<%= txtContactName.ClientID%>").val(ui.item.contact);
                        $("#<%= txtPhone.ClientID%>").val(ui.item.phone);
                        $("#<%= txtFax.ClientID%>").val(ui.item.fax);
                        $("#<%= txtEmailWeb.ClientID%>").val(ui.item.email);
                        $("#<%= txtMobile.ClientID%>").val(ui.item.cellular);
                        $("#<%= txtRemarks.ClientID%>").val(ui.item.remarks);
                        $("#<%= hdnGCID.ClientID%>").val(ui.item.rolid);
                        $("#<%= hdnGCIDtemp.ClientID%>").val(ui.item.rolid);
                        $("#<%= hdnGContractorID.ClientID%>").val(ui.item.GC_HOid);
                        $("#<%= hdnGCNameupdate.ClientID%>").val(0);
                        $("#<%= hdnGCName.ClientID%>").val(ui.item.label);
                        return false;
                    },
                    focus: function (event, ui) {
                        return false;
                    },
                    minLength: 0,
                    delay: 250
                }).data("ui-autocomplete")._renderItem = function (ul, item) {
                    var result_item = item.label;
                    var result_desc = item.desc;
                    var result_Prospect = item.prospect;
                    var x = new RegExp('\\b' + query, 'ig'); // notice the escape \ here...   
                    result_item = result_item.replace(x, function (FullMatch, n) {
                        return '<span class="highlight">' + FullMatch + '</span>'
                    });
                    if (result_desc != null) {
                        result_desc = result_desc.replace(x, function (FullMatch, n) {
                            return '<span class="highlight">' + FullMatch + '</span>'
                        });
                    }
                    var color = 'Black';
                    if (result_Prospect != 0) {
                        color = 'brown';
                    }
                    return $("<li></li>")
                        .data("item.autocomplete", item)
                        .append("<a style='color:" + color + ";'>" + result_item + ", <span style='color:gray;'>" + result_desc + "</span></a>")
                        .appendTo(ul);
                };
                $("#<%=hotxtname.ClientID%>").keyup(function (event) {
                    var hdnHOName = $("#<%=hdnHOName.ClientID%>");
                    var hdnHOId = $("#<%=hdnHomeOwnerID.ClientID%>");
                    var hdnHONameupdate = $("#<%=hdnHONameupdate.ClientID%>");
                    if (hdnHOId.val() > 0) {
                        if (this.value.trim() != hdnHOName.val().trim() && this.value.trim() != '')
                            hdnHONameupdate.val('1');
                        hdnHOId.val('0');
                    }
                });
                ///////////// Ajax Call for Homeowner Auto Search ////////////////////                
                var query = "";
                function dta() {
                    this.prefixText = null;
                    this.con = "";
                    this.type = "";
                }
                if ($("#<%= hotxtname.ClientID%>").value == "true") {
                    $("#<%= hotxtname.ClientID%>").autocomplete({
                        source: function (request, response) {
                            var dtaaa = new dta();
                            dtaaa.prefixText = request.term;
                            dtaaa.type = "2";
                            query = request.term;
                            $.ajax({
                                type: "POST",
                                contentType: "application/json; charset=utf-8",
                                url: "CustomerAuto.asmx/GetGCorHomeOwner",
                                data: JSON.stringify(dtaaa),
                                dataType: "json",
                                async: true,
                                success: function (data) {
                                    response($.parseJSON(data.d));
                                },
                                error: function (XMLHttpRequest, textStatus, errorThrown) {
                                    var err = eval("(" + XMLHttpRequest.responseText + ")");
                                    alert(err.Message);
                                }
                            });
                        },
                        select: function (event, ui) {
                            $("#<%= hotxtname.ClientID%>").val('');
                            $("#<%= hotxtcity.ClientID%>").val('');
                            $("#<%= HotxtAddress.ClientID%>").val('');
                            $("#<%= hotddlstate.ClientID%>").val('');
                            $("#<%= hotxtZIP.ClientID%>").val('');
                            $("#<%= hotxtCountry.ClientID%>").val('');
                            $("#<%= hotxtContactName.ClientID%>").val('');
                            $("#<%= hotxtPhone.ClientID%>").val('');
                            $("#<%= HotxtFax.ClientID%>").val('');
                            $("#<%= HotxtEmailWeb.ClientID%>").val('');
                            $("#<%= hotxtMobile.ClientID%>").val('');
                            $("#<%= hotxtRemarks.ClientID%>").val('');
                            $("#<%= hdnHomeOwnerID.ClientID%>").val('0');
                            $("#<%= hdnHOName.ClientID%>").val('');
                            $("#<%= hdnHONameupdate.ClientID%>").val(0);
                            $("#<%= hotxtname.ClientID%>").val(ui.item.label);
                            $("#<%= hotxtcity.ClientID%>").val(ui.item.city);
                            $("#<%= HotxtAddress.ClientID%>").val(ui.item.Address);
                            $("#<%= hotddlstate.ClientID%>").val(ui.item.state);
                            $("#<%= hotxtZIP.ClientID%>").val(ui.item.zip);
                            $("#<%= hotxtCountry.ClientID%>").val(ui.item.country);
                            $("#<%= hotxtContactName.ClientID%>").val(ui.item.contact);
                            $("#<%= hotxtPhone.ClientID%>").val(ui.item.phone);
                            $("#<%= HotxtFax.ClientID%>").val(ui.item.fax);
                            $("#<%= HotxtEmailWeb.ClientID%>").val(ui.item.email);
                            $("#<%= hotxtMobile.ClientID%>").val(ui.item.cellular);
                            $("#<%= hotxtRemarks.ClientID%>").val(ui.item.remarks);
                            $("#<%= hdnHomeOwnerID.ClientID%>").val(ui.item.GC_HOid);
                            $("#<%= hdnHOName.ClientID%>").val(ui.item.label);
                            return false;
                        },
                        focus: function (event, ui) {
                            return false;
                        },
                        minLength: 0,
                        delay: 250
                    }).data("ui-autocomplete")._renderItem = function (ul, item) {
                        var result_item = item.label;
                        var result_desc = item.desc;
                        var result_Prospect = item.prospect;
                        var x = new RegExp('\\b' + query, 'ig'); // notice the escape \ here...   
                        result_item = result_item.replace(x, function (FullMatch, n) {
                            return '<span class="highlight">' + FullMatch + '</span>'
                        });
                        if (result_desc != null) {
                            result_desc = result_desc.replace(x, function (FullMatch, n) {
                                return '<span class="highlight">' + FullMatch + '</span>'
                            });
                        }
                        var color = 'Black';
                        if (result_Prospect != 0) {
                            color = 'brown';
                        }
                        return $("<li></li>")
                            .data("item.autocomplete", item)
                            .append("<a style='color:" + color + ";'>" + result_item + ", <span style='color:gray;'>" + result_desc + "</span></a>")
                            .appendTo(ul);
                    };
                }
                ///////////
                function l_dta() {
                    this.prefixText = "";
                    this.con = "";
                    this.custID = null;
                }
                $("#ctl00_ContentPlaceHolder1_txtLocation").autocomplete({
                    open: function (e, ui) {
                        /* create the scrollbar each time autocomplete menu opens/updates */
                        $(".ui-autocomplete").mCustomScrollbar({
                            setHeight: 182,
                            theme: "dark-3",
                            autoExpandScrollbar: true
                        });
                    },
                    response: function (e, ui) {
                        /* destroy the scrollbar after each search completes, before the menu is shown */
                        $(".ui-autocomplete").mCustomScrollbar("destroy");
                    },
                    source: function (request, response) {
                        var dta = new l_dta();
                        dta.custID = 0;//
                        var custID = document.getElementById('ctl00_ContentPlaceHolder1_hdnCustID').value;
                        if (!isNaN(parseInt(custID))) {
                            dta.custID = parseInt(custID);
                        }
                        dta.prefixText = request.term;
                        query = request.term;
                        $.ajax({
                            type: "POST",
                            contentType: "application/json; charset=utf-8",
                            url: "CustomerAuto.asmx/GetLocation",
                            data: JSON.stringify(dta),
                            dataType: "json",
                            async: true,
                            success: function (data) {
                                response($.parseJSON(data.d));
                            },
                            error: function (result) {
                                alert("Due to unexpected errors we were unable to load locations");
                            }
                        });
                    },
                    select: function (event, ui) {
                        $("#ctl00_ContentPlaceHolder1_txtLocation").val(ui.item.label);
                        $("#ctl00_ContentPlaceHolder1_hdnLocID").val(ui.item.value);
                        $("#<%=hdnLocRolID.ClientID%>").val(ui.item.rolid);
                        document.getElementById('ctl00_ContentPlaceHolder1_btnSelectLoc').click();
                        return false;
                    },
                    focus: function (event, ui) {
                        $("#ctl00_ContentPlaceHolder1_txtLocation").val(ui.item.label);
                        return false;
                    },
                    minLength: 0,
                    delay: 250
                }).bind('click', function () { $(this).autocomplete("search"); })
                    .data("ui-autocomplete")._renderItem = function (ul, item) {
                        var result_item = item.label;
                        var result_desc = item.desc;
                        var x = new RegExp('\\b' + queryloc, 'ig'); // notice the escape \ here...    
                        if (query != "") {
                            result_item = result_item.replace(x, function (FullMatch, n) {
                                return '<span>' + FullMatch + '</span>'
                            });
                            if (result_desc != null) {
                                result_desc = result_desc.replace(x, function (FullMatch, n) {
                                    return '<span>' + FullMatch + '</span>'
                                });
                            }
                        }
                        return $("<li></li>")
                            .data("item.autocomplete", item)
                            .append("<span class='auto_item'>" + result_item + "</span> <span class='auto_desc'>" + result_desc + "</span>")
                            .appendTo(ul);
                    };



                $("#ctl00_ContentPlaceHolder1_txtCustomer").keyup(function (event) {
                    var hdnCustID = document.getElementById('ctl00_ContentPlaceHolder1_hdnCustID');
                    if (document.getElementById('ctl00_ContentPlaceHolder1_txtCustomer').value == '') {
                        hdnCustID.value = '';
                        $('#<%= lnkCustomerID.ClientID %>').removeAttr("href");
                    }
                });
                $("#ctl00_ContentPlaceHolder1_txtLocation").keyup(function (event) {
                    var hdnLocId = document.getElementById('ctl00_ContentPlaceHolder1_hdnLocID');
                    if (document.getElementById('ctl00_ContentPlaceHolder1_txtLocation').value == '') {
                        hdnLocId.value = '';
                        $('#<%= lnkLocationID.ClientID %>').removeAttr("href");
                        $('#<%=ddlTerr.ClientID %>').val('');
                        $('#<%=ddlTerr2.ClientID %>').val('');
                    }
                });
                var query = "";
                function dtaa() {
                    this.prefixText = null;
                    this.con = null;
                    this.custID = null;
                }
                $("#<%=txtPrevilWage.ClientID%>").autocomplete({
                    source: function (request, response) {
                        var dtaaa = new dtaa();
                        dtaaa.prefixText = request.term;
                        query = request.term;
                        $.ajax({
                            type: "POST",
                            contentType: "application/json; charset=utf-8",
                            url: "AccountAutoFill.asmx/GetWage",
                            data: JSON.stringify(dtaaa),
                            dataType: "json",
                            async: true,
                            success: function (data) {
                                response($.parseJSON(data.d));
                            },
                            error: function (result) {
                                alert("Due to unexpected errors we were unable to load wage");
                            }
                        });
                    },
                    select: function (event, ui) {
                        $("#<%=txtPrevilWage.ClientID%>").val(ui.item.label);
                        $("#<%=hdnPrevilWageID.ClientID%>").val(ui.item.value);
                        return false;
                    },
                    focus: function (event, ui) {
                        $("#<%=txtPrevilWage.ClientID%>").val(ui.item.label);
                        return false;
                    },
                    minLength: 0,
                    delay: 250
                }).bind('click', function () { $(this).autocomplete("search"); })
                    .data("ui-autocomplete")._renderItem = function (ul, item) {
                        var ula = ul;
                        var itema = item;
                        var result_value = item.value;
                        var result_item = item.label;
                        var x = new RegExp('\\b' + query, 'ig'); // notice the escape \ here...            
                        result_item = result_item.replace(x, function (FullMatch, n) {
                            return '<span class="highlight">' + FullMatch + '</span>'
                        });
                        return $("<li></li>")
                            .data("item.autocomplete", item)
                            .append("<a>" + result_item + "</a>")
                            .appendTo(ul);
                    };
                ///////////////////////////////////// Inventroy service ////////////////////////////////////
                $("#<%=txtInvService.ClientID%>").autocomplete({
                    source: function (request, response) {
                        var dtaaa = new dtaa();
                        dtaaa.prefixText = request.term;
                        query = request.term;
                        $.ajax({
                            type: "POST",
                            contentType: "application/json; charset=utf-8",
                            url: "AccountAutoFill.asmx/GetInvService",
                            data: JSON.stringify(dtaaa),
                            dataType: "json",
                            async: true,
                            success: function (data) {
                                response($.parseJSON(data.d));
                            },
                            error: function (result) {
                                alert("Due to unexpected errors we were unable to load services");
                            }
                        });
                    },
                    select: function (event, ui) {
                        $("#<%=txtInvService.ClientID%>").val(ui.item.label);
                        $("#<%=hdnInvServiceID.ClientID%>").val(ui.item.value);

                        //Change Unrecognized Expense on BILLING Tab base on Expense GL on FINANCE Tab
                        $("#<%=txtUnrecognizedRevenue.ClientID%>").val($("#<%=txtInvService.ClientID%>").val());
                        $("#<%=hdnUnrecognizedRevenue.ClientID%>").val($("#<%=hdnInvServiceID.ClientID%>").val());
                        $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                            var $tr = $(this);
                            $tr.find('select[id*=ddlBillingCode]').val(ui.item.value);
                        });
                        return false;
                    },
                    focus: function (event, ui) {
                        $("#<%=txtInvService.ClientID%>").val(ui.item.label);

                        //Change Unrecognized Expense on BILLING Tab base on Expense GL on FINANCE Tab
                        $("#<%=txtUnrecognizedRevenue.ClientID%>").val($("#<%=txtInvService.ClientID%>").val());
                        return false;
                    },
                    minLength: 0,
                    delay: 250
                }).bind('click', function () { $(this).autocomplete("search"); })
                    .data("ui-autocomplete")._renderItem = function (ul, item) {
                        var ula = ul;
                        var result_value = item.value;
                        var result_item = item.label;
                        var x = new RegExp('\\b' + query, 'ig'); // notice the escape \ here...            
                        result_item = result_item.replace(x, function (FullMatch, n) {
                            return '<span class="highlight">' + FullMatch + '</span>'
                        });
                        return $("<li></li>")
                            .data("item.autocomplete", item)
                            .append("<a>" + result_item + "</a>")
                            .appendTo(ul);
                    };
                $(".custom").change(function () {
                    getCustomVal();
                });
                $(".currency").change(function () {
                    showDecimalVal(this);
                })
                $(".currency").keypress(function (e) {
                    return isDecimalKey(this, e.target)
                })
                $(".date-picker").datepicker({
                    autoclose: true,
                    todayHighlight: true
                });
                $("[id*=txtVendor]").autocomplete({
                    source: function (request, response) {
                        var txtVendor = this.id;
                        var dtaaa = new dtaa();
                        dtaaa.prefixText = request.term;
                        query = request.term;
                        $.ajax({
                            type: "POST",
                            contentType: "application/json; charset=utf-8",
                            url: "AccountAutoFill.asmx/GetVendorNameProject",
                            data: JSON.stringify(dtaaa),
                            dataType: "json",
                            async: true,
                            success: function (data) {
                                response($.parseJSON(data.d));
                            },
                            error: function (result) {
                                alert("Due to unexpected errors we were unable to load vendor name");
                            }
                        });
                    },
                    select: function (event, ui) {
                        var txtVendor = this.id;
                        var hdnVendorID = document.getElementById(txtVendor.replace('txtVendor', 'hdnVendorId'));
                        var str = ui.item.Name;
                        var strId = ui.item.ID;
                        if (str == "No Record Found!") {
                            $(txtVendor).val("");
                        }
                        else {
                            $(this).val(str);
                            $(hdnVendorID).val(strId);
                        }
                        return false;
                    },
                    focus: function (event, ui) {
                        var txtVendor = this.id;
                        $(txtVendor).val(ui.item.Name);
                        return false;
                    },
                    minLength: 0,
                    delay: 250
                }).bind('click', function () { $(this).autocomplete("search"); })
                $.each($(".vendor-search"), function (index, item) {
                    $(item).data("ui-autocomplete")._renderItem = function (ul, item) {
                        var ula = ul;
                        var itema = item;
                        var result_value = item.ID;
                        var result_item = item.Name;
                        var x = new RegExp('\\b' + query, 'ig'); // notice the escape \ here...            
                        result_item = result_item.replace(x, function (FullMatch, n) {
                            return '<span class="highlight">' + FullMatch + '</span>'
                        });
                        if (result_value == 0) {
                            return $("<li></li>")
                                .data("item.autocomplete", item)
                                .append("<a>" + result_item + "</a>")
                                .appendTo(ul);
                        }
                        else {
                            return $("<li></li>")
                                .data("item.autocomplete", item)
                                .append("<a>" + result_item + "</a>")
                                .appendTo(ul);
                        }
                    };
                });

                //-------Lab Item------

                $("[id*=txtLabItem]").autocomplete({
                    source: function (request, response) {
                        var txtLabItem = this.id;
                        var dtaaa = new dtaa();
                        dtaaa.prefixText = request.term;
                        query = request.term;
                        $.ajax({
                            type: "POST",
                            contentType: "application/json; charset=utf-8",
                            url: "AccountAutoFill.asmx/GetLabor",
                            data: JSON.stringify(dtaaa),
                            dataType: "json",
                            async: true,
                            success: function (data) {
                                response($.parseJSON(data.d));
                            },
                            error: function (result) {
                                alert("Due to unexpected errors we were unable to load Labor");
                            }
                        });
                    },
                    select: function (event, ui) {
                        var txtLabItem = this.id;
                        //debugger;
                        var hdntxtLabItem = document.getElementById(txtLabItem.replace('txtLabItem', 'hdntxtLabItem'));
                        var str = ui.item.LabDesc;
                        var strId = ui.item.LabItem;
                        if (str == "No Record Found!") {
                            $(txtLabItem).val("");
                        }
                        else {
                            $(this).val(str);
                            $(hdntxtLabItem).val(strId);
                        }
                        return false;
                    },
                    focus: function (event, ui) {
                        var txtLabItem = this.id;
                        $(txtLabItem).val(ui.item.LabDesc);
                        return false;
                    },
                    minLength: 0,
                    delay: 50
                }).bind('click', function () { $(this).autocomplete("search"); })
                $.each($(".labor-search"), function (index, item) {
                    $(item).data("ui-autocomplete")._renderItem = function (ul, item) {

                        var ula = ul;
                        var itema = item;

                        var result_value = item.LabItem;
                        var result_item = item.LabDesc;

                        var x = new RegExp('\\b' + query, 'ig'); // notice the escape \ here...            
                        result_item = result_item.replace(x, function (FullMatch, n) {
                            return '<span class="highlight">' + FullMatch + '</span>'
                        });

                        if (result_value == 0) {
                            return $("<li></li>")
                                .data("item.autocomplete", item)
                                .append("<a>" + result_item + "</a>")
                                .appendTo(ul);
                        }
                        else {
                            return $("<li></li>")
                                .data("item.autocomplete", item)
                                .append("<a>" + result_item + "</a>")
                                .appendTo(ul);
                        }
                    };
                });

                //------------- 


                //*********** Start BOM Grid Material Item Auto populate ************//
                $("[id*=txtMatItem]").autocomplete({
                    source: function (request, response) {
                        var dtaaa = new dtaa();
                        dtaaa.prefixText = request.term;
                        query = request.term;
                        var txtMatItem = $(this.element).prop("id");
                        var ddlBType = document.getElementById(txtMatItem.replace('txtMatItem', 'ddlBType'));
                        var bTypeID = $(ddlBType).val();
                        dtaaa.bTypeID = bTypeID;
                        $.ajax({
                            type: "POST",
                            contentType: "application/json; charset=utf-8",
                            url: "AccountAutoFill.asmx/GetProjectMaterialType",
                            data: JSON.stringify(dtaaa),
                            dataType: "json",
                            async: true,
                            success: function (data) {
                                response($.parseJSON(data.d));
                            },
                            error: function (result) {
                                alert("Due to unexpected errors we were unable to load Material Type");
                            }
                        });
                    },
                    select: function (event, ui) {
                        var txtMatItem = this.id;
                        var hdnMatItem = document.getElementById(txtMatItem.replace('txtMatItem', 'hdnMatItem'));
                        var txtScope = document.getElementById(txtMatItem.replace('txtMatItem', 'txtScope'));
                        var str = ui.item.MatDesc;
                        var strId = ui.item.MatItem;
                        var strDesc = ui.item.fDesc;
                        if (str == "No Record Found!") {
                            $("#" + txtMatItem).val("");
                            $(txtScope).val("");
                            $(hdnMatItem).val("0");
                        }
                        else {
                            $("#" + txtMatItem).val(str);
                            $(txtScope).val(strDesc);
                            $(hdnMatItem).val(strId);
                        }
                        return false;
                    },
                    focus: function (event, ui) {
                        var txtMatItem = this.id;
                        var txtScope = document.getElementById(txtMatItem.replace('txtMatItem', 'txtScope'));
                        $("#" + txtMatItem).val(ui.item.MatDesc);
                        $(txtScope).val(ui.item.fDesc);
                        return false;
                    },
                    minLength: 0,
                    delay: 250
                }).bind('click', function () { $(this).autocomplete("search"); })
                $.each($(".MatItem-Search"), function (index, item) {
                    $(item).data("ui-autocomplete")._renderItem = function (ul, item) {
                        var ula = ul;
                        var itema = item;
                        var result_value = item.MatItem;
                        var result_item = item.MatDesc;
                        var x = new RegExp('\\b' + query, 'ig'); // notice the escape \ here...            
                        result_item = result_item.replace(x, function (FullMatch, n) {
                            return '<span class="highlight">' + FullMatch + '</span>'
                        });
                        if (result_value == 0) {
                            return $("<li></li>")
                                .data("item.autocomplete", item)
                                .append("<a>" + result_item + "</a>")
                                .appendTo(ul);
                        }
                        else {
                            return $("<li></li>")
                                .data("item.autocomplete", item)
                                .append("<a>" + result_item + "</a>")
                                .appendTo(ul);
                        }
                    };
                });

                <%--UpdatedivDisplayUserRole('<%=RadGrid_CustomHeader.ClientID%>');
                UpdatedivDisplayUserRole('<%=RadGrid_CustomAttributesGeneral.ClientID%>');
                UpdatedivDisplayUserRole('<%=RadGrid_CustomAttributesGC.ClientID%>');
                UpdatedivDisplayUserRole('<%=RadGrid_CustomAttriEquip.ClientID%>');
                UpdatedivDisplayUserRole('<%=RadGrid_CustomFinanceGeneral.ClientID%>');
                UpdatedivDisplayUserRole('<%=RadGrid_CustomFinanceBill.ClientID%>');
                UpdatedivDisplayUserRole('<%=RadGrid_CustomFinceBudget.ClientID%>');
                UpdatedivDisplayUserRole('<%=RadGrid_CustomTicketList.ClientID%>');
                UpdatedivDisplayUserRole('<%=RadGrid_CustomBOM.ClientID%>');
                UpdatedivDisplayUserRole('<%=RadGrid_CustomMilestone.ClientID%>');
                UpdatedivDisplayUserRole('<%=RadGrid_CustomTask.ClientID%>');--%>
            });
            //End Function

            ///////////// Ajax call for txtContcName auto search //////////////////// 
            var struid = $("#<%=hdnprojectID.ClientID%>").val();
            function dtaaon() {
                this.prefixText = null;
                this.con = null;
                this.custID = null;
                this.LocID = null;
                this.JobId = null;
            }
            $("[id*=txtContcName]").autocomplete({
                source: function (request, response) {
                    var dtaaa = new dtaaon();
                    dtaaa.prefixText = request.term;
                    dtaaa.custID = 0;
                    dtaaa.LocID = 0;
                    dtaaa.JobId = 0;
                    if (struid != '') {
                        dtaaa.custID = 0;
                        dtaaa.LocID = 0;
                        dtaaa.JobId = struid;
                    }
                    query = request.term;
                    $.ajax({
                        type: "POST",
                        contentType: "application/json; charset=utf-8",
                        url: "CustomerAuto.asmx/GetContactAutojquery",
                        data: JSON.stringify(dtaaa),
                        dataType: "json",
                        async: true,
                        success: function (data) {
                            response($.parseJSON(data.d));
                        },
                        error: function (result) {
                            alert("Due to unexpected errors we were unable to load customers");
                        }
                    });
                },
                select: function (event, ui) {
                    $("#<%=txtContcName.ClientID%>").val(ui.item.fDesc);
                    $("#<%=txtTitle.ClientID%>").val(ui.item.Title);
                    $("#<%=txtContPhone.ClientID%>").val(ui.item.Phone);
                    $("#<%=txtContFax.ClientID%>").val(ui.item.Fax);
                    $("#<%=txtContCell.ClientID%>").val(ui.item.Cell);
                    $("#<%=txtContEmail.ClientID%>").val(ui.item.Email);
                    return false;
                },
                focus: function (event, ui) {
                    return false;
                },
                minLength: 0,
                delay: 250
            }).bind('click', function () { $(this).autocomplete("search"); })
            $.each($(".Contact-search"), function (index, item) {
                $(item).data("ui-autocomplete")._renderItem = function (ul, item) {
                    var result_item = item.fDesc;
                    var result_desc = item.Title + ',' + item.Phone;
                    var x = new RegExp('\\b' + query, 'ig'); // notice the escape \ here... 
                    result_item = result_item.replace(x, function (FullMatch, n) {
                        return '<span class="highlight">' + FullMatch + '</span>'
                    });
                    if (result_desc != null) {
                        result_desc = result_desc.replace(x, function (FullMatch, n) {
                            return '<span class="highlight">' + FullMatch + '</span>'
                        });
                    }
                    return $("<li></li>")
                        .data("item.autocomplete", item)
                        .append("<a>" + result_item + ", <span style='color:Gray;'>" + result_desc + "</span></a>")
                        .appendTo(ul);
                };
            });
            $('input:text').bind("keydown", function (e) {
                if (e.which == 13) {
                    e.preventDefault();
                    $('input:text')[$('input:text').index(this) + 1].focus();
                }
            });

            $('input.timepicker').timepicker({
                dropdown: false
            });
            $('input.timepicker').on('click', function () {
                if ($('input.timepicker').val() == "") {
                    $('input.timepicker').timepicker('setTime', new Date());
                    $(this).select();
                }
                else { $(this).select(); }
            });
            $('input.timepicker').on('focus', function () {
                $(this).select();
            });
            $("[id*=chkRemainingBilling]").change(function () {
                //debugger
                var chk = $(this).attr('id');
                var txtCompletedThisPeriod = document.getElementById(chk.replace('chkRemainingBilling', 'txtCompletedThisPeriod'));
                var txtScheduledValues = document.getElementById(chk.replace('chkRemainingBilling', 'txtScheduledValues'));
                var txtPreviousBilled = document.getElementById(chk.replace('chkRemainingBilling', 'txtPreviousBilled'));
                var txtRetainagePer = document.getElementById(chk.replace('chkRemainingBilling', 'txtRetainagePer'));
                var txtRetainageCumAmount = document.getElementById(chk.replace('chkRemainingBilling', 'txtRetainageCumAmount'));
                var txtRetainageAmount = document.getElementById(chk.replace('chkRemainingBilling', 'txtRetainageAmount'));
                var hdnRetainageAmount = document.getElementById(chk.replace('chkRemainingBilling', 'hdnRetainageAmount'));

                // var txtRetainagePercentage =document.getElementById(chk.replace('chkRemainingBilling', 'txtRetainagePercentage'));
                var txtRetainagePercentage = document.getElementById("<%=txtRetainagePercentage.ClientID%>");
                var amount;
                amount = parseFloat($(txtScheduledValues).val().replace(",", "")) - parseFloat($(txtPreviousBilled).val().replace(",", ""));
                if ($(this).prop('checked') == true) {

                    $(txtCompletedThisPeriod).val(parseFloat(amount).toFixed(2))
                    $(txtRetainagePer).val(parseFloat($(txtRetainagePercentage).val().replace(",", "")).toFixed(2));
                    if (amount == 0) {
                        $(txtRetainageAmount).val(parseFloat($(txtRetainageCumAmount).val().replace(",", "") * (-1)).toFixed(2));
                        $(hdnRetainageAmount).val($(txtRetainageAmount).val().replace(",", ""));
                    } else {

                    }

                }
                else if ($(this).prop('checked') == false) {

                    $(txtCompletedThisPeriod).val(parseFloat(0).toFixed(2))
                    $(txtRetainagePer).val(parseFloat(0).toFixed(2));
                    $(txtRetainageAmount).val(parseFloat(0).toFixed(2));
                    $(hdnRetainageAmount).val(parseFloat(0).toFixed(2));
                }
                CalculatCompletedThisPeriodTotal();
                CalculateRetainagePerTotal();

            });



            $("[id*=chkAllRemainingBilling]").change(function () {

                $("#<%=gvWIPs.ClientID%> input[id*='chkRemainingBilling']:checkbox").prop('checked', $(this).prop("checked"));
                $("#<%=gvWIPs.ClientID%> input[id*='chkRemainingBilling']:checkbox").each(function (index) {

                    //debugger
                    var chk = $(this).attr('id');
                    var txtCompletedThisPeriod = document.getElementById(chk.replace('chkRemainingBilling', 'txtCompletedThisPeriod'));
                    var txtScheduledValues = document.getElementById(chk.replace('chkRemainingBilling', 'txtScheduledValues'));
                    var txtPreviousBilled = document.getElementById(chk.replace('chkRemainingBilling', 'txtPreviousBilled'));
                    var txtRetainagePer = document.getElementById(chk.replace('chkRemainingBilling', 'txtRetainagePer'));
                    var txtRetainageCumAmount = document.getElementById(chk.replace('chkRemainingBilling', 'txtRetainageCumAmount'));
                    var txtRetainageAmount = document.getElementById(chk.replace('chkRemainingBilling', 'txtRetainageAmount'));
                    var hdnRetainageAmount = document.getElementById(chk.replace('chkRemainingBilling', 'hdnRetainageAmount'));

                    // var txtRetainagePercentage =document.getElementById(chk.replace('chkRemainingBilling', 'txtRetainagePercentage'));
                    var txtRetainagePercentage = document.getElementById("<%=txtRetainagePercentage.ClientID%>");
                    var amount;
                    amount = parseFloat($(txtScheduledValues).val().replace(",", "")) - parseFloat($(txtPreviousBilled).val().replace(",", ""));
                    if ($(this).prop('checked') == true) {

                        $(txtCompletedThisPeriod).val(parseFloat(amount).toFixed(2))
                        $(txtRetainagePer).val(parseFloat($(txtRetainagePercentage).val().replace(",", "")).toFixed(2));
                        if (amount == 0) {
                            $(txtRetainageAmount).val(parseFloat($(txtRetainageCumAmount).val().replace(",", "") * (-1)).toFixed(2));
                            $(hdnRetainageAmount).val($(txtRetainageAmount).val().replace(",", ""));
                        } else {

                        }

                    }
                    else if ($(this).prop('checked') == false) {

                        $(txtCompletedThisPeriod).val(parseFloat(0).toFixed(2))
                        $(txtRetainagePer).val(parseFloat(0).toFixed(2));
                        $(txtRetainageAmount).val(parseFloat(0).toFixed(2));
                        $(hdnRetainageAmount).val(parseFloat(0).toFixed(2));
                    }
                    CalculatCompletedThisPeriodTotal();
                    CalculateRetainagePerTotal();

                });
            });

            $("[id*=txtRequiredBy]").change(function (event) {
                var oldValue = event.target.dataset.old;
                var value = $(this).val();

                if (value != "") {
                    var effectiveDate = new Date(value);
                    var periodStartDate = new Date($('#<%=hdnPeriodStartDate.ClientID%>').val());
                    var periodEndDate = new Date($('#<%=hdnPeriodEndDate.ClientID%>').val());
                    if (effectiveDate < periodStartDate || effectiveDate > periodEndDate) {
                        noty({
                            text: 'This effective date falls in a closed period. Please enter a valid date before proceeding.',
                            type: 'warning',
                            layout: 'topCenter',
                            closeOnSelfClick: false,
                            timeout: 50000,
                            theme: 'noty_theme_default',
                            closable: true
                        });

                        $(this).val(oldValue);
                        $(this).focus();

                        return false;
                    }
                }
            });

            $("[id*=txtClosedDate]").change(function (event) {
                var oldValue = event.target.dataset.old;
                var value = $(this).val();

                if (value != "") {
                    var txtClosedDate = new Date(value);
                    var periodStartDate = new Date($('#<%=hdnPeriodStartDate.ClientID%>').val());
                    var periodEndDate = new Date($('#<%=hdnPeriodEndDate.ClientID%>').val());
                    if (txtClosedDate < periodStartDate || txtClosedDate > periodEndDate) {
                        noty({
                            text: 'This closed date falls in a closed period. Please enter a valid date before proceeding.',
                            type: 'warning',
                            layout: 'topCenter',
                            closeOnSelfClick: false,
                            timeout: 50000,
                            theme: 'noty_theme_default',
                            closable: true
                        });

                        $(this).val(oldValue);
                        $(this).focus();

                        return false;
                    }
                }
            });

            SelectRowsEq1();
            // Show equipment gridview
            $("#eqtag").click(function () {
                $("#DivEqup").show();
            });


            $("[id*=txtLabRate]").dblclick(function () {
                OpenRadWindowLaborRate(this);
            });


            $("[id*=txtBudgetUnit]").dblclick(function () {
                OpenRadWindowMaterialRate(this);
            });

        }
        //End Page load


        function AmountValidate(s, args) {
            if ($('#<%= ddlPType.ClientID %>').val() == "0") {
                args.IsValid = true;
            }
            else {
                if ($('#<%= txtAmount.ClientID %>').val() == "" || parseFloat($('#<%= txtAmount.ClientID %>').val()) == 0) {
                    args.IsValid = false;
                }
                else
                    args.IsValid = true;
            }
        }

        function ShowProjectBudgetDetailPopup(Uid, Type, Phase, Actual) {
            var oWnd = $find("<%=RadWindowProjectBudgetDetail.ClientID%>");
            oWnd.setUrl("ProjectBudgetDetail.aspx?uid=" + Uid + "&type=" + Type + "&Phase=" + Phase + "&Actual=" + Actual);
            oWnd.setSize(1200, 800);
            oWnd.show();
        }

        function ShowProjectBudgetSummaryDetailPopup(Uid, Type, Phase, Actual, Header) {

            if (Header == 'Actual') {
                var oWnd = $find("<%=RadWindowProjectBudgetDetail.ClientID%>");
                oWnd.setUrl("ProjectBudgetSummaryDetail.aspx?uid=" + Uid + "&type=" + Type + "&Phase=0&Actual=" + Actual);
                oWnd.setSize(1200, 800);
                oWnd.show();
            }
          }

        function ShowProjectAddTicketPopup() {

            var ur = document.getElementById('<%= lnkaddTicket.ClientID%>').value;

            window.open(ur, "_blank", "toolbar=no,scrollbars=no,resizable=no,top=0,left=100,width=1100,height=1050");

        }



        function UpdateFirstCallFlag(obj) {

            _firstCall = 0;
            if (obj != "0") {
                noty({
                    text: 'This invoice is paid and cannot be edited.', type: 'warning', layout: 'topCenter',
                    closeOnSelfClick: true, timeout: 5000, theme: 'noty_theme_default', closable: false, dismissQueue: true
                });
                return false;
            }
            return true;
        }
        function UpdateRetainage(obj) {
            $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                var $tr = $(this);
                //debugger
                var txtRetainageAmount = $tr.find('input[id*=txtRetainagePer]');
                $(txtRetainageAmount).val(parseFloat($(obj).val()).toFixed(2));
                CalculateRetainagePerTotal();
            });
        }
    </script>

    <script>
        function openfileDialog() {
            $("#<%=FileUploadControl.ClientID%>").click();
        }
        function UploadFile(fileUpload) {
            if (fileUpload.value != '') {
                document.getElementById("<%=lnkFileUploaded.ClientID %>").click();
            }
        }
        function UpdateBillCodeMissing(obj) {
            var lineNo = document.getElementById(obj.id.replace('ddlBillingCode', 'hdnLine'));
            $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                var $tr = $(this);
                var ddlBillingCode = $tr.find('select[id*=ddlBillingCode]');
                var txtTotalBilled = $tr.find('input[id*=txtTotalBilled]');
                var hdnLine = $tr.find('input[id*=hdnLine]');
                if (txtTotalBilled.val() != '0.00' && hdnLine.val()) {
                    if (ddlBillingCode.val() == 0) {
                        ddlBillingCode.val(obj.value);
                    }

                }

            });
        }
        function CloseEmailPopup() {
            $find('SendEmailBehavior').hide();
            $("#<%=hdnEmailPopupOpened.ClientID%>").val("");
        }

        function UploadAttachment(value) {
            var filename;
            var fullPath = value;
            if (fullPath) {
                var startIndex = (fullPath.indexOf('\\') >= 0 ? fullPath.lastIndexOf('\\') : fullPath.lastIndexOf('/'));
                filename = fullPath.substring(startIndex);
                if (filename.indexOf('\\') === 0 || filename.indexOf('/') === 0) {
                    filename = filename.substring(1);
                }
            }

            if (confirm('Attach ' + filename + '?')) {
                document.getElementById('<%= lnkUploadAttachment.ClientID %>').click();
            }
        }
    </script>

    <script type="text/javascript">

        $("#<%=ddlDateRange.ClientID%>").change(function () {
            var ddlval = $('option:selected', $(this)).text();
            if (ddlval == 'Cumulative') {
                document.getElementById("<%=txtfromDate.ClientID%>").style.display = 'none';
                document.getElementById("<%=txtToDate.ClientID%>").style.display = 'none';
            }
            else {

                document.getElementById("<%=txtfromDate.ClientID%>").style.display = 'block';
                document.getElementById("<%=txtToDate.ClientID%>").style.display = 'block';
            }
        });




        <%--$("#ctl00_ContentPlaceHolder1_RadWindowProjectGroup_C_txtPopupGroupName").keyup(function () {
            debugger
            var curVal = $(this).val();
            var valName = document.getElementById("<%=rfvGroupName.ClientID%>");
            //ValidatorEnable(valName, curVal == "");
            
        });--%>

</script>
    <script>
        function CloseEstimateWindow() {
            var wnd = $find('<%=EstimateWindow.ClientID %>');
            wnd.Close();
        }

        function ShowEstimateWindow() {
            var wnd = $find('<%=EstimateWindow.ClientID %>');
            wnd.set_title("Estimate");
            wnd.Show();
        }

    </script>
    <script>
        function CalculateGridAmount() {
            try {
                // debugger;
                var grid = $find("<%= gvWIPs.ClientID %>");
                var masterTable = grid.get_masterTableView();

                var gstTaxRate = parseFloat($("#<%=hdnGST.ClientID%>").val());
                var pstTaxRate = parseFloat($("#<%=txtSalesTax.ClientID%>").val());
                var taxtype = parseFloat($("#<%=hdnTaxType.ClientID%>").val());
                if (masterTable.get_dataItems().length > 0) {

                    var AmountTotal = 0;


                    for (i = 0; i < masterTable.get_dataItems().length; i++) {

                        var staxAmt = 0;
                        var gtaxAmt = 0;

                        var row = masterTable.get_dataItems()[i];
                        var txtCompletedThisPeriod = masterTable.getCellByColumnUniqueName(row, "CompletedThisPeriod");
                        var RetainageAmount = masterTable.getCellByColumnUniqueName(row, "RetainageAmount");
                        var txtGSTTax = masterTable.getCellByColumnUniqueName(row, "GSTAmount");
                        var chkEnableGSTTax = masterTable.getCellByColumnUniqueName(row, "GSTable");
                        var chkTaxable = masterTable.getCellByColumnUniqueName(row, "Taxable");
                        var txtPSTTax = masterTable.getCellByColumnUniqueName(row, "PSTAmount");
                        var TotalInvoice = masterTable.getCellByColumnUniqueName(row, "InvoiceTotal");

                        var amt_Completed = (txtCompletedThisPeriod.childNodes[1].value).replace(/[\$\(\),]/g, '');
                        var amt_Retainage = (RetainageAmount.childNodes[1].value).replace(/[\$\(\),]/g, '');


                        if (taxtype == "3") {
                            gtaxAmt = 0;
                            staxAmt = 0;
                        } else {
                            if (taxtype !== "2") {
                                if (chkEnableGSTTax != null && chkEnableGSTTax.childNodes[1].checked == true) {
                                    //gtaxAmt = Math.round((parseFloat(amt_Completed - amt_Retainage) * gstTaxRate) / 100);                
                                    gtaxAmt = ((parseFloat(amt_Completed) - parseFloat(amt_Retainage)) * gstTaxRate) / 100;
                                }
                            }

                            if (chkTaxable != null && chkTaxable.childNodes[1].checked == true) {
                                if (taxtype == 1) {
                                    staxAmt = (((parseFloat(amt_Completed) - parseFloat(amt_Retainage)) + parseFloat(gtaxAmt)) * pstTaxRate) / 100;
                                } else {
                                    staxAmt = (((parseFloat(amt_Completed) - parseFloat(amt_Retainage))) * pstTaxRate) / 100;
                                }


                            }
                        }
                        if (txtPSTTax != null) {
                            txtPSTTax.childNodes[1].value = roundNumber(staxAmt);
                        }


                        if (txtGSTTax != null) {
                            txtGSTTax.childNodes[1].value = parseFloat(gtaxAmt).toFixed(2);
                        }

                        TotalInvoice.childNodes[1].value = roundNumber(parseFloat(parseFloat(amt_Completed) - parseFloat(amt_Retainage)) + parseFloat(parseFloat(staxAmt) + parseFloat(gtaxAmt)));

                        AmountTotal = parseFloat(AmountTotal) + parseFloat(TotalInvoice.childNodes[1].value);
                    }
                    console.log(AmountTotal);

                    $('.lblTotalTotalInvoice').html(cleanUpCurrency("$" + (roundNumber(AmountTotal)).toLocaleString("en-US", { minimumFractionDigits: 2 })));

                }
            } catch (e) {

            }
        }
        function roundNumber(currentVal) {
            //debugger
            return Math.round(currentVal * 100) / 100
        }
        function validateBilling() {
            var txtBillRate = $('#<%=txtBillRate.ClientID%>').val();
            var txtNt = $('#<%=txtNt.ClientID%>').val();
            var txtOt = $('#<%=txtOt.ClientID%>').val();
            var txtDt = $('#<%=txtDt.ClientID%>').val();
            var txtTravel = $('#<%=txtTravel.ClientID%>').val();
            var txtMileage = $('#<%=txtMileage.ClientID%>').val();


            if (txtBillRate != '' && parseFloat(txtBillRate) < 0) {
                return 'Billing rate amount must be a positive number. Please correct to proceed.'
            }
            if (txtNt != '' && parseFloat(txtNt) < 0) {
                return '1.7 Rate amount must be a positive number. Please correct to proceed.'
            }
            if (txtOt != '' && parseFloat(txtOt) < 0) {
                return 'OT Rate amount must be a positive number. Please correct to proceed.'
            }
            if (txtDt != '' && parseFloat(txtDt) < 0) {
                return 'DT Rate amount must be a positive number. Please correct to proceed.'
            }
            if (txtTravel != '' && parseFloat(txtTravel) < 0) {
                return 'Travel Rate amount must be a positive number. Please correct to proceed.'
            }
            if (txtMileage != '' && parseFloat(txtMileage) < 0) {
                return 'Mileage amount must be a positive number. Please correct to proceed.'
            }
            return '';

        }
    </script>
    <script>
        function fillBillingCode() {
            var billingCode = $("#<%=hdnUnrecognizedRevenue.ClientID%>").val();
            var txt = $("#<%=txtUnrecognizedRevenue.ClientID%>").val();
            if (txt != '') {

                $("#<%=gvWIPs.ClientID %>").find('tbody tr').each(function () {
                    var $tr = $(this);
                    $tr.find('select[id*=ddlBillingCode]').val(billingCode);
                });
            }
        }
    </script>
    <script>
        $("[id*=txtLabRate]").dblclick(function () {
            OpenRadWindowLaborRate(this);
        });

        function OpenRadWindowLaborRate(e) {
            //alert($(e).val());
            var txtCurrentLaborRate = $(e).val();
            $('#<%=txtPopupLaborRate.ClientID%>').val(txtCurrentLaborRate);
            var wnd = $find('<%=RadWindowBOMLaborRate.ClientID %>');
            wnd.set_title('Updating Labor Rate');
            wnd.Show();
            Materialize.updateTextFields();
        }

        function CloseRadWindowLaborRate() {
            var valName = document.getElementById("<%=rfvBOMLaborRate.ClientID%>");
            ValidatorEnable(valName, false);
            var wnd = $find('<%=RadWindowBOMLaborRate.ClientID %>');
            wnd.Close();
        }

        function lnkAllLaborRate_Yes_ClientClick() {
            var valName = document.getElementById("<%=rfvBOMLaborRate.ClientID%>");
            ValidatorEnable(valName, true);
            var newLaborRate = $('#<%=txtPopupLaborRate.ClientID%>').val();
            $("[id*=txtLabRate]").each(function (index, item) {
                var txtLabRateId = $(item).attr('id');
                var txtHoursId = txtLabRateId.replace('txtLabRate', 'txtHours');
                var hoursVal = $('#' + txtHoursId).val();
                if (!isNaN(parseFloat(hoursVal)) && parseFloat(hoursVal) != 0) {
                    $(item).val(newLaborRate);
                    //CalculateLbOnly(item);
                    calLabExt(item);
                }
            });

            //CalculateEstimateBOM();
            //UpdateProfit();

            CloseRadWindowLaborRate();
        }

        function lnkAllLaborRate_No_ClientClick() {
            CloseRadWindowLaborRate();
        }

        function OpenRadWindowMaterialRate(e) {
            //alert($(e).val());
            var txtCurrentMaterialRate = $('#<%=hdnPopupMaterialRate.ClientID%>').val();
            //var txtCurrentMaterialRate = $(e).val();
            $('#<%=txtPopupMaterialRate.ClientID%>').val(txtCurrentMaterialRate);
            var wnd = $find('<%=RadWindowBOMMaterialRate.ClientID %>');
            wnd.set_title('Updating Material Rate');
            wnd.Show();
            var valName = document.getElementById("<%=rfvBOMMaterialRate.ClientID%>");
            ValidatorEnable(valName, true);
            Materialize.updateTextFields();
        }

        function CloseRadWindowMaterialRate() {
            var valName = document.getElementById("<%=rfvBOMMaterialRate.ClientID%>");
            ValidatorEnable(valName, false);
            var wnd = $find('<%=RadWindowBOMMaterialRate.ClientID %>');
            wnd.Close();
        }

        function lnkAllMaterialRate_Yes_ClientClick() {
            var valName = document.getElementById("<%=rfvBOMMaterialRate.ClientID%>");
            //debugger
            //ValidatorEnable(valName, true);
            if (Page_IsValid) {
                var newMaterialRate = $('#<%=txtPopupMaterialRate.ClientID%>').val();
                var materialTypeChange = $('#<%=ddlPopupMaterialType.ClientID%>').val();

                if (!isNaN(parseFloat(newMaterialRate)) && parseFloat(newMaterialRate) != 0) {
                    if (materialTypeChange == "0") {
                        $("[id*=txtBudgetUnit]").each(function (index, item) {
                            var txtBudgetUnitId = $(item).attr('id');
                            //var txtQtyReqId = txtBudgetUnitId.replace('txtBudgetUnit', 'txtQtyReq');
                            var budgetUnitVal = $('#' + txtBudgetUnitId).val();
                            if (!isNaN(parseFloat(budgetUnitVal)) && parseFloat(budgetUnitVal) != 0) {
                                var newBudgetUnit = parseFloat(budgetUnitVal) / parseFloat(newMaterialRate);

                                $(item).val(newBudgetUnit.toFixed(2));
                                //CalculateLbOnly(item);
                                calBudgetExt(item);
                            }
                        });
                    } else {

                        $("[id*=txtBudgetUnit]").each(function (index, item) {
                            var txtBudgetUnitId = $(item).attr('id');
                            //var txtQtyReqId = txtBudgetUnitId.replace('txtBudgetUnit', 'txtQtyReq');
                            var budgetUnitVal = $('#' + txtBudgetUnitId).val();
                            if (!isNaN(parseFloat(budgetUnitVal)) && parseFloat(budgetUnitVal) != 0) {
                                var newBudgetUnit = parseFloat(budgetUnitVal) * parseFloat(newMaterialRate);

                                $(item).val(newBudgetUnit);
                                //CalculateLbOnly(item);
                                calBudgetExt(item);
                            }
                        });
                    }
                    $('#<%=hdnPopupMaterialRate.ClientID%>').val(newMaterialRate);
                }
                //CalculateEstimateBOM();
                //UpdateProfit();

                CloseRadWindowMaterialRate();
            }
        }

        function lnkAllMaterialRate_No_ClientClick() {
            CloseRadWindowMaterialRate();
        }
        function isDecimalKey4(el, evt) {
            var charCode = (evt.which) ? evt.which : event.keyCode;
            if (charCode == 45) {
                return true;
            }
            var number = el.value.split('.');
            if (charCode != 46 && charCode > 31 && (charCode < 48 || charCode > 57)) {
                return false;
            }
            if (number.length > 1 && charCode == 46) {
                return false;
            }
            var caratPos = getSelectionStart(el);
            var dotPos = el.value.indexOf(".");
            if (caratPos > dotPos && dotPos > -1 && (number[1].length > 3)) {
                return false;
            }
            return true;
        }
    </script>

    <script>
        function CloseReverseWindow() {
            var wnd = $find('<%=RadWindowReverse.ClientID %>');
            wnd.Close();
        }
        function OpenReverseWindow() {
            var item = 0;
            var checkedCheckboxes = $("#<%=gvProgressBilling.ClientID%> input[id*='chkSelect']:checkbox:checked");
            if (checkedCheckboxes.length > 0) {

                var WIPIDs = "";
                for (var i = 0; i < checkedCheckboxes.length; i++) {
                    WIPIDs += "," + $(checkedCheckboxes[i]).next().val();
                    var id = checkedCheckboxes[i].id;
                    var invoiceID = document.getElementById(id.replace('chkSelect', 'hlnkInvoice'));
                    if (invoiceID.innerHTML != "") {
                        item = item + 1;
                    }
                }


                $('#<%=hdnWIPIDs.ClientID%>').val(WIPIDs.substring(1));
                if (item == 0) {
                    noty({
                        text: 'Please have at least one Invoice selected',
                        type: 'warning',
                        layout: 'topCenter',
                        closeOnSelfClick: false,
                        timeout: 4000,
                        theme: 'noty_theme_default',
                        closable: true
                    });
                } else {
                    var windowReverse = $find('<%=RadWindowReverse.ClientID %>');
                    windowReverse.Show();

                    var date = new Date();




                    var dd = date.getDate();
                    var mm = date.getMonth() + 1;
                    var y = date.getFullYear();



                    $('#<%=txtReserveDate.ClientID%>').val(mm + '/' + dd + '/' + y);
                    Materialize.updateTextFields();
                }
            }
            else {
                noty({
                    text: 'Please have at least one Invoice selected',
                    type: 'warning',
                    layout: 'topCenter',
                    closeOnSelfClick: false,
                    timeout: 4000,
                    theme: 'noty_theme_default',
                    closable: true
                });
            }

            return false;
        }

        function ValidatePeriodDate() {
            var value = $("#<%=hdnprojectID.ClientID%>").val();
            if (value != "0") {
                var validationBillingCode = ValidateInActiveBillingCode();
                if (validationBillingCode == false) {
                    return false;
                }
            }
            if ($('#<%=txtReserveDate.ClientID%>').val() == '') {
                noty({
                    text: 'Please input reverse date',
                    type: 'warning',
                    layout: 'topCenter',
                    closeOnSelfClick: false,
                    timeout: 5000,
                    theme: 'noty_theme_default',
                    closable: true
                });
                return false;
            }
            var periodStartDate = new Date($('#<%=hdnPeriodStartDate.ClientID%>').val());
            var periodEndDate = new Date($('#<%=hdnPeriodEndDate.ClientID%>').val());
            var reverseDate = new Date($('#<%=txtReserveDate.ClientID%>').val());
            if (periodStartDate <= reverseDate && reverseDate <= periodEndDate) {
                return true;
            }
            else {
                noty({
                    text: 'These month/year period is closed out. You do not have permission to add/update this record.',
                    type: 'warning',
                    layout: 'topCenter',
                    closeOnSelfClick: false,
                    timeout: 5000,
                    theme: 'noty_theme_default',
                    closable: true
                });
                return false;
            }
        }

        function aceOpportunity_itemSelected(sender, e) {
            var obj = document.getElementById('<%= hdnOpportunityId.ClientID %>');
            obj.value = e.get_value();
            debugger
            document.getElementById('<%= lnkReloadEstimates.ClientID %>').click();
        }

        function SetContextKey() {
            var value = $("#<%=hdnprojectID.ClientID%>").val();
            $find('<%=OpportunityAutoCompleteExtender.ClientID%>').set_contextKey(value);
        }

        function RefreshOnEmpty() {
            var value = $("#<%=txtOpportunity.ClientID%>").val();
            if (value == '') {
                var obj = document.getElementById('<%= hdnOpportunityId.ClientID %>');
                obj.value = '';
                document.getElementById('<%= lnkReloadEstimates.ClientID %>').click();
            }

        }

    </script>
</asp:Content>
